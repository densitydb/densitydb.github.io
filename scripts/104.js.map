{"version":3,"file":"104.js","sources":["webpack://assets/./src/components/plots.css","webpack://assets/./src/components/table.css","webpack://assets/./src/components/ArticleWarnings.tsx","webpack://assets/./src/components/Icon.tsx","webpack://assets/./src/components/ArticleMap.tsx","webpack://assets/./src/data/metadata.ts","webpack://assets/./src/components/ExternalLiinks.tsx","webpack://assets/./src/data/relatedButtonColors.ts","webpack://assets/./src/components/related-button.tsx","webpack://assets/./src/components/article-panel.tsx","webpack://assets/./src/components/comparison-panel.tsx","webpack://assets/./src/sorting.ts","webpack://assets/./src/components/editable-field.tsx","webpack://assets/./src/components/plots.css?871a","webpack://assets/./src/components/plots-general.tsx","webpack://assets/./src/components/plots-histogram.tsx","webpack://assets/./src/components/plots-timeseries.tsx","webpack://assets/./src/components/plots.tsx","webpack://assets/./src/components/table.css?1d6c","webpack://assets/./src/components/table.tsx","webpack://assets/./src/components/supertable.tsx","webpack://assets/./src/utils/Property.ts","webpack://assets/./src/utils/transpose.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.histogram-svg-panel svg {\n    max-height: 100%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/plots.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;AACpB\",\"sourcesContent\":[\".histogram-svg-panel svg {\\n    max-height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.value_unit {\n    text-align: left;\n    padding-right: 1em;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/table.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;IAChB,kBAAkB;AACtB\",\"sourcesContent\":[\".value_unit {\\n    text-align: left;\\n    padding-right: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import React, { ReactNode } from 'react'\n\nimport { useColors } from '../page_template/colors'\nimport { checkboxCategoryName, sourceEnabledKey, useSettings } from '../page_template/settings'\nimport { groupYearKeys, useAvailableYears, useDataSourceCheckboxes, useGroupsMissingYearSelection, useSelectedGroups } from '../page_template/statistic-settings'\nimport { Category, Group } from '../page_template/statistic-tree'\n\nimport { useScreenshotMode } from './screenshot'\n\nexport function ArticleWarnings(): ReactNode {\n    const screenshotMode = useScreenshotMode()\n    const selectedGroups = useSelectedGroups()\n    const groupsMissingYearSelection = useGroupsMissingYearSelection()\n    const availableYears = useAvailableYears()\n    const dataSourceCheckboxes = useDataSourceCheckboxes()\n    const settings = useSettings(groupYearKeys())\n\n    const allUncheckedSourceGroups = dataSourceCheckboxes\n        .filter(({ category, checkboxSpecs }) => checkboxSpecs\n            .every(({ name, forcedOn }) => !forcedOn && !settings[sourceEnabledKey({ category, name })]))\n\n    if (screenshotMode) {\n        return null\n    }\n    const warnings = selectedGroups.length === 0\n        ? [\n                <b key=\"noneSelected\">\n                    No Statistic Categories are selected\n                </b>,\n            ]\n        : [\n                ...groupsMissingYearSelection.map(groupOrCategory => (\n                    <>\n                        To see\n                        {' '}\n                        <b><HierarchicalName groupOrCategory={groupOrCategory} /></b>\n                        {' statistics, select '}\n                        <YearList years={availableYears.filter(year => groupOrCategory.years.has(year))} />\n                        .\n                    </>\n                )),\n                ...allUncheckedSourceGroups.map(({ category }) => (\n                    <>\n                        All statistics from the\n                        {' '}\n                        <b>{checkboxCategoryName(category)}</b>\n                        {' '}\n                        are disabled.\n                    </>\n                )),\n            ]\n\n    if (warnings.length === 0) {\n        return null\n    }\n\n    return <WarningBox warnings={warnings} />\n}\n\nfunction WarningBox({ warnings }: { warnings: ReactNode[] }): ReactNode {\n    const colors = useColors()\n\n    return (\n        <div\n            style={{\n                backgroundColor: colors.slightlyDifferentBackgroundFocused,\n                borderRadius: '5px',\n            }}\n            data-test-id=\"article-warnings\"\n        >\n            <ul style={{\n                paddingTop: '1em',\n                paddingBottom: '1em',\n            }}\n            >\n                {\n                    warnings.map(\n                        (warning, key) => (\n                            <li key={key}>\n                                {warning}\n                            </li>\n                        ),\n                    )\n                }\n            </ul>\n        </div>\n    )\n}\n\nfunction HierarchicalName({ groupOrCategory }: { groupOrCategory: Group | Category }): ReactNode {\n    switch (groupOrCategory.kind) {\n        case 'Group':\n            return `${groupOrCategory.parent.name} > ${groupOrCategory.name}`\n        case 'Category':\n            return groupOrCategory.name\n    }\n}\n\nfunction YearList({ years }: { years: number[] }): ReactNode {\n    switch (years.length) {\n        case 0:\n            return null\n        case 1:\n            return <b>{years[0]}</b>\n        case 2:\n            return (\n                <>\n                    <b>{years[0]}</b>\n                    {' or '}\n                    <b>{years[1]}</b>\n                </>\n            )\n        case 3:\n            return (\n                <>\n                    <b>{years[0]}</b>\n                    {', '}\n                    <b>{years[1]}</b>\n                    {', or '}\n                    <b>{years[2]}</b>\n                </>\n            )\n        default:\n            return (\n                <>\n                    <b>{years[0]}</b>\n                    {', '}\n                    <YearList years={years.slice(1)} />\n                </>\n            )\n    }\n}\n","/**\n * This only uses the transparency of the icon image to display the specified color.\n */\n\nimport React, { CSSProperties, ReactNode } from 'react'\n\nexport function Icon({ size, color, src, style }: { size: string, color: string, src: string, style?: Partial<CSSProperties> }): ReactNode {\n    return (\n        <div style={{ backgroundColor: color, width: size, height: size, maskImage: `url(${src})`, maskRepeat: 'no-repeat', maskSize: 'contain', maskPosition: 'center', ...style }} />\n    )\n}\n","import React, { ReactNode, useMemo, useState } from 'react'\nimport { FullscreenControl, MapRef } from 'react-map-gl/maplibre'\n\nimport 'maplibre-gl/dist/maplibre-gl.css'\nimport { RelativeLoader } from '../navigation/loading'\nimport { useColors } from '../page_template/colors'\nimport { relatedSettingsKeys, relationshipKey, useSettings } from '../page_template/settings'\nimport { randomColor } from '../utils/color'\nimport { notWaiting, waiting } from '../utils/promiseStream'\nimport { IRelatedButton, IRelatedButtons } from '../utils/protos'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { NormalizeProto } from '../utils/types'\n\nimport { CommonMaplibreMap, Polygon, PolygonFeatureCollection, polygonFeatureCollection, useZoomFirstFeature } from './map-common'\n\ninterface ArticleMapProps {\n    articleType: string\n    related: NormalizeProto<IRelatedButtons>[]\n    longname: string\n}\n\nexport function ArticleMap(props: ArticleMapProps): ReactNode {\n    const [mapRef, setMapRef] = useState<MapRef | null>(null)\n\n    const features = useArticleFeatures(props).use()\n\n    const readyFeatures = useMemo(() => features.filter(notWaiting), [features])\n\n    useZoomFirstFeature(mapRef, features)\n\n    const firstFeatureWaiting = features.length > 0 && features[0] === waiting\n\n    return (\n        <div style={{ position: 'relative' }}>\n            <RelativeLoader loading={firstFeatureWaiting} />\n            <CommonMaplibreMap\n                ref={setMapRef}\n            >\n                <PolygonFeatureCollection features={readyFeatures} clickable={true} />\n                <FullscreenControl position=\"top-left\" />\n            </CommonMaplibreMap>\n        </div>\n    )\n}\n\nfunction useArticleFeatures({ articleType, related, longname }: ArticleMapProps): {\n    use: () => (GeoJSON.Feature | typeof waiting)[]\n} {\n    const settings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const relatedCheckboxSettings = useSettings(relatedSettingsKeys(articleType))\n\n    const colors = useColors()\n\n    return useMemo(() => {\n        const getRelated = (key: string): NormalizeProto<IRelatedButton>[] => {\n            const element = related.filter(\n                x => x.relationshipType === key)\n                .map(x => x.buttons)[0]\n            return element\n        }\n\n        const relateds = [\n            ...getRelated('contained_by'),\n            ...getRelated('intersects'),\n            ...getRelated('borders'),\n            ...getRelated('contains'),\n            ...getRelated('same_geography'),\n        ]\n\n        const relatedShapes = (() => {\n            const result: Polygon[] = []\n            for (let i = relateds.length - 1; i >= 0; i--) {\n                if (!isAllowedToBeShown(relateds[i].rowType, settings)) {\n                    continue\n                }\n                const key = relationshipKey(articleType, relateds[i].rowType)\n                if (!relatedCheckboxSettings[key]) {\n                    continue\n                }\n\n                const color = randomColor(relateds[i].longname)\n                result.push({\n                    name: relateds[i].longname,\n                    color, weight: 1, fillColor: color, fillOpacity: 0.1,\n                })\n            }\n            return result\n        })()\n\n        const color = colors.hueColors.blue\n\n        return polygonFeatureCollection([\n            {\n                name: longname,\n                fillOpacity: 0.5, weight: 1, color, fillColor: color,\n                clickable: false,\n            },\n            ...relatedShapes,\n        ])\n    }, [articleType, colors.hueColors.blue, longname, related, relatedCheckboxSettings, settings])\n}\n","export default {\n    \"displayed_metadata\": [\n        {\n            \"index\": 0,\n            \"name\": \"US Census GeoID\"\n        },\n        {\n            \"index\": 1,\n            \"name\": \"StatCan GeoCode\"\n        },\n        {\n            \"index\": 4,\n            \"name\": \"ISO Code\"\n        }\n    ],\n    \"external_link_metadata\": [\n        {\n            \"index\": 2,\n            \"site\": \"Wikidata\",\n            \"link_prefix\": \"https://www.wikidata.org/wiki/\",\n            \"normalizer\": null\n        },\n        {\n            \"index\": 3,\n            \"site\": \"Wikipedia\",\n            \"link_prefix\": \"https://en.wikipedia.org/wiki/\",\n            \"normalizer\": \"wikipedia\"\n        }\n    ]\n} as const","import React, { ReactNode } from 'react'\n\nimport metadata from '../data/metadata'\nimport { Colors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { assert } from '../utils/defensive'\nimport { IMetadata } from '../utils/protos'\n\ntype ExternalLinkSpec = (typeof metadata.external_link_metadata)[number]\ntype NormalizerSpec = ExternalLinkSpec['normalizer']\n\nexport function ExternalLinks(props: { metadataProtos: IMetadata[] }): ReactNode {\n    const elementsEach = metadata.external_link_metadata.flatMap((meta) => {\n        const foundMetadata = props.metadataProtos.find(m => m.metadataIndex === meta.index)\n        if (foundMetadata === undefined) {\n            return []\n        }\n        return [<ExternalLink key={meta.index} meta={meta} metaProto={foundMetadata} />]\n    })\n\n    return <>{elementsEach}</>\n}\n\nfunction ExternalLink(props: { meta: ExternalLinkSpec, metaProto: IMetadata }): ReactNode {\n    const colors = useColors()\n    const sv = props.metaProto.stringValue\n    assert(sv !== undefined && sv !== null, `ExternalLink: stringValue is undefined for metadata index ${props.meta.index}`)\n    return (\n        <a\n            href={props.meta.link_prefix + computeLinkSuffix(props.meta.normalizer, sv)}\n        >\n            <img\n                style={{ height: '36px', marginRight: '8px', verticalAlign: 'middle' }}\n                src={imageURLFor(props.meta.site, colors)}\n            />\n        </a>\n    )\n}\n\nfunction computeLinkSuffix(normalizer: NormalizerSpec, sv: string): string {\n    switch (normalizer) {\n        case null:\n            return sv\n        case 'wikipedia':\n            return sv.replace(/ /g, '_')\n    }\n}\n\nfunction imageURLFor(site: ExternalLinkSpec['site'], colors: Colors): string {\n    switch (site) {\n        case 'Wikipedia':\n            return '/wikipedia.svg'\n        case 'Wikidata':\n            return colors.wikidataURL\n    }\n}\n","export default [\n    [\n        \"International\",\n        \"red\"\n    ],\n    [\n        \"International City\",\n        \"red\"\n    ],\n    [\n        \"US Subdivision\",\n        \"blue\"\n    ],\n    [\n        \"US City\",\n        \"blue\"\n    ],\n    [\n        \"Census\",\n        \"cyan\"\n    ],\n    [\n        \"Political\",\n        \"purple\"\n    ],\n    [\n        \"Oddball\",\n        \"darkGrey\"\n    ],\n    [\n        \"Kavi\",\n        \"brown\"\n    ],\n    [\n        \"School\",\n        \"yellow\"\n    ],\n    [\n        \"Small\",\n        \"pink\"\n    ],\n    [\n        \"Native\",\n        \"green\"\n    ]\n] as const","import React, { ReactNode, useContext, useId } from 'react'\n\nimport relatedButtonColors from '../data/relatedButtonColors'\nimport type_ordering_idx from '../data/type_ordering_idx'\nimport type_to_type_category from '../data/type_to_type_category'\nimport { Navigator } from '../navigation/Navigator'\nimport { HueColors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { relationshipKey, useSettings } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { DefaultMap } from '../utils/DefaultMap'\nimport { mixWithBackground } from '../utils/color'\nimport { useMobileLayout } from '../utils/responsive'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { displayType } from '../utils/text'\n\nimport { CheckboxSetting } from './sidebar'\n\ninterface Region { rowType: string, longname: string, shortname: string }\n\nconst propForRegionTypes = 0.20\nconst spacing = 2\n\nfunction colorsEach(colors: HueColors): Record<string, string> {\n    const keys: [string, string][] = relatedButtonColors.map(\n        ([typ, color]) => [typ, colors[color]],\n    )\n    return Object.fromEntries(keys)\n}\n\nfunction useRelatedColor(rowType: string, colorIntensity: number): string {\n    const colors = useColors()\n    const typeCategory = type_to_type_category[rowType]\n    const color = colorsEach(colors.hueColors)[typeCategory]\n    return mixWithBackground(color, (colors.mixPct + (100 - colors.mixPct) * (1 - colorIntensity)) / 100, colors.background)\n}\n\nfunction RelatedButton(props: { region: Region }): ReactNode {\n    const currentUniverse = useUniverse()\n    const colors = useColors()\n    const navContext = useContext(Navigator.Context)\n    return (\n        <li style={{\n            display: 'flex',\n            margin: `${spacing}px`,\n        }}\n        >\n            <a\n                className=\"serif\"\n                style={{\n                    color: colors.textMain,\n                    backgroundColor: useRelatedColor(props.region.rowType, 1),\n                    textDecoration: 'none',\n                    padding: '2px 6px 2px 6px',\n                    borderRadius: '5px',\n                    fontWeight: 400,\n                    fontSize: useMobileLayout() ? '12pt' : '8pt',\n                }}\n                {...navContext.link(\n                    { kind: 'article', longname: props.region.longname, universe: currentUniverse },\n                    { scroll: { kind: 'position', top: 0 } },\n                )}\n            >\n                {props.region.shortname}\n            </a>\n        </li>\n    )\n}\n\nfunction Label(props: { checkId: string, children: ReactNode, fontWeight: number }): ReactNode {\n    return (\n        <div\n            className=\"serif\"\n            style={{\n                fontSize: useMobileLayout() ? '12pt' : '10pt',\n                fontWeight: props.fontWeight,\n                alignContent: 'center',\n                margin: `${spacing}px`,\n            }}\n        >\n            <label htmlFor={props.checkId}>\n                {props.children}\n            </label>\n        </div>\n    )\n}\n\nfunction RelationshipGroup(props: { regions: Region[], checkId: string, relationshipType: string, groupIndex: number, buttonType: string, numGroups: number }): ReactNode {\n    function displayName(name: string): string {\n        name = name.replaceAll('_', ' ')\n        // title case\n        name = name.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase()\n        })\n        return name\n    }\n\n    const backgroundColor = useRelatedColor(props.buttonType, props.groupIndex % 2 === 0 ? 0.3 : 0.4)\n\n    return (\n        <ul\n            style={{\n                display: 'flex',\n                flexFlow: 'row wrap',\n                paddingInlineStart: '0px',\n                listStyleType: 'none',\n                padding: `${spacing}px`,\n                paddingLeft: `${spacing}px`, // Prevents errors\n                ...(props.numGroups > 1\n                    ? {\n                            backgroundColor,\n                            // Border radius if first or last group\n                            borderRadius: props.groupIndex === 0 ? '5px 5px 0 0' : (props.groupIndex === props.numGroups - 1 ? '0 0 5px 5px' : undefined),\n                            paddingLeft: `${2 * spacing}px`,\n                        }\n                    : {}),\n            }}\n        >\n            <Label checkId={props.checkId} fontWeight={400}>\n                {displayName(props.relationshipType)}\n            </Label>\n            {\n                props.regions.map((row, i) => (\n                    <RelatedButton\n                        key={i}\n                        region={row}\n                    />\n                ),\n                )\n            }\n        </ul>\n    )\n}\n\nfunction Row(props: {\n    articleType: string\n    buttonType: string\n    regions: Map<string, Region[]>\n    rowIndex: number\n    totalRows: number\n}): ReactNode {\n    const settingKey = relationshipKey(props.articleType, props.buttonType)\n\n    const checkId = useId()\n\n    const universe = useUniverse()\n\n    return (\n        <li style={{\n            paddingInlineStart: '0px',\n            listStyleType: 'none',\n            margin: 0,\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            position: 'relative',\n            backgroundColor: useRelatedColor(props.buttonType, props.rowIndex % 2 === 0 ? 0.1 : 0.2),\n            // Border radius if first or last row\n            borderRadius: props.rowIndex === 0 ? '5px 5px 0 0' : (props.rowIndex === props.totalRows - 1 ? '0 0 5px 5px' : undefined),\n        }}\n        >\n            <div style={{\n                display: 'flex',\n                width: `${100 * propForRegionTypes}%`,\n                alignItems: 'center',\n            }}\n            >\n                <CheckboxSetting\n                    name=\"\"\n                    settingKey={settingKey}\n                    classNameToUse=\"related_checkbox\"\n                    id={checkId}\n                />\n                <Label checkId={checkId} fontWeight={500}>\n                    {displayType(universe, props.buttonType)}\n                </Label>\n            </div>\n            <ul style={{\n                paddingInlineStart: '0px',\n                listStyleType: 'none',\n                margin: 0,\n                width: `${100 * (1 - propForRegionTypes)}%`,\n                display: 'flex',\n                flexDirection: 'column',\n                padding: props.regions.size > 1 ? `${2 * spacing}px` : `0 0 0 ${3 * spacing}px`,\n            }}\n            >\n                {\n                    Array.from(props.regions).map(([relationshipType, regions], i) => {\n                        return (\n                            <RelationshipGroup\n                                key={relationshipType}\n                                regions={regions}\n                                checkId={checkId}\n                                relationshipType={relationshipType}\n                                groupIndex={i}\n                                buttonType={props.buttonType}\n                                numGroups={props.regions.size}\n                            />\n                        )\n                    })\n                }\n            </ul>\n        </li>\n    )\n}\n\nexport function Related(props: { articleType: string, related: { relationshipType: string, buttons: Region[] }[] }): ReactNode {\n    // buttons[rowType][relationshipType] = <list of buttons>\n    const showSettings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const buttons = new DefaultMap<string, DefaultMap<string, Region[]>>(() => new DefaultMap(() => []))\n    for (const relateds of props.related) {\n        for (const button of relateds.buttons) {\n            buttons.get(button.rowType).get(relateds.relationshipType).push(button)\n        }\n    }\n\n    // get a sorted list of keys of buttons\n    const buttonKeys = Array.from(buttons.keys())\n        .sort((a, b) => type_ordering_idx[a] - type_ordering_idx[b])\n        .filter(buttonKey => isAllowedToBeShown(buttonKey, showSettings))\n\n    const elements = buttonKeys.map((key, i) => (\n        <Row\n            key={key}\n            buttonType={key}\n            regions={buttons.get(key)}\n            articleType={props.articleType}\n            rowIndex={i}\n            totalRows={buttonKeys.length}\n        />\n    ))\n\n    return (\n        <ul style={{\n            margin: '1em 0',\n            paddingInlineStart: '0px',\n            listStyleType: 'none',\n        }}\n        >\n            {elements}\n        </ul>\n    )\n}\n","import '../common.css'\nimport './article.css'\n\nimport React, { ReactNode, useContext, useRef } from 'react'\n\nimport { Navigator } from '../navigation/Navigator'\nimport { sanitize } from '../navigation/links'\nimport { useColors } from '../page_template/colors'\nimport { rowExpandedKey, useSetting, useSettings } from '../page_template/settings'\nimport { groupYearKeys, StatGroupSettings } from '../page_template/statistic-settings'\nimport { statParents } from '../page_template/statistic-tree'\nimport { PageTemplate } from '../page_template/template'\nimport { useUniverse } from '../universe'\nimport { Article, IRelatedButtons } from '../utils/protos'\nimport { useComparisonHeadStyle, useHeaderTextClass, useMobileLayout, useSubHeaderTextClass } from '../utils/responsive'\nimport { NormalizeProto } from '../utils/types'\n\nimport { ArticleMap } from './ArticleMap'\nimport { ArticleWarnings } from './ArticleWarnings'\nimport { ExternalLinks } from './ExternalLiinks'\nimport { QuerySettingsConnection } from './QuerySettingsConnection'\nimport { pullRelevantPlotProps } from './comparison-panel'\nimport { generateCSVDataForArticles, CSVExportData } from './csv-export'\nimport { ArticleRow } from './load-article'\nimport { Related } from './related-button'\nimport { createScreenshot, ScreencapElements, useScreenshotMode } from './screenshot'\nimport { SearchBox } from './search'\nimport { CellSpec, PlotSpec, TableContents } from './supertable'\nimport { ColumnIdentifier } from './table'\n\nexport function ArticlePanel({ article, rows }: { article: Article, rows: (settings: StatGroupSettings) => ArticleRow[][] }): ReactNode {\n    const headersRef = useRef<HTMLDivElement>(null)\n    const tableRef = useRef<HTMLDivElement>(null)\n    const mapRef = useRef<HTMLDivElement>(null)\n\n    const screencapElements = (): ScreencapElements => ({\n        path: `${sanitize(article.longname)}.png`,\n        overallWidth: tableRef.current!.offsetWidth * 2,\n        elementsToRender: [headersRef.current!, tableRef.current!, mapRef.current!],\n    })\n\n    const headerTextClass = useHeaderTextClass()\n    const subHeaderTextClass = useSubHeaderTextClass()\n    const comparisonHeadStyle = useComparisonHeadStyle('right')\n\n    const settings = useSettings(groupYearKeys())\n    const filteredRows = rows(settings)[0]\n\n    const csvData = generateCSVDataForArticles([article], [filteredRows], true)\n    const csvFilename = `${sanitize(article.longname)}.csv`\n    const csvExportData: CSVExportData = { csvData, csvFilename }\n\n    return (\n        <>\n            <QuerySettingsConnection />\n            <PageTemplate\n                screencap={(universe, colors) => createScreenshot(screencapElements(), universe, colors)}\n                csvExportData={csvExportData}\n                hasUniverseSelector={true}\n                universes={article.universes}\n            >\n                <div>\n                    <div ref={headersRef}>\n                        <div className={headerTextClass}>{article.shortname}</div>\n                        <div className={subHeaderTextClass}>{article.longname}</div>\n                    </div>\n                    <div style={{ marginBlockEnd: '16px' }}></div>\n\n                    <div ref={tableRef}>\n                        <ArticleTable\n                            filteredRows={filteredRows}\n                            article={article}\n                        />\n                    </div>\n\n                    <p></p>\n\n                    <div ref={mapRef}>\n                        <ArticleMap\n                            longname={article.longname}\n                            related={article.related as NormalizeProto<IRelatedButtons>[]}\n                            articleType={article.articleType}\n                        />\n                    </div>\n\n                    <div style={{ marginBlockEnd: '1em' }}></div>\n\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                        <div style={{ flex: '0 0 auto', marginRight: '1em' }}>\n                            <ExternalLinks metadataProtos={article.metadata} />\n                        </div>\n                        <div style={{ flex: '0 0 auto', marginRight: '1em' }}>\n                            <div className=\"serif\" style={comparisonHeadStyle}>Compare to: </div>\n                        </div>\n                        <div style={{ flex: '1 1 auto' }}>\n                            <ComparisonSearchBox longname={article.longname} type={article.articleType} />\n                        </div>\n                    </div>\n\n                    <Related\n                        related={article.related as NormalizeProto<IRelatedButtons>[]}\n                        articleType={article.articleType}\n                    />\n                </div>\n            </PageTemplate>\n        </>\n    )\n}\n\ntype NameSpec = Extract<CellSpec, { type: 'statistic-name' }>\n\nexport function computeNameSpecsWithGroups(nameSpecs: NameSpec[]): { updatedNameSpecs: NameSpec[], groupNames: (string | undefined)[] } {\n    const updatedNameSpecs: NameSpec[] = []\n    const groupNames: (string | undefined)[] = []\n\n    for (const spec of nameSpecs) {\n        const statParent = statParents.get(spec.row.statpath)\n\n        const groupRows = nameSpecs.filter(s => statParents.get(s.row.statpath)?.group.id === statParent?.group.id)\n        const groupSize = groupRows.length\n\n        const groupSourcesSet = new Set(\n            groupRows\n                .map(s => statParents.get(s.row.statpath)?.source)\n                .filter(source => source !== null)\n                .map(source => source!.name),\n        )\n        const groupHasMultipleSources = groupSourcesSet.size > 1\n\n        const sourceName = statParent?.source?.name\n        let displayName = groupSize > 1 ? (statParent?.indentedName ?? spec.row.renderedStatname) : spec.row.renderedStatname\n        if (groupHasMultipleSources && sourceName) {\n            displayName = `${displayName} [${sourceName}]`\n        }\n\n        updatedNameSpecs.push({\n            ...spec,\n            isIndented: groupSize > 1,\n            displayName,\n        })\n        groupNames.push(groupSize > 1 ? statParent?.group.name : undefined)\n    }\n\n    return { updatedNameSpecs, groupNames }\n}\n\nfunction ArticleTable(props: {\n    filteredRows: ArticleRow[]\n    article: Article\n}): ReactNode {\n    const colors = useColors()\n    const expandedSettings = useSettings(props.filteredRows.map(row => rowExpandedKey(row.statpath)))\n    const expandedEach = props.filteredRows.map(row => expandedSettings[rowExpandedKey(row.statpath)])\n    const currentUniverse = useUniverse()\n    const [simpleOrdinals] = useSetting('simple_ordinals')\n    const navContext = useContext(Navigator.Context)\n\n    const { widthLeftHeader, columnWidth } = useWidths()\n\n    const statNameSpecs: Extract<CellSpec, { type: 'statistic-name' }>[] = props.filteredRows.map(row => ({\n        type: 'statistic-name',\n        longname: props.article.longname,\n        row,\n        currentUniverse,\n    }))\n\n    const { updatedNameSpecs: leftHeaderSpecs, groupNames } = computeNameSpecsWithGroups(statNameSpecs)\n\n    const onlyColumns: ColumnIdentifier[] = ['statval', 'statval_unit', 'statistic_percentile', 'statistic_ordinal', 'pointer_in_class', 'pointer_overall']\n    const cellSpecs: CellSpec[][] = props.filteredRows.map(row => [({\n        type: 'statistic-row',\n        longname: props.article.longname,\n        row,\n        onNavigate: (newArticle) => {\n            void navContext.navigate({\n                kind: 'article',\n                longname: newArticle,\n                universe: currentUniverse,\n            }, { history: 'push', scroll: { kind: 'none' } })\n        },\n        simpleOrdinals,\n        onlyColumns,\n    })])\n\n    const plotSpecs: (PlotSpec | undefined)[] = expandedEach.map((expanded, index) => expanded\n        ? {\n                statDescription: props.filteredRows[index].renderedStatname,\n                plotProps: pullRelevantPlotProps(\n                    props.filteredRows,\n                    index,\n                    colors.hueColors.blue,\n                    props.article.shortname,\n                    props.article.longname,\n                    props.article.articleType,\n                ),\n            }\n        : undefined,\n    )\n\n    const topLeftSpec = { type: 'top-left-header' } satisfies CellSpec\n\n    return (\n        <div className=\"stats_table\">\n            <TableContents\n                leftHeaderSpec={{ leftHeaderSpecs, groupNames }}\n                rowSpecs={cellSpecs}\n                horizontalPlotSpecs={plotSpecs}\n                verticalPlotSpecs={[]}\n                topLeftSpec={topLeftSpec}\n                widthLeftHeader={widthLeftHeader}\n                columnWidth={columnWidth}\n                onlyColumns={onlyColumns}\n                simpleOrdinals={simpleOrdinals}\n            />\n            <ArticleWarnings />\n        </div>\n    )\n}\n\nexport function StatisticHeader(props: {\n    longname: string\n    groupName?: string\n}): ReactNode {\n    return (\n        <div style={{ width: '100%', padding: '1px' }}>\n            <span className=\"serif value\">\n                <span>{props.groupName}</span>\n            </span>\n        </div>\n    )\n}\n\nfunction ComparisonSearchBox({ longname, type }: { longname: string, type: string }): ReactNode {\n    const currentUniverse = useUniverse()\n    const navContext = useContext(Navigator.Context)\n    return (\n        <SearchBox\n            style={{ ...useComparisonHeadStyle(), width: '100%' }}\n            placeholder=\"Other region...\"\n            link={x => navContext.link({\n                kind: 'comparison',\n                universe: currentUniverse,\n                longnames: [longname, x],\n            }, { scroll: { kind: 'position', top: 0 } })}\n            autoFocus={false}\n            prioritizeArticleType={type}\n        />\n    )\n}\n\nfunction useWidths(): { widthLeftHeader: number, columnWidth: number } {\n    const [simpleOrdinals] = useSetting('simple_ordinals')\n    const isMobile = useMobileLayout()\n    const screenshotMode = useScreenshotMode()\n\n    // TODO clean this up and reduce the amount of magic numbers\n    const nonPointerColumns = 15 + 10 + (simpleOrdinals ? 7 + 8 : 17 + 25)\n    const pointerColumns = 8 * (screenshotMode ? 0 : (!simpleOrdinals && isMobile ? 1 : 2))\n    const numerator = 31\n    const denominator = nonPointerColumns + pointerColumns + numerator\n    const widthLeftHeader = 100 * (numerator / denominator)\n    const columnWidth = 100 - widthLeftHeader\n    return { widthLeftHeader, columnWidth }\n}\n","import '../common.css'\nimport './article.css'\n\nimport { DndContext, DragEndEvent, DragOverlay, DragStartEvent, PointerSensor, TouchSensor, useSensor, useSensors, closestCenter } from '@dnd-kit/core'\nimport { SortableContext, arrayMove, horizontalListSortingStrategy, verticalListSortingStrategy } from '@dnd-kit/sortable'\nimport React, { ReactNode, useContext, useId, useMemo, useRef, useState } from 'react'\nimport { FullscreenControl, MapRef } from 'react-map-gl/maplibre'\n\nimport { boundingBox, extendBoxes } from '../map-partition'\nimport { Navigator } from '../navigation/Navigator'\nimport { sanitize } from '../navigation/links'\nimport { colorFromCycle, useColors } from '../page_template/colors'\nimport { rowExpandedKey, useSettings } from '../page_template/settings'\nimport { groupYearKeys, StatGroupSettings } from '../page_template/statistic-settings'\nimport { statParents, Year } from '../page_template/statistic-tree'\nimport { PageTemplate } from '../page_template/template'\nimport { compareArticleRows } from '../sorting'\nimport { useUniverse } from '../universe'\nimport { mixWithBackground } from '../utils/color'\nimport { assert } from '../utils/defensive'\nimport { notWaiting, waiting } from '../utils/promiseStream'\nimport { Article } from '../utils/protos'\nimport { useComparisonHeadStyle, useHeaderTextClass, useMobileLayout, useSubHeaderTextClass } from '../utils/responsive'\nimport { TransposeContext } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { ArticleWarnings } from './ArticleWarnings'\nimport { QuerySettingsConnection } from './QuerySettingsConnection'\nimport { computeNameSpecsWithGroups } from './article-panel'\nimport { generateCSVDataForArticles, CSVExportData } from './csv-export'\nimport { ArticleRow } from './load-article'\nimport { CommonMaplibreMap, PolygonFeatureCollection, polygonFeatureCollection, useZoomAllFeatures, defaultMapPadding, CustomAttributionControlComponent } from './map-common'\nimport { PlotProps } from './plots'\nimport { createScreenshot, ScreencapElements, useScreenshotMode } from './screenshot'\nimport { SearchBox } from './search'\nimport { TableContents, CellSpec } from './supertable'\nimport { ColumnIdentifier } from './table'\n\nexport function ComparisonPanel(props: { universes: string[], articles: Article[], rows: (settings: StatGroupSettings) => ArticleRow[][], mapPartitions: number[][] }): ReactNode {\n    const colors = useColors()\n    const tableRef = useRef<HTMLDivElement>(null)\n    const mapRef = useRef(null)\n\n    // State for drag overlay and articles\n    const [activeId, setActiveId] = useState<string | null>(null)\n    const [localArticles, setLocalArticles] = useState<{ value: Article[], propsValue: Article[] }>({ value: props.articles, propsValue: props.articles })\n\n    const [sortByStatIndex, setSortByStatIndex] = useState<number | null>(null)\n    const [sortDirection, setSortDirection] = useState<'up' | 'down'>('down')\n\n    // Sensors for drag and drop - more sensitive for vertical dragging\n    const sensors = useSensors(\n        useSensor(PointerSensor, {\n            activationConstraint: {\n                distance: 1,\n            },\n        }),\n        useSensor(TouchSensor, {\n            activationConstraint: {\n                delay: 50,\n                tolerance: 0,\n            },\n        }),\n    )\n\n    // Sync local state with props\n    let localArticlesToUse\n    if (localArticles.propsValue === props.articles) {\n        localArticlesToUse = localArticles.value\n    }\n    else {\n        setLocalArticles({ propsValue: props.articles, value: props.articles })\n        localArticlesToUse = props.articles\n    }\n\n    const joinedString = localArticlesToUse.map(x => x.shortname).join(' vs ')\n    const names = localArticlesToUse.map(a => a.longname)\n\n    const screencapElements = (): ScreencapElements => ({\n        path: `${sanitize(joinedString)}.png`,\n        overallWidth: tableRef.current!.offsetWidth * 2,\n        elementsToRender: [tableRef.current!, mapRef.current!],\n    })\n\n    // Drag and drop handlers\n    const handleDragStart = (event: DragStartEvent): void => {\n        setActiveId(event.active.id as string)\n    }\n\n    const handleDragEnd = (event: DragEndEvent): void => {\n        const { active, over } = event\n\n        if (over && active.id !== over.id) {\n            const oldIndex = localArticlesToUse.findIndex(article => article.shortname === active.id)\n            const newIndex = localArticlesToUse.findIndex(article => article.shortname === over.id)\n\n            const newArticles = arrayMove(localArticlesToUse, oldIndex, newIndex)\n            const newLongnames = newArticles.map(a => a.longname)\n\n            // Update local state immediately for responsive UI\n            setLocalArticles({ propsValue: props.articles, value: newArticles })\n\n            // Update the URL to reflect the new order\n            void navContext.navigate({\n                kind: 'comparison',\n                universe: navContext.universe,\n                longnames: newLongnames,\n            }, { history: 'push', scroll: { kind: 'none' } })\n        }\n\n        setActiveId(null)\n    }\n\n    const settings = useSettings(groupYearKeys())\n\n    const dataByArticleStat = props.rows(settings)\n    const dataByStatArticle = dataByArticleStat[0].map((_, statIndex) => dataByArticleStat.map(articleData => articleData[statIndex]))\n\n    const handleSort = (statIndex: number): void => {\n        let newSortDirection: 'up' | 'down' | 'both'\n        if (sortByStatIndex === statIndex) {\n            newSortDirection = sortDirection === 'up' ? 'down' : 'up'\n        }\n        else {\n            newSortDirection = 'down'\n            setSortByStatIndex(statIndex)\n        }\n\n        setSortDirection(newSortDirection)\n\n        const statData = dataByStatArticle[statIndex]\n        const sortedIndices = statData\n            .map((row, index) => ({ row, index }))\n            .sort((a, b) => compareArticleRows(a.row, b.row, newSortDirection))\n            .map(item => item.index)\n\n        const newArticles = sortedIndices.map(index => localArticlesToUse[index])\n\n        setLocalArticles({ propsValue: props.articles, value: newArticles })\n\n        void navContext.navigate({\n            kind: 'comparison',\n            universe: navContext.universe,\n            longnames: newArticles.map(a => a.longname),\n        }, { history: 'push', scroll: { kind: 'none' } })\n    }\n\n    const mobileLayout = useMobileLayout()\n\n    const validOrdinalsByStat = dataByStatArticle.map(statData => statData.every(value => value.disclaimer !== 'heterogenous-sources'))\n\n    const includeOrdinals = (\n        localArticlesToUse.every(article => article.articleType === localArticlesToUse[0].articleType)\n        && (validOrdinalsByStat.length === 0 || validOrdinalsByStat.some(x => x))\n    )\n\n    const onlyColumns: ColumnIdentifier[] = includeOrdinals ? ['statval', 'statval_unit', 'statistic_ordinal', 'statistic_percentile'] : ['statval', 'statval_unit']\n\n    const maxColumns = mobileLayout ? 3 : 6\n\n    const expandedSettings = useSettings(dataByStatArticle.filter(statData => statData.some(row => row.extraStat !== undefined)).map(([{ statpath }]) => rowExpandedKey(statpath)))\n\n    const expandedByStatIndex = dataByStatArticle.map(([{ statpath }]) => expandedSettings[rowExpandedKey(statpath)] ?? false)\n    const numExpandedExtras = expandedByStatIndex.filter(v => v).length\n\n    let widthColumns = (includeOrdinals ? 1.5 : 1) * localArticlesToUse.length + 1\n    let widthTransposeColumns = (includeOrdinals ? 1.5 : 1) * (dataByArticleStat[0].length + numExpandedExtras) + 1.5\n\n    const transpose = widthColumns > maxColumns && widthColumns > widthTransposeColumns\n\n    if (transpose) {\n        ([widthColumns, widthTransposeColumns] = [widthTransposeColumns, widthColumns])\n    }\n\n    const leftMarginPercent = transpose ? 0.24 : 0.18\n    const numColumns = transpose ? dataByArticleStat[0].length : localArticlesToUse.length\n    const columnWidth = 100 * (1 - leftMarginPercent) / (numColumns + (transpose ? numExpandedExtras : 0))\n\n    const scrollColumnsDivisor = mobileLayout ? 3.5 : 5.3\n\n    const maybeScroll = (contents: React.ReactNode): ReactNode => {\n        if (widthColumns > maxColumns) {\n            return (\n                <div style={{ overflowX: 'scroll' }}>\n                    <div style={{ width: `${100 * widthColumns / scrollColumnsDivisor}%` }}>\n                        {contents}\n                    </div>\n                </div>\n            )\n        }\n        return contents\n    }\n\n    const highlightArticleIndicesByStat: (number | undefined)[] = dataByStatArticle.map(articlesStatData => getHighlightIndex(articlesStatData))\n\n    const headerTextClass = useHeaderTextClass()\n    const subHeaderTextClass = useSubHeaderTextClass()\n    const comparisonRightStyle = useComparisonHeadStyle('right')\n    const searchComparisonStyle = useComparisonHeadStyle()\n\n    const currentUniverse = useUniverse()\n\n    const navContext = useContext(Navigator.Context)\n\n    const sharedTypeOfAllArticles = localArticlesToUse.every(article => article.articleType === localArticlesToUse[0].articleType) ? localArticlesToUse[0].articleType : undefined\n\n    const rowToDisplayForStat = (statIndex: number): ArticleRow => {\n        return dataByStatArticle[statIndex].find(row => row.extraStat !== undefined) ?? dataByStatArticle[statIndex][0]\n    }\n\n    const plotProps = (statIndex: number): PlotProps[] => dataByStatArticle[statIndex].flatMap((row, articleIdx) =>\n        pullRelevantPlotProps(dataByArticleStat[articleIdx], statIndex, colorFromCycle(colors.hueColors, articleIdx), localArticlesToUse[articleIdx].shortname, localArticlesToUse[articleIdx].longname, sharedTypeOfAllArticles),\n    )\n\n    const longnameHeaderSpecs: CellSpec[] = Array.from({ length: localArticlesToUse.length }).map((_, articleIndex) => (\n        {\n            type: 'comparison-longname',\n            articleIndex,\n            articles: localArticlesToUse,\n            names,\n            transpose,\n            sharedTypeOfAllArticles,\n            highlightIndex: articleIndex,\n            draggable: true,\n            articleId: localArticlesToUse[articleIndex].shortname,\n        } satisfies CellSpec\n    ))\n\n    const statisticNameHeaderSpecsOriginal: (CellSpec & { type: 'statistic-name' })[] = Array.from({ length: dataByStatArticle.length }).map((_, statIndex) => (\n        {\n            type: 'statistic-name',\n            row: rowToDisplayForStat(statIndex),\n            longname: names[0],\n            currentUniverse,\n            center: transpose ? true : false,\n            transpose,\n            highlightIndex: highlightArticleIndicesByStat[statIndex],\n            sortInfo: {\n                onSort: () => {\n                    handleSort(statIndex)\n                },\n                sortDirection: sortByStatIndex === statIndex ? sortDirection : 'both',\n            },\n        }\n    ))\n\n    const { updatedNameSpecs: statisticNameHeaderSpecs, groupNames: statisticNameGroupNames } = computeNameSpecsWithGroups(statisticNameHeaderSpecsOriginal)\n\n    const rowSpecsByStat: CellSpec[][] = Array.from({ length: dataByStatArticle.length }).map((_, statIndex) => (\n        Array.from({ length: localArticlesToUse.length }).map((unused, articleIndex) => ({\n            type: 'statistic-row',\n            row: dataByArticleStat[articleIndex][statIndex],\n            longname: names[articleIndex],\n            onlyColumns,\n            blankColumns: validOrdinalsByStat[statIndex] ? [] : ['statistic_ordinal', 'statistic_percentile'],\n            simpleOrdinals: true,\n            statisticStyle: highlightArticleIndicesByStat[statIndex] === articleIndex ? { backgroundColor: mixWithBackground(colorFromCycle(colors.hueColors, articleIndex), colors.mixPct / 100, colors.background) } : {},\n            onNavigate: (x: string) => {\n                void navContext.navigate({\n                    kind: 'comparison',\n                    universe: navContext.universe,\n                    longnames: names.map((value, index) => index === articleIndex ? x : value),\n                }, { history: 'push', scroll: { kind: 'none' } })\n            },\n        }))\n    ))\n\n    const rowSpecsByStatTransposed = rowSpecsByStat.length === 0 ? [] : rowSpecsByStat[0].map((_, statIndex) => rowSpecsByStat.map(rowSpecs => rowSpecs[statIndex]))\n\n    const plotSpecs: ({ statDescription: string, plotProps: PlotProps[] } | undefined)[] = Array.from({ length: dataByStatArticle.length }).map((_, statIndex) =>\n        expandedByStatIndex[statIndex]\n            ? {\n                    statDescription: dataByStatArticle[statIndex][0].renderedStatname,\n                    plotProps: plotProps(statIndex),\n                }\n            : undefined,\n    )\n\n    const topLeftSpec: CellSpec = { type: 'comparison-top-left-header', statNameOverride: transpose ? 'Region' : undefined }\n\n    const csvData = generateCSVDataForArticles(localArticlesToUse, dataByArticleStat, includeOrdinals)\n    const csvFilename = `${sanitize(joinedString)}.csv`\n    const csvExportData: CSVExportData = { csvData, csvFilename }\n\n    return (\n        <TransposeContext.Provider value={transpose}>\n            <QuerySettingsConnection />\n            <PageTemplate\n                screencap={universe => createScreenshot(screencapElements(), universe, colors)}\n                csvExportData={csvExportData}\n                hasUniverseSelector={true}\n                universes={props.universes}\n            >\n                <DndContext\n                    sensors={sensors}\n                    onDragStart={handleDragStart}\n                    onDragEnd={handleDragEnd}\n                    collisionDetection={closestCenter}\n                >\n                    <SortableContext items={localArticlesToUse.map(a => a.shortname)} strategy={transpose ? verticalListSortingStrategy : horizontalListSortingStrategy}>\n                        <div>\n                            <div className={headerTextClass}>Comparison</div>\n                            <div className={subHeaderTextClass}>{joinedString}</div>\n                            <div style={{ marginBlockEnd: '16px' }}></div>\n\n                            <div style={{ display: 'flex' }}>\n                                <div style={{ width: `${100 * leftMarginPercent}%` }} />\n                                <div style={{ width: `${50 * (1 - leftMarginPercent)}%`, marginRight: '1em' }}>\n                                    <div className=\"serif\" style={comparisonRightStyle}>Add another region:</div>\n                                </div>\n                                <div style={{ width: `${50 * (1 - leftMarginPercent)}%` }}>\n                                    <SearchBox\n                                        style={{ ...searchComparisonStyle, width: '100%' }}\n                                        placeholder=\"Name\"\n                                        link={x =>\n                                            navContext.link({\n                                                kind: 'comparison',\n                                                universe: currentUniverse,\n                                                longnames: [...names, x],\n                                            }, { scroll: { kind: 'none' } })}\n                                        autoFocus={false}\n                                        prioritizeArticleType={sharedTypeOfAllArticles}\n                                    />\n                                </div>\n                            </div>\n\n                            <div style={{ marginBlockEnd: '1em' }}></div>\n\n                            {maybeScroll(\n                                <div ref={tableRef}>\n                                    {transpose\n                                        ? (\n                                                <TableContents\n                                                    superHeaderSpec={{ headerSpecs: statisticNameHeaderSpecs, showBottomBar: false, groupNames: statisticNameGroupNames }}\n                                                    leftHeaderSpec={{ leftHeaderSpecs: longnameHeaderSpecs }}\n                                                    rowSpecs={rowSpecsByStatTransposed}\n                                                    horizontalPlotSpecs={plotSpecs.map(() => undefined)}\n                                                    verticalPlotSpecs={plotSpecs}\n                                                    topLeftSpec={topLeftSpec}\n                                                    widthLeftHeader={leftMarginPercent * 100}\n                                                    columnWidth={columnWidth}\n                                                    onlyColumns={onlyColumns}\n                                                    simpleOrdinals={true}\n                                                />\n                                            )\n                                        : (\n                                                <TableContents\n                                                    superHeaderSpec={{ headerSpecs: longnameHeaderSpecs, showBottomBar: true }}\n                                                    leftHeaderSpec={{ leftHeaderSpecs: statisticNameHeaderSpecs, groupNames: statisticNameGroupNames }}\n                                                    rowSpecs={rowSpecsByStat}\n                                                    horizontalPlotSpecs={plotSpecs}\n                                                    verticalPlotSpecs={[]}\n                                                    topLeftSpec={topLeftSpec}\n                                                    widthLeftHeader={leftMarginPercent * 100}\n                                                    columnWidth={columnWidth}\n                                                    onlyColumns={onlyColumns}\n                                                    simpleOrdinals={true}\n                                                />\n                                            )}\n                                    <ArticleWarnings />\n                                </div>,\n                            )}\n                            <div className=\"gap\"></div>\n\n                            <div ref={mapRef}>\n                                <ComparisonMultiMap\n                                    longnames={localArticlesToUse.map(x => x.longname)}\n                                    colors={localArticlesToUse.map((_, i) => colorFromCycle(colors.hueColors, i))}\n                                    mapPartitions={props.mapPartitions}\n                                />\n                            </div>\n                        </div>\n                    </SortableContext>\n                    <DragOverlay>\n                        {activeId\n                            ? (\n                                    <div style={{ opacity: 0.5, backgroundColor: colors.background, padding: '8px', borderRadius: '4px' }}>\n                                        {localArticlesToUse.find(a => a.shortname === activeId)?.longname}\n                                    </div>\n                                )\n                            : null}\n                    </DragOverlay>\n                </DndContext>\n            </PageTemplate>\n        </TransposeContext.Provider>\n    )\n}\n\nexport function pullRelevantPlotProps(rows: ArticleRow[], statIndex: number, color: string, shortname: string, longname: string, sharedTypeOfAllArticles: string | undefined): PlotProps[] {\n    if (rows[statIndex].extraStat === undefined) {\n        return []\n    }\n    const sPs = rows.map(row => statParents.get(row.statpath)!).map((sP, i) => ({ sP, i }))\n    const byYear = new Map<Year, number[]>()\n    sPs.filter((\n        { sP, i }) => sP.group.id === sPs[statIndex].sP.group.id && rows[i].extraStat !== undefined,\n    ).forEach(({ sP: { year }, i }) => {\n        assert(year !== null, 'Year should not be null for plot data')\n        byYear.set(year, [...(byYear.get(year) ?? []), i])\n    })\n    const bestSourceEach = Array.from(byYear.entries()).map(([, indices]) => {\n        if (indices.length === 1) {\n            return indices[0]\n        }\n        const sources = indices.map(i => sPs[i].sP.source)\n        const exactMatch = sources.findIndex(source => JSON.stringify(source) === JSON.stringify(sPs[statIndex].sP.source))\n        if (exactMatch !== -1) {\n            return indices[exactMatch]\n        }\n        const nullMatch = sources.findIndex(source => source === null)\n        if (nullMatch !== -1) {\n            return indices[nullMatch]\n        }\n        return indices[0]\n    })\n    const statpaths = bestSourceEach.map(i => sPs[i])\n    const overOne = statpaths.length > 1\n    if (overOne) {\n        statpaths.forEach(({ sP: { year } }) => {\n            assert(year !== null, 'Year should not be null for plot data')\n        })\n        assert(statpaths.length === new Set(statpaths.map(({ sP: { year } }) => year)).size, 'All statpaths for plot data should have unique years')\n    }\n    return statpaths.map(({ i: idx, sP: { year } }) => {\n        assert(year !== null, 'unreachable, we checked this already')\n        return {\n            ...rows[idx],\n            color,\n            shortname,\n            longname,\n            sharedTypeOfAllArticles,\n            subseriesName: year.toString(),\n        } satisfies PlotProps\n    })\n}\n\nfunction getHighlightIndex(rows: ArticleRow[]): number | undefined {\n    return rows.map(x => x.statval).reduce<number | undefined>((iMax, x, i, arr) => {\n        if (isNaN(x)) {\n            return iMax\n        }\n        if (iMax === undefined) {\n            return i\n        }\n        return x > arr[iMax] ? i : iMax\n    }, undefined)\n}\n\nfunction ComparisonMultiMap(props: { longnames: string[], colors: string[], mapPartitions: number[][] }): ReactNode {\n    /*\n     If mobile, make 2 columns, if one at the end, use full width\n\n     If desktop, make 3 columns, if 4 at the end, make 4, if 2 at the end, make 2 (there will never be 1 at the end because that's 4)\n     */\n    const isMobile = useMobileLayout()\n    const rows: [number, number[]][][] = useMemo(() => {\n        const slice = (from: number, to: number): [number, number[]][] => {\n            return props.mapPartitions.slice(from, to).map((partition, sliceIndex) => [from + sliceIndex, partition])\n        }\n\n        if (isMobile) {\n            const result: [number, number[]][][] = []\n            for (let i = 0; i < props.mapPartitions.length; i += 2) {\n                result.push(slice(i, i + 2))\n            }\n            return result\n        }\n        else {\n            const result: [number, number[]][][] = []\n            for (let i = 0; i < props.mapPartitions.length; i += 3) {\n                if (props.mapPartitions.length - i === 4) {\n                    result.push(\n                        slice(i, i + 2),\n                        slice(i + 2, i + 4),\n                    )\n                    i += 1\n                }\n                else {\n                    result.push(slice(i, i + 3))\n                }\n            }\n            return result\n        }\n    }, [isMobile, props.mapPartitions])\n\n    return rows.map((row, rowIndex) => (\n        <div key={rowIndex} style={{ display: 'flex', width: '100%' }}>\n            {row.map(([partitionIndex, partition]) => {\n                return (\n                    <div key={partitionIndex} style={{ position: 'relative', width: `${100 / row.length}%` }}>\n                        <ComparisonMap\n                            longnames={partition.map(index => props.longnames[index])}\n                            colors={partition.map(index => props.colors[index])}\n                            attribution={\n                                partitionIndex === props.mapPartitions.length - 1\n                            }\n                        />\n                    </div>\n                )\n            })}\n        </div>\n    ))\n}\n\nfunction ComparisonMap({ longnames, colors, attribution }: { longnames: string[], colors: string[], attribution: boolean }): ReactNode {\n    const [mapRef, setMapRef] = useState<MapRef | null>(null)\n\n    const features = useMemo(() => polygonFeatureCollection(longnames.map((longname, i) => ({\n        name: longname,\n        color: colors[i], fillColor: colors[i], fillOpacity: 0.5, weight: 1,\n    }))), [longnames, colors]).use()\n\n    const readyFeatures = useMemo(() => features.filter(notWaiting), [features])\n    const id = useId()\n\n    useZoomAllFeatures(mapRef, features, readyFeatures)\n\n    return (\n        <div style={{ position: 'relative' }}>\n            <CommonMaplibreMap\n                id={id}\n                ref={setMapRef}\n                attributionControl={false}\n            >\n                <PolygonFeatureCollection features={readyFeatures} clickable={true} />\n                <FullscreenControl position=\"top-left\" />\n                { attribution && <CustomAttributionControlComponent startShowingAttribution={true} />}\n            </CommonMaplibreMap>\n            <ComparisonMapButtons longnames={longnames} colors={colors} features={features} mapRef={mapRef} />\n        </div>\n    )\n}\n\nexport function ComparisonMapButtons({ longnames, colors, features, mapRef }: { longnames: string[], colors: string[], features: (GeoJSON.Feature | typeof waiting)[], mapRef: MapRef | null }): ReactNode {\n    const systemColors = useColors()\n    const isScreenshot = useScreenshotMode()\n\n    if (isScreenshot) {\n        return null\n    }\n\n    const click = (i: number): void => {\n        if (features[i] !== waiting) {\n            mapRef?.fitBounds(boundingBox(features[i].geometry), { animate: true, padding: defaultMapPadding })\n        }\n    }\n\n    const zoomToAll = (): void => {\n        mapRef?.fitBounds(extendBoxes(features.filter(notWaiting).map(f => boundingBox(f.geometry))), { animate: true, padding: defaultMapPadding })\n    }\n\n    return (\n        <div style={\n            { zIndex: zIndex.comparisonMapButton, position: 'absolute', right: 0, top: 0, padding: '12px' }\n        }\n        >\n            <div style={{\n                display: 'flex', backgroundColor: systemColors.background, padding: '6px', borderRadius: '6px',\n                alignItems: 'center',\n            }}\n            >\n                <span className=\"serif\" style={{ fontSize: '15px', fontWeight: 500 }}>Zoom to:</span>\n                <div style={{ width: '3px' }} />\n                <ZoomButton color={systemColors.textMain} onClick={zoomToAll} />\n                {longnames.map((longname, i) => <ZoomButton key={i} color={colors[i]} onClick={() => { click(i) }} />)}\n            </div>\n        </div>\n    )\n}\n\nfunction ZoomButton({ color, onClick }: { color: string, onClick: () => void }): ReactNode {\n    return (\n        <div\n            style={{\n                display: 'inline-block', width: '24px', height: '24px',\n                backgroundColor: color, borderRadius: '50%', marginLeft: '5px', marginRight: '5px',\n                cursor: 'pointer',\n            }}\n            onClick={onClick}\n        />\n    )\n}\n","import { ArticleRow } from './components/load-article'\n\nexport function compareArticleRows(a: ArticleRow, b: ArticleRow, direction: 'up' | 'down'): number {\n    if (!isNaN(a.statval) && !isNaN(b.statval)) {\n        return direction === 'up' ? a.statval - b.statval : b.statval - a.statval\n    }\n    // always put NaN values at the end\n    if (isNaN(a.statval)) {\n        return 1\n    }\n    if (isNaN(b.statval)) {\n        return -1\n    }\n    return direction === 'up' ? a.renderedStatname.localeCompare(b.renderedStatname) : b.renderedStatname.localeCompare(a.renderedStatname)\n}\n","import React, { CSSProperties, ReactNode, useRef, useState, useEffect } from 'react'\nimport ContentEditable, { ContentEditableEvent } from 'react-contenteditable'\n\nexport function EditableString(props: { content: string, onNewContent: (content: string) => void, style: CSSProperties, inputMode: 'text' | 'decimal' }): ReactNode {\n    /*\n     * This code is weird because the `ContentEditable` needs to use refs.\n     * See https://www.npmjs.com/package/react-contenteditable\n     */\n    const contentEditable: React.Ref<HTMLElement> = useRef(null)\n    const html = useRef(props.content.toString())\n    // https://github.com/lovasoa/react-contenteditable/issues/161\n    const propsRef = useRef(props)\n    propsRef.current = props\n    const [, setCounter] = useState(0)\n\n    // Otherwise, this component can display the wrong number when props change\n    useEffect(() => {\n        html.current = props.content.toString()\n        setCounter(count => count + 1)\n    }, [props.content])\n\n    const handleChange = (evt: ContentEditableEvent): void => {\n        html.current = evt.target.value\n    }\n\n    const handleSubmit = (): void => {\n        const content = contentEditable.current!.innerText\n        if (content !== propsRef.current.content) {\n            propsRef.current.onNewContent(content)\n        }\n    }\n\n    const selectAll = (): void => {\n        setTimeout(() => {\n            const range = document.createRange()\n            range.selectNodeContents(contentEditable.current!)\n            const selection = window.getSelection()\n            selection?.removeAllRanges()\n            selection?.addRange(range)\n        }, 0)\n    }\n\n    return (\n        <ContentEditable\n            className=\"editable_content\"\n            style={props.style}\n            innerRef={contentEditable}\n            html={html.current}\n            disabled={false}\n            onChange={handleChange}\n            onKeyDown={(e: React.KeyboardEvent) => {\n                if (e.key === 'Enter') {\n                    handleSubmit()\n                    e.preventDefault()\n                }\n            }}\n            onBlur={handleSubmit}\n            tagName=\"span\" // Use a custom HTML tag (uses a div by default)\n            inputMode={props.inputMode}\n            onFocus={selectAll}\n        />\n    )\n}\n\nexport function EditableNumber(props: { number: number, onNewNumber: (number: number) => void }): ReactNode {\n    const onNewContent = (content: string): void => {\n        const number = parseInt(content)\n        if (!Number.isNaN(number) && number !== props.number) {\n            props.onNewNumber(number)\n        }\n    }\n    return (\n        <EditableString\n            content={props.number.toString()}\n            onNewContent={onNewContent}\n            style={{ minWidth: '2em', display: 'inline-block' }}\n            inputMode=\"decimal\"\n        />\n    )\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./plots.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./plots.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, useCallback, useEffect, useRef } from 'react'\n\nimport { useTranspose } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { useScreenshotMode } from './screenshot'\n\nimport './plots.css'\n\ninterface DetailedPlotSpec {\n    marks: Plot.Markish[]\n    xlabel: string\n    ylabel: string\n    ydomain?: [number, number]\n    legend?: { legend: boolean, range: string[], domain: string[] }\n}\n\nexport function PlotComponent(props: {\n    plotSpec: (transpose: boolean) => DetailedPlotSpec\n    settingsElement: (makePlot: () => HTMLElement) => ReactElement\n}): ReactElement {\n    const transpose = useTranspose()\n\n    const plotRef = useRef<HTMLDivElement>(null)\n\n    const plotSpec = props.plotSpec\n\n    const plotConfig = useCallback((transposeConfig: boolean): Plot.PlotOptions => {\n        const { marks, xlabel, ylabel, ydomain, legend } = plotSpec(transposeConfig)\n        const result: Plot.PlotOptions = {\n            marks,\n            x: {\n                label: xlabel,\n            },\n            y: {\n                label: ylabel,\n                domain: ydomain,\n            },\n            grid: false,\n            width: transposeConfig ? undefined : 1000,\n            height: transposeConfig ? 1000 : undefined,\n            style: {\n                fontSize: transposeConfig ? '2em' : '1em',\n                fontFamily: 'Jost, Arial, sans-serif',\n            },\n            marginTop: 80,\n            marginBottom: transposeConfig ? 80 : 40,\n            marginLeft: 80,\n            color: legend,\n        }\n        if (transposeConfig) {\n            result.x = {\n                label: ylabel,\n                domain: ydomain,\n            }\n            result.y = {\n                label: xlabel,\n                reverse: true,\n            }\n        }\n        return result\n    }, [plotSpec])\n\n    useEffect(() => {\n        if (plotRef.current) {\n            const plot = Plot.plot(plotConfig(transpose))\n            plotRef.current.innerHTML = ''\n            plotRef.current.appendChild(plot)\n        }\n    }, [props.plotSpec, transpose, plotConfig])\n\n    const screenshotMode = useScreenshotMode()\n\n    const transposeTopMargin = '35px'\n\n    // put a button panel in the top right corner\n    return (\n        <>\n            <div\n                className=\"histogram-svg-panel\" // tied to CSS\n                ref={plotRef}\n                style={\n                    {\n                        width: '100%',\n                        height: transpose ? `calc(100% - ${transposeTopMargin})` : undefined,\n                        position: transpose ? 'relative' : undefined,\n                        top: transpose ? transposeTopMargin : undefined,\n                    }\n                }\n            >\n            </div>\n            {screenshotMode\n                ? undefined\n                : (\n                        <div style={{ zIndex: zIndex.plotSettings, position: 'absolute', top: 0, right: 0, left: transpose ? 0 : undefined }}>\n                            {props.settingsElement(() => {\n                                const plot = Plot.plot(plotConfig(false))\n                                const div = document.createElement('div')\n                                div.style.width = '1000px'\n                                div.style.height = '500px'\n                                div.appendChild(plot)\n                                return div\n                            })}\n                        </div>\n                    )}\n        </>\n    )\n}\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, ReactNode, useCallback, useContext, useState } from 'react'\n\n// imort Observable plot\nimport { Navigator } from '../navigation/Navigator'\nimport { Colors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { HistogramType, useSetting } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { assert } from '../utils/defensive'\nimport { IHistogram } from '../utils/protos'\nimport { useTranspose } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { PlotComponent } from './plots-general'\nimport { createScreenshot } from './screenshot'\nimport { SearchBox } from './search'\nimport { CheckboxSetting } from './sidebar'\n\nconst yPad = 0.025\n\nconst strokeDasharrays = ['1,0', '10,10', '2,5']\n\ninterface HistogramProps {\n    shortname: string\n    longname: string\n    histogram: IHistogram\n    color: string\n    universeTotal: number\n    subseriesName: string\n}\n\nfunction processHistogramType(histogramType: HistogramType, histograms: HistogramProps[]): HistogramType {\n    if (histogramType !== 'Bar') {\n        return histogramType\n    }\n    const subseriesNames = new Set<string>(histograms.map(h => h.subseriesName))\n    if (subseriesNames.size > 1) {\n        return 'Line'\n    }\n    return histogramType\n}\n\nexport function Histogram(props: { histograms: HistogramProps[], statDescription: string, sharedTypeOfAllArticles?: string }): ReactNode {\n    const [histogramTypeRaw] = useSetting('histogram_type')\n    const histogramType = processHistogramType(histogramTypeRaw, props.histograms)\n    const [useImperial] = useSetting('use_imperial')\n    const [relative] = useSetting('histogram_relative')\n    const binMin = props.histograms[0].histogram.binMin!\n    const binSize = props.histograms[0].histogram.binSize!\n    for (const histogram of props.histograms) {\n        if (histogram.histogram.binMin !== binMin || histogram.histogram.binSize !== binSize) {\n            throw new Error('histograms have different binMin or binSize')\n        }\n    }\n    const settingsElement = (makePlot: () => HTMLElement): ReactElement => (\n        <HistogramSettings makePlot={makePlot} shortnames={props.histograms.map(h => h.shortname)} longnames={props.histograms.map(h => h.longname)} sharedTypeOfAllArticles={props.sharedTypeOfAllArticles} />\n    )\n\n    const systemColors = useColors()\n\n    const plotSpec = useCallback(\n        (transpose: boolean) => {\n            const title = new Set(props.histograms.map(h => h.shortname)).size === 1 ? props.histograms[0].shortname : ''\n            const colors = props.histograms.map(h => h.color)\n            const shortnames = props.histograms.map(h => h.shortname)\n            const renderY = relative ? (y: number) => `${y.toFixed(2)}%` : (y: number) => renderNumberHighlyRounded(y, 2)\n\n            const [xIdxStart, xIdxEnd] = histogramBounds(props.histograms)\n            const xidxs = Array.from({ length: xIdxEnd - xIdxStart }, (_, i) => i + xIdxStart)\n            const [xAxisMarks, renderX] = xAxis(xidxs, binSize, binMin, useImperial, transpose)\n            const [marks, maxValue] = createHistogramMarks(props.histograms, xidxs, histogramType, relative, renderX, renderY, transpose, systemColors)\n            marks.push(\n                ...xAxisMarks,\n                ...yAxis(maxValue, transpose),\n            )\n            marks.push(Plot.text([title], { frameAnchor: 'top', dy: -40 }))\n            const xlabel = `${props.statDescription} (/${useImperial ? 'mi' : 'km'})`\n            const ylabel = relative ? '% of total' : 'Population'\n            const ydomain: [number, number] = [maxValue * (-yPad), maxValue * (1 + yPad)]\n            marks.push(...manualLegend(props.histograms, transpose, colors, shortnames, systemColors))\n            return { marks, xlabel, ylabel, ydomain }\n        },\n        [props.histograms, binMin, binSize, relative, histogramType, useImperial, systemColors, props.statDescription],\n    )\n\n    return (\n        <PlotComponent\n            plotSpec={plotSpec}\n            settingsElement={settingsElement}\n        />\n    )\n}\n\nfunction computeColorItems(shortnames: string[], colors: string[]): { label: string, color: string }[] {\n    const colorItems: { label: string, color: string }[] = []\n    for (let i = 0; i < shortnames.length; i++) {\n        // handles duplicate names by just putting them all in if they're different colors\n        const index = colorItems.findIndex(item => item.label === shortnames[i] && item.color === colors[i])\n        if (index === -1) {\n            colorItems.push({\n                label: shortnames[i],\n                color: colors[i],\n            })\n        }\n    }\n    if (colorItems.length <= 1) {\n        return []\n    }\n    return colorItems\n}\n\nfunction computeDashPatterns(histograms: HistogramProps[]): Map<string, { pattern: string, name: string }> {\n    const dashPatterns = new Map<string, { pattern: string, name: string }>()\n    const subseriesNames = new Set<string>()\n    histograms.forEach((histogram) => {\n        subseriesNames.add(histogram.subseriesName)\n    })\n    const subseriesNamesOrdered = Array.from(subseriesNames).sort()\n    assert(subseriesNamesOrdered.length <= strokeDasharrays.length, 'Too many subseries for dash patterns')\n    histograms.forEach((histogram) => {\n        const subId = subseriesNamesOrdered.indexOf(histogram.subseriesName)\n        if (!dashPatterns.has(histogram.subseriesName)) {\n            dashPatterns.set(histogram.subseriesName, {\n                pattern: strokeDasharrays[subseriesNamesOrdered.length - 1 - subId],\n                name: histogram.subseriesName,\n            })\n        }\n    })\n    return dashPatterns\n}\n\nfunction manualLegend(histograms: HistogramProps[], transpose: boolean, colors: string[], shortnames: string[], themeColors: Colors): Plot.Markish[] {\n    const colorItems = computeColorItems(shortnames, colors)\n\n    const dashPatterns = computeDashPatterns(histograms)\n\n    const dashPatternItems: { label: string, dashPattern: string }[] = []\n    if (dashPatterns.size > 1) {\n        const dashPatternsEnumerated = Array.from(dashPatterns.values()).sort((a, b) => a.name.localeCompare(b.name))\n        dashPatternsEnumerated.forEach(({ pattern, name }) => {\n            dashPatternItems.push({\n                label: name,\n                dashPattern: pattern,\n            })\n        })\n    }\n\n    const totalItems = colorItems.length + dashPatternItems.length\n    if (totalItems === 0) {\n        return []\n    }\n\n    const createLegend = (): SVGElement => {\n        const svgNS = 'http://www.w3.org/2000/svg'\n        const group = document.createElementNS(svgNS, 'g')\n        // Position on the left side, but offset enough to avoid the y-axis\n        const translateX = transpose ? 200 : 100\n        const translateY = 70\n        group.setAttribute('transform', `translate(${translateX} ${translateY})`)\n\n        const paddingX = 12\n        const paddingY = 10\n        const rowHeight = 22\n        const squareSize = 14\n        const lineLength = 36\n        const fontSize = 13\n        const textSpacing = 10\n\n        // Calculate width based on longest label\n        const allLabels = [...colorItems.map(item => item.label), ...dashPatternItems.map(item => item.label)]\n        let maxTextWidth = 0\n        if (allLabels.length > 0) {\n            // Use canvas to measure text width accurately\n            const canvas = document.createElement('canvas')\n            const context = canvas.getContext('2d')\n            if (context) {\n                context.font = `${fontSize}px serif`\n                allLabels.forEach((label) => {\n                    const textWidth = context.measureText(label).width\n                    if (textWidth > maxTextWidth) {\n                        maxTextWidth = textWidth\n                    }\n                })\n            }\n        }\n\n        // Width = paddingX (left) + max(squareSize/lineLength) + textSpacing + textWidth + paddingX (right)\n        const maxSymbolWidth = Math.max(squareSize, lineLength)\n        const width = paddingX + maxSymbolWidth + textSpacing + maxTextWidth + paddingX\n        const height = paddingY * 2 + rowHeight * totalItems\n\n        const background = document.createElementNS(svgNS, 'rect')\n        background.setAttribute('width', String(width))\n        background.setAttribute('height', String(height))\n        background.setAttribute('rx', '6')\n        background.setAttribute('fill', themeColors.slightlyDifferentBackground)\n        background.setAttribute('stroke', themeColors.borderNonShadow)\n        group.appendChild(background)\n\n        let rowIndex = 0\n\n        // Render color squares\n        colorItems.forEach((item) => {\n            const row = document.createElementNS(svgNS, 'g')\n            row.setAttribute('transform', `translate(${paddingX} ${paddingY + rowHeight * rowIndex})`)\n\n            const centerY = rowHeight / 2\n            const square = document.createElementNS(svgNS, 'rect')\n            square.setAttribute('x', '0')\n            square.setAttribute('y', String(centerY - squareSize / 2))\n            square.setAttribute('width', String(squareSize))\n            square.setAttribute('height', String(squareSize))\n            square.setAttribute('fill', item.color)\n            row.appendChild(square)\n\n            const text = document.createElementNS(svgNS, 'text')\n            text.setAttribute('x', String(squareSize + 10))\n            text.setAttribute('y', String(centerY))\n            text.setAttribute('font-size', `${fontSize}px`)\n            text.setAttribute('fill', themeColors.textMain)\n            text.setAttribute('dominant-baseline', 'middle')\n            text.setAttribute('text-anchor', 'start')\n            text.textContent = item.label\n            row.appendChild(text)\n\n            group.appendChild(row)\n            rowIndex++\n        })\n\n        // Render dash pattern lines\n        dashPatternItems.forEach((item) => {\n            const row = document.createElementNS(svgNS, 'g')\n            row.setAttribute('transform', `translate(${paddingX} ${paddingY + rowHeight * rowIndex})`)\n\n            const centerY = rowHeight / 2\n            const line = document.createElementNS(svgNS, 'line')\n            line.setAttribute('x1', '0')\n            line.setAttribute('x2', String(lineLength))\n            line.setAttribute('y1', String(centerY))\n            line.setAttribute('y2', String(centerY))\n            line.setAttribute('stroke', themeColors.textMain)\n            line.setAttribute('stroke-width', '3')\n            if (item.dashPattern !== '1,0') {\n                line.setAttribute('stroke-dasharray', item.dashPattern)\n            }\n            row.appendChild(line)\n\n            const text = document.createElementNS(svgNS, 'text')\n            text.setAttribute('x', String(lineLength + 10))\n            text.setAttribute('y', String(centerY))\n            text.setAttribute('font-size', `${fontSize}px`)\n            text.setAttribute('fill', themeColors.textMain)\n            text.setAttribute('dominant-baseline', 'middle')\n            text.setAttribute('text-anchor', 'start')\n            text.textContent = item.label\n            row.appendChild(text)\n\n            group.appendChild(row)\n            rowIndex++\n        })\n\n        return group\n    }\n\n    return [createLegend]\n}\n\nexport const transposeSettingsHeight = 30.5\n\nfunction HistogramSettings(props: {\n    shortnames: string[]\n    longnames: string[]\n    makePlot: () => HTMLElement\n    sharedTypeOfAllArticles?: string\n}): ReactNode {\n    const universe = useUniverse()\n    const [histogramType, setHistogramType] = useSetting('histogram_type')\n    const colors = useColors()\n    const transpose = useTranspose()\n    const navContext = useContext(Navigator.Context)\n    const [showSearchBox, setShowSearchBox] = useState(false)\n\n    // dropdown for histogram type\n    return (\n        <div\n            className=\"serif\"\n            style={{\n                backgroundColor: transpose ? undefined : colors.background,\n                padding: transpose ? undefined : '0.5em',\n                border: transpose ? undefined : `1px solid ${colors.textMain}`,\n                display: 'flex',\n                gap: '0.5em',\n                height: transpose ? `${transposeSettingsHeight}px` : undefined,\n                alignItems: transpose ? 'center' : undefined,\n                justifyContent: transpose ? 'center' : undefined,\n                position: 'relative',\n            }}\n        >\n            <img\n                src=\"/download.png\"\n                onClick={async () => {\n                    const plot = props.makePlot()\n                    document.body.appendChild(plot)\n                    const uniqueShortnames = deduplicate(props.shortnames)\n                    await createScreenshot(\n                        {\n                            path: `${uniqueShortnames.join('_')}_histogram`,\n                            overallWidth: plot.offsetWidth * 2,\n                            elementsToRender: [plot],\n                            heightMultiplier: 1.2,\n                        },\n                        universe,\n                        colors,\n                    )\n                    plot.remove()\n                }}\n                width=\"20\"\n                height=\"20\"\n            />\n            <div style={{ position: 'relative' }}>\n                <img\n                    src=\"/add.png\"\n                    onClick={() => { setShowSearchBox(!showSearchBox) }}\n                    width=\"20\"\n                    height=\"20\"\n                    style={{ cursor: 'pointer' }}\n                />\n                {showSearchBox && (\n                    <div\n                        style={{\n                            position: 'absolute',\n                            top: '25px',\n                            left: '0px',\n                            backgroundColor: colors.background,\n                            border: `1px solid ${colors.textMain}`,\n                            borderRadius: '4px',\n                            padding: '0.5em',\n                            zIndex: zIndex.plotSettings,\n                            minWidth: '200px',\n                        }}\n                    >\n                        <SearchBox\n                            style={{ width: '100%' }}\n                            placeholder=\"Add region...\"\n                            autoFocus={true}\n                            prioritizeArticleType={props.sharedTypeOfAllArticles}\n                            onChange={() => {\n                                setShowSearchBox(false)\n                            }}\n                            link={(regionName) => {\n                                return navContext.link({\n                                    kind: 'comparison',\n                                    universe: navContext.universe!,\n                                    longnames: [...deduplicate(props.longnames), regionName],\n                                }, { scroll: { kind: 'none' } })\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n            <select\n                value={histogramType}\n                style={{ backgroundColor: colors.background, color: colors.textMain }}\n                onChange={(e) => { setHistogramType(e.target.value as HistogramType) }}\n                className=\"serif\"\n                data-test-id=\"histogram_type\"\n            >\n                <option value=\"Line\">Line</option>\n                <option value=\"Line (cumulative)\">Line (cumulative)</option>\n                <option value=\"Bar\">Bar</option>\n            </select>\n            <CheckboxSetting name={transpose ? 'Relative' : 'Relative Histograms'} settingKey=\"histogram_relative\" testId=\"histogram_relative\" />\n        </div>\n    )\n}\n\nfunction deduplicate(arr: string[]): string[] {\n    return Array.from(new Set(arr))\n}\n\nfunction histogramBounds(histograms: HistogramProps[]): [number, number] {\n    let xIdxEnd = Math.max(...histograms.map(histogram => histogram.histogram.counts!.length))\n    xIdxEnd += 1\n    const zerosAtFront = (arr: number[]): number => {\n        let i = 0\n        while (i < arr.length && arr[i] === 0) {\n            i++\n        }\n        return i\n    }\n    let xIdxStart = Math.min(...histograms.map(histogram => zerosAtFront(histogram.histogram.counts!)))\n\n    if (xIdxStart > 0) {\n        xIdxStart--\n    }\n\n    // round x_idx_start down to the nearest number which, when divided by 10, has a remainder of 0, 3, or 7\n\n    while (xIdxStart % 10 !== 0 && xIdxStart % 10 !== 3 && xIdxStart % 10 !== 7) {\n        xIdxStart--\n    }\n\n    // same for x_idx_end\n    while (xIdxEnd % 10 !== 0 && xIdxEnd % 10 !== 3 && xIdxEnd % 10 !== 7) {\n        xIdxEnd++\n    }\n\n    return [xIdxStart, xIdxEnd]\n}\n\ninterface Series {\n    values: { name: string, xidx: number, y: number }[]\n    color: string\n    subseriesName: string\n}\n\nfunction mulitipleSeriesConsistentLength(histograms: HistogramProps[], xidxs: number[], relative: boolean, isCumulative: boolean): Series[] {\n    // Create a list of series, each with the same length\n    const sum = (arr: number[]): number => arr.reduce((a, b) => a + b, 0)\n    const sumEach = histograms.map(histogram => sum(histogram.histogram.counts!))\n    const series = histograms.map((histogram, histogramIdx) => {\n        const counts = [...histogram.histogram.counts!]\n        const afterVal = 0\n        if (isCumulative) {\n            for (let i = counts.length - 2; i >= 0; i--) {\n                counts[i] += counts[i + 1]\n            }\n        }\n        return {\n            values: xidxs.map(xidx => ({\n                name: histogram.shortname,\n                xidx,\n                y: (\n                    xidx >= counts.length\n                        ? afterVal\n                        : counts[xidx] / sumEach[histogramIdx]\n                ) * (relative ? 100 : histogram.universeTotal),\n            })),\n            color: histogram.color,\n            subseriesName: histogram.subseriesName,\n        }\n    })\n    return series\n}\n\nfunction dovetailSequences(series: { values: { xidx: number, y: number, name: string }[], color: string }[]): { xidxLeft: number, xidxRight: number, y: number, color: string }[] {\n    const seriesSingle: { xidxLeft: number, xidxRight: number, y: number, color: string }[] = []\n    for (let i = 0; i < series.length; i++) {\n        const s = series[i]\n        const width = 1 / (series.length) * 0.8\n        const off = (i - (series.length - 1) / 2) * width\n        seriesSingle.push(...s.values\n            .map(v => ({\n                xidxLeft: v.xidx + off, xidxRight: v.xidx + off + width,\n                y: v.y, color: s.color, name: v.name,\n            })),\n        )\n    }\n    return seriesSingle\n}\n\nfunction maxSequences(series: { values: { xidx: number, y: number, name: string }[] }[]): { xidx: number, y: number, names: string[], ys: number[] }[] {\n    const seriesMax: { xidx: number, y: number, names: string[], ys: number[] }[] = []\n    for (let i = 0; i < series[0].values.length; i++) {\n        seriesMax.push({\n            xidx: series[0].values[i].xidx,\n            y: Math.max(...series.map(s => s.values[i].y)),\n            names: series.map(s => s.values[i].name),\n            ys: series.map(s => s.values[i].y),\n        })\n    }\n    return seriesMax\n}\n\nfunction xAxis(xidxs: number[], binSize: number, binMin: number, useImperial: boolean, transpose: boolean): [Plot.Markish[], (x: number) => string] {\n    const xKeypoints: number[] = []\n    for (const xidx of xidxs) {\n        let lastDigit = xidx % 10\n        if (useImperial) {\n            lastDigit = (lastDigit + 4) % 10\n        }\n        if (lastDigit === 0 || lastDigit === 3 || lastDigit === 7) {\n            xKeypoints.push(xidx)\n        }\n    }\n    const adjustment = useImperial ? Math.log10(1.60934) * 2 : 0\n\n    let axis = Plot.axisX\n    let grid = Plot.gridX\n    if (transpose) {\n        axis = Plot.axisY\n        grid = Plot.gridY\n    }\n    return [\n        [\n            axis(xKeypoints, { tickFormat: d => renderPow10(d * binSize + binMin + adjustment) }),\n            grid(xKeypoints),\n        ],\n        x => `${renderNumberHighlyRounded(Math.pow(10, x * binSize + binMin + adjustment), 2)}/${useImperial ? 'mi' : 'km'}`,\n    ]\n}\n\nfunction yAxis(maxValue: number, transpose: boolean): (Plot.CompoundMark | Plot.RuleY)[] {\n    const minNYTicks = 5\n    const idealTickGap = maxValue / minNYTicks\n    const log10TickGapTimes3 = Math.floor(Math.log10(idealTickGap) * 3)\n    const tickGapOom = Math.pow(10, Math.floor(log10TickGapTimes3 / 3))\n    const tickGapMantissa = log10TickGapTimes3 % 3 === 0 ? 1 : log10TickGapTimes3 % 3 === 1 ? 2 : 5\n    const tickGap = tickGapMantissa * tickGapOom\n    const maxValueRounded = Math.ceil(maxValue / tickGap) * tickGap\n    const yKeypoints = Array.from({ length: Math.floor(maxValueRounded / tickGap) + 1 }, (_, i) => i * tickGap)\n        .filter((_, i) => !transpose || i % 2 === 0) // If transpose, remove every other keypoint\n\n    let axis = Plot.axisY\n    let grid = Plot.gridY\n    if (transpose) {\n        axis = Plot.axisX\n        grid = Plot.gridX\n    }\n\n    return [\n        axis(yKeypoints, { tickFormat: (d: number) => renderNumberHighlyRounded(d, 1) }),\n        grid(yKeypoints),\n    ]\n}\n\nfunction pow10Moral(x: number): number {\n    // 10 ** x, but \"morally\" so, i.e., 10 ** 0.3 = 2\n    if (x < 0) {\n        return 1 / pow10Moral(-x)\n    }\n    if (x >= 1) {\n        return 10 ** Math.floor(x) * pow10Moral(x - Math.floor(x))\n    }\n    const x10 = x * 10\n    const errorRound = Math.abs(x10 - Math.round(x10))\n    if (errorRound > 0.2) {\n        return 10 ** x\n    }\n    if (Math.round(x10) === 0) {\n        return 1\n    }\n    if (Math.round(x10) === 3) {\n        return 2\n    }\n    if (Math.round(x10) === 7) {\n        return 5\n    }\n    return 10 ** x\n}\n\nfunction renderPow10(x: number): string {\n    const p10 = pow10Moral(x)\n\n    return renderNumberHighlyRounded(p10)\n}\n\nfunction renderNumberHighlyRounded(x: number, places = 0): string {\n    if (x < 1000) {\n        return x.toFixed(0)\n    }\n    if (x < 1e6) {\n        return `${(x / 1e3).toFixed(places)}k`\n    }\n    if (x < 1e9) {\n        return `${(x / 1e6).toFixed(places)}M`\n    }\n    if (x < 1e12) {\n        return `${(x / 1e9).toFixed(places)}B`\n    }\n    return x.toExponential(1)\n}\n\nfunction createHistogramMarks(\n    histograms: HistogramProps[], xidxs: number[],\n    histogramType: HistogramType, relative: boolean,\n    renderX: (x: number) => string,\n    renderY: (y: number) => string,\n    transpose: boolean,\n    colors: Colors,\n): [Plot.Markish[], number] {\n    const series = mulitipleSeriesConsistentLength(histograms, xidxs, relative, histogramType === 'Line (cumulative)')\n    const seriesSingle = dovetailSequences(series)\n\n    const maxValue = Math.max(...series.map(s => Math.max(...s.values.map(v => v.y))))\n    const tip = Plot.tip(\n        maxSequences(series),\n        (transpose ? Plot.pointerY : Plot.pointerX)({\n            x: transpose ? 'y' : 'xidx',\n            y: transpose ? 'xidx' : 'y',\n            title: (d: { names: string[], xidx: number, ys: number[] }) => {\n                let result = `Density: ${renderX(d.xidx)}\\n`\n                if (d.names.length > 1) {\n                    result += d.names.map((name: string, i: number) => `${name}: ${renderY(d.ys[i])}`).join('\\n')\n                }\n                else {\n                    result += `Frequency: ${renderY(d.ys[0])}`\n                }\n                return result\n            },\n            fill: colors.slightlyDifferentBackground,\n            stroke: colors.borderNonShadow,\n            textColor: colors.textMain,\n        }),\n    )\n    const marks: Plot.Markish[] = []\n    if (histogramType === 'Line' || histogramType === 'Line (cumulative)') {\n        const dashPatterns = computeDashPatterns(histograms)\n        marks.push(\n            ...series.map((s) => {\n                const strokeDasharray = dashPatterns.size > 1 ? dashPatterns.get(s.subseriesName)?.pattern : undefined\n                return Plot.line(s.values, {\n                    x: transpose ? 'y' : 'xidx', y: transpose ? 'xidx' : 'y', stroke: s.color,\n                    strokeWidth: strokeDasharray !== undefined ? 2 : 4,\n                    strokeDasharray,\n                })\n            }),\n        )\n    }\n    else {\n        marks.push(\n            (transpose\n                ? Plot.rectX(seriesSingle, {\n                    y1: 'xidxLeft',\n                    y2: 'xidxRight',\n                    x: 'y',\n                    fill: 'color',\n                })\n                : Plot.rectY(seriesSingle, {\n                    x1: 'xidxLeft',\n                    x2: 'xidxRight',\n                    y: 'y',\n                    fill: 'color',\n                })),\n        )\n    }\n    marks.push(tip)\n    return [marks, maxValue]\n}\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, ReactNode, useMemo } from 'react'\n\n// imort Observable plot\n\nimport { TimeSeriesExtraStat } from './load-article'\nimport { PlotComponent } from './plots-general'\n\nexport interface TimeSeriesPlotProps {\n    stat: TimeSeriesExtraStat\n    color: string\n    shortname: string\n}\n\nexport function TimeSeriesPlot(props: { stats: TimeSeriesPlotProps[] }): ReactNode {\n    // TODO this is largely unfinished. We need to make several improvements to this component\n    // for it to be production-ready.\n    // Including working with transposed comparisons\n    const settingsElement = (): ReactElement => <div></div>\n\n    const plotSpec = useMemo(\n        () => {\n            const marks = props.stats.map((stat) => {\n                const x = stat.stat.years\n                const y = stat.stat.timeSeries\n                return Plot.line(\n                    x.map((xval, i) => [xval, y[i]]),\n                    { stroke: stat.color, strokeWidth: 2 },\n                ) as Plot.Markish\n            })\n            marks.push(\n                Plot.axisX({\n                    label: 'Year',\n                    tickFormat: (d: number) => d.toString(),\n                }),\n            )\n            const xlabel = 'Year'\n            const ylabel = props.stats[0].stat.name\n            const ydomain = undefined\n            const legend = { legend: true, range: props.stats.map(stat => stat.color), domain: props.stats.map(stat => stat.shortname) }\n            return { marks, xlabel, ylabel, ydomain, legend }\n        },\n        [props.stats],\n    )\n\n    return (\n        <PlotComponent\n            plotSpec={() => plotSpec}\n            settingsElement={settingsElement}\n        />\n    )\n}\n","import React, { ReactNode } from 'react'\n\nimport { ExtraStat } from './load-article'\nimport { Histogram, transposeSettingsHeight } from './plots-histogram'\nimport { TimeSeriesPlot } from './plots-timeseries'\n\nexport interface PlotProps {\n    shortname: string\n    longname: string\n    extraStat?: ExtraStat\n    color: string\n    sharedTypeOfAllArticles?: string\n    subseriesName: string\n}\n\nexport function RenderedPlot({ statDescription, plotProps }: { statDescription: string, plotProps: PlotProps[] }): ReactNode {\n    const type = plotProps.reduce<undefined | 'histogram' | 'time_series'>((result, plot) => {\n        if (result === undefined) {\n            return plot.extraStat?.type\n        }\n        else if (plot.extraStat?.type !== undefined && plot.extraStat.type !== result) {\n            throw new Error('Rendering plots of differing types')\n        }\n        return result\n    }, undefined)\n    switch (type) {\n        case 'histogram':\n            return (\n                <Histogram\n                    statDescription={statDescription}\n                    histograms={plotProps.flatMap(\n                        (props) => {\n                            if (props.extraStat?.type !== 'histogram') {\n                                return []\n                            }\n                            return [\n                                {\n                                    shortname: props.shortname,\n                                    longname: props.longname,\n                                    histogram: props.extraStat,\n                                    color: props.color,\n                                    universeTotal: props.extraStat.universeTotal,\n                                    subseriesName: props.subseriesName,\n                                },\n                            ]\n                        },\n                    )}\n                    sharedTypeOfAllArticles={plotProps[0]?.sharedTypeOfAllArticles}\n                />\n            )\n        case 'time_series':\n            return (\n                <TimeSeriesPlot\n                    stats={plotProps.map(\n                        (props) => {\n                            if (props.extraStat?.type !== 'time_series') {\n                                throw new Error('expected time_series')\n                            }\n                            return {\n                                shortname: props.shortname,\n                                stat: props.extraStat,\n                                color: props.color,\n                            }\n                        },\n                    )}\n                />\n            )\n        case undefined:\n            return null\n    }\n}\n\nexport function extraHeaderSpaceForVertical(spec: PlotProps): number {\n    switch (spec.extraStat?.type) {\n        case 'histogram':\n            return transposeSettingsHeight\n        case 'time_series':\n            return 0\n        case undefined:\n            return 0\n    }\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./table.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./table.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { useSortable } from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport React, { CSSProperties, ReactNode, useContext, useRef, useState } from 'react'\n\nimport { ArticleOrderingListInternal, loadOrdering } from '../load_json'\nimport './table.css'\nimport { Navigator } from '../navigation/Navigator'\nimport { statisticDescriptor } from '../navigation/links'\nimport { Colors } from '../page_template/color-themes'\nimport { colorFromCycle, useColors } from '../page_template/colors'\nimport { MobileArticlePointers, rowExpandedKey, useSetting, useSettings } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { useComparisonHeadStyle, useMobileLayout } from '../utils/responsive'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { displayType } from '../utils/text'\nimport { useTranspose } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { Icon } from './Icon'\nimport { Percentile, percentileText, Statistic } from './display-stats'\nimport { EditableNumber } from './editable-field'\nimport { ArticleRow, Disclaimer, FirstLastStatus } from './load-article'\nimport { PointerArrow, useSinglePointerCell } from './pointer-cell'\nimport { useScreenshotMode } from './screenshot'\nimport { SearchBox } from './search'\nimport { ArrowUpOrDown } from './statistic-panel'\nimport { Cell, CellSpec, ComparisonLongnameCellProps, TopLeftHeaderProps, StatisticNameCellProps } from './supertable'\n\nexport type ColumnIdentifier = 'statval' | 'statval_unit' | 'statistic_percentile' | 'statistic_ordinal' | 'pointer_in_class' | 'pointer_overall'\n\nexport const leftBarMargin = 0.02\n\nconst tableRowStyle: React.CSSProperties = {\n    display: 'flex',\n    flexDirection: 'row',\n}\n\nexport function TableHeaderContainer({ children }: { children: ReactNode }): ReactNode {\n    const colors = useColors()\n\n    const style = {\n        ...tableRowStyle,\n        borderTop: `1pt solid ${colors.textMain}`,\n        borderBottom: `1pt solid ${colors.textMain}`,\n        fontWeight: 500,\n        alignItems: 'center',\n    }\n    return (\n        <div\n            style={style}\n        >\n            {children}\n        </div>\n    )\n}\n\nexport interface CommonLayoutInformation {\n    percentileColumnWidthEm: number\n    ordinalColumnWidthEm: number\n    ordinalColumnPadding: number\n}\n\ninterface ColumnLayoutProps {\n    cells: {\n        columnIdentifier: ColumnIdentifier\n        widthPercentage: number\n        content: ReactNode\n        style: CSSProperties\n    }[]\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    totalWidth: number\n}\n\n// Lays out column content\nexport function ColumnLayout(props: ColumnLayoutProps): JSX.Element[] {\n    const cellPercentages: number[] = []\n    const cellContents = []\n    for (const { widthPercentage, columnIdentifier, content, style } of props.cells) {\n        if (props.onlyColumns && !props.onlyColumns.includes(columnIdentifier)) {\n            continue\n        }\n        cellPercentages.push(widthPercentage)\n        if (props.blankColumns?.includes(columnIdentifier)) {\n            cellContents.push({ content: <span></span>, style })\n        }\n        else {\n            cellContents.push({ content, style })\n        }\n    }\n\n    // normalize cell percentages\n    const sum = cellPercentages.reduce((a, b) => a + b, 0)\n    for (const i of cellPercentages.keys()) {\n        cellPercentages[i] = props.totalWidth * cellPercentages[i] / sum\n    }\n\n    const contents = cellContents.map(\n        ({ content, style }, i) => {\n            const sty: React.CSSProperties = { width: `${cellPercentages[i]}%`, padding: '1px', ...style }\n            return (\n                <div key={i} style={sty}>\n                    {content}\n                </div>\n            )\n        },\n    )\n    return contents\n}\n\nexport interface SuperHeaderHorizontalProps {\n    headerSpecs: (CellSpec & { highlightIndex?: number })[]\n    widthsEach: number[]\n    showBottomBar: boolean\n    leftSpacerWidth: number\n    groupNames?: (string | undefined)[]\n}\n\nexport function SuperHeaderHorizontal(props: SuperHeaderHorizontalProps): ReactNode {\n    const colors = useColors()\n    const barHeight = '5px'\n    const bars = (backgroundColor: (i: number) => string | undefined): ReactNode => {\n        return (\n            <div style={{ display: 'flex' }}>\n                <div style={{ width: `${props.leftSpacerWidth}%`, height: barHeight }} />\n                {Array.from({ length: props.headerSpecs.length }).map(\n                    (_, i) => (\n                        <div\n                            key={`bar_${i}`}\n                            style={{\n                                width: `${props.widthsEach[i]}%`,\n                                height: barHeight,\n                                backgroundColor: backgroundColor(i),\n                            }}\n                        />\n                    ),\n                )}\n            </div>\n        )\n    }\n\n    const getBarColor = (idx: number): string | undefined => {\n        const spec = props.headerSpecs[idx]\n        return spec.highlightIndex !== undefined ? colorFromCycle(colors.hueColors, spec.highlightIndex) : undefined\n    }\n    return (\n        <>\n            {props.groupNames && <SuperHeaderGroupNames leftSpacerWidth={props.leftSpacerWidth} groupNames={props.groupNames} widthsEach={props.widthsEach} />}\n            {bars(getBarColor)}\n            <div style={{ display: 'flex' }}>\n                <div style={{ width: `${props.leftSpacerWidth}%` }} />\n                {props.headerSpecs.map((cellSpec, idx) => <Cell key={idx} {...cellSpec} width={props.widthsEach[idx]} />)}\n            </div>\n            {props.showBottomBar && bars(getBarColor)}\n        </>\n    )\n}\n\nexport function SuperHeaderGroupNames(props: { leftSpacerWidth: number, groupNames: (string | undefined)[], widthsEach: number[] }): ReactNode {\n    if (props.groupNames.every(groupName => groupName === undefined)) {\n        return null\n    }\n    const sizes = []\n    const names: (string | undefined)[] = []\n    for (const [idx, groupName] of props.groupNames.entries()) {\n        if (idx === 0 || groupName !== props.groupNames[idx - 1]) {\n            sizes.push(props.widthsEach[idx])\n            names.push(groupName)\n        }\n        else {\n            sizes[sizes.length - 1] += props.widthsEach[idx]\n        }\n    }\n\n    return (\n        <div style={{ display: 'flex' }} className=\"serif value\">\n            <div style={{ width: `${props.leftSpacerWidth}%` }} />\n            {sizes.map((size, idx) => <div key={idx} style={{ width: `${size}%`, textAlign: 'center' }}>{names[idx]}</div>)}\n        </div>\n    )\n}\n\nexport function ComparisonTopLeftHeader(props: TopLeftHeaderProps & { width: number }): ReactNode {\n    return (\n        <>\n            <ComparisonColorBar key=\"color\" highlightIndex={undefined} />\n            <TopLeftHeader {...props} width={props.width - leftBarMargin * 100} />\n        </>\n    )\n}\n\nexport function TopLeftHeader(props: TopLeftHeaderProps & { width: number }): ReactNode {\n    return (\n        <div style={{ textAlign: 'center', display: 'flex', justifyContent: 'center', padding: '1px', width: `${props.width}%` }}>\n            <span className=\"serif value\" key=\"statistic\">\n                {props.statNameOverride ?? 'Statistic'}\n            </span>\n        </div>\n    )\n}\n\nexport function MainHeaderRow(props: {\n    topLeftSpec: CellSpec\n    topLeftWidth: number\n    columnWidth: number\n    onlyColumns: ColumnIdentifier[]\n    statNameOverride?: string\n    extraSpaceRight: number[]\n    simpleOrdinals: boolean\n    columnWidthsInfo: (CommonLayoutInformation | undefined)[]\n}): ReactNode {\n    return (\n        <>\n            <Cell {...props.topLeftSpec} width={props.topLeftWidth} />\n            {props.extraSpaceRight.map((_, columnIndex) => (\n                <StatisticHeaderCells\n                    key={`headerCells_${columnIndex}`}\n                    onlyColumns={props.onlyColumns}\n                    simpleOrdinals={props.simpleOrdinals}\n                    totalWidth={props.columnWidth}\n                    extraSpaceRight={props.extraSpaceRight[columnIndex] ?? 0}\n                    columnWidthsInfo={props.columnWidthsInfo[columnIndex]}\n                />\n            ))}\n        </>\n    )\n}\n\nfunction makeOrdinalStyle(colors: Colors, isHeader: boolean, columnWidthsInfo?: CommonLayoutInformation): [React.CSSProperties, React.CSSProperties] {\n    const common = {\n        fontSize: '14px',\n        fontWeight: 400,\n        color: colors.ordinalTextColor,\n        margin: 'auto',\n    }\n    const paddingLeft = isHeader ? columnWidthsInfo?.ordinalColumnPadding ?? 0 : 0\n    return [\n        {\n            ...common,\n            maxWidth: `${(columnWidthsInfo?.ordinalColumnWidthEm ?? 8) - paddingLeft}em`,\n            paddingLeft: `${paddingLeft}em`,\n        },\n        { ...common,\n            maxWidth: `${columnWidthsInfo?.percentileColumnWidthEm ?? 8}em`,\n        },\n    ]\n}\n\nexport function StatisticHeaderCells(props: {\n    simpleOrdinals: boolean\n    totalWidth: number\n    onlyColumns?: ColumnIdentifier[]\n    statNameOverride?: string\n    extraSpaceRight?: number\n    columnWidthsInfo?: CommonLayoutInformation\n}): ReactNode {\n    const colors = useColors()\n    const [ordinalStyle, percentileStyle] = makeOrdinalStyle(colors, true, props.columnWidthsInfo)\n\n    const cells = [\n        {\n            columnIdentifier: 'statval',\n            widthPercentage: 15 + 10,\n            content: (\n                <span className=\"serif value\">\n                    Value\n                </span>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 7 : 17,\n            columnIdentifier: 'statistic_percentile',\n            content: (\n                <div className=\"serif\" key=\"ordinal\" style={percentileStyle}>\n                    {\n                        (props.simpleOrdinals ? '%ile' : 'Percentile')\n\n                    }\n                </div>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: props.simpleOrdinals ? 'flex-end' : 'center', marginRight: props.simpleOrdinals ? '5px' : undefined },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 8 : 25,\n            columnIdentifier: 'statistic_ordinal',\n            content: (\n                <div className=\"serif\" key=\"statistic_ordinal\" style={ordinalStyle}>\n                    {\n                        (props.simpleOrdinals ? 'Ord' : 'Ordinal')\n                    }\n                </div>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: props.simpleOrdinals ? 'flex-end' : 'center', marginRight: props.simpleOrdinals ? '5px' : undefined },\n        },\n        ...PointerHeaderCells({ ordinalStyle }),\n    ] satisfies ColumnLayoutProps['cells']\n\n    return (\n        <>\n            <ColumnLayout\n                cells={cells}\n                totalWidth={props.totalWidth}\n                onlyColumns={props.onlyColumns}\n            />\n            <div style={{ width: `${props.extraSpaceRight ?? 0}%` }} />\n        </>\n    )\n}\n\nfunction PointerHeaderCells(props: { ordinalStyle: CSSProperties }): ColumnLayoutProps['cells'] {\n    const pointerInClassCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_in_class',\n        content: <span className=\"serif\" style={props.ordinalStyle}>Within Type</span>,\n        style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n\n    }\n    const pointerOverallCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_overall',\n        content: <span className=\"serif\" style={props.ordinalStyle}>Overall</span>,\n        style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n    }\n\n    // Must be outside branch because uses hooks\n    const selectorCell = PointerHeaderSelectorCell()\n\n    const screenshotMode = useScreenshotMode()\n    const singlePointerCell = useSinglePointerCell()\n\n    if (screenshotMode) {\n        return []\n    }\n    else if (singlePointerCell) {\n        return [selectorCell]\n    }\n    else {\n        return [pointerInClassCell, pointerOverallCell]\n    }\n}\n\nfunction PointerHeaderSelectorCell(): ColumnLayoutProps['cells'][number] {\n    const [preferredPointerCell, setPreferredPointerCell] = useSetting('mobile_article_pointers')\n\n    const selectWidth = 'clamp(45px, 100%, 65px)'\n    const arrowWidth = '12px'\n\n    const selectStyle: CSSProperties = {\n        height: '2lh',\n        whiteSpace: 'wrap',\n        width: selectWidth,\n        textAlign: 'left',\n        appearance: 'none',\n        padding: '0px 1px',\n    }\n\n    const arrowStyle: CSSProperties = {\n        position: 'absolute',\n        left: `calc((max(0px, 100% - ${selectWidth}) / 2) + ${selectWidth} - (${arrowWidth}))`,\n        pointerEvents: 'none',\n        height: arrowWidth,\n        width: arrowWidth,\n        fontSize: arrowWidth,\n        bottom: `5px`,\n    }\n\n    return {\n        widthPercentage: 8,\n        columnIdentifier: preferredPointerCell,\n        content: (\n            <>\n                <select\n                    style={selectStyle}\n                    value={preferredPointerCell}\n                    onChange={(e) => { setPreferredPointerCell(e.target.value as MobileArticlePointers) }}\n                    data-test-id=\"tablePointerSelect\"\n                >\n                    <option value=\"pointer_in_class\">Within Type</option>\n                    <option value=\"pointer_overall\">Overall</option>\n                </select>\n                <span style={arrowStyle}>\n                    {'\\ufe0e'}\n                </span>\n            </>\n        ),\n        style: {\n            textAlign: 'center',\n            position: 'relative',\n        },\n    }\n}\n\nexport function StatisticRowCells(props: {\n    width: number\n    longname: string\n    statisticStyle?: CSSProperties\n    row: ArticleRow\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    onNavigate?: (newArticle: string) => void\n    simpleOrdinals: boolean\n    extraSpaceRight?: number\n    columnWidthsInfo?: CommonLayoutInformation\n}): ReactNode {\n    const colors = useColors()\n    const [ordinalStyle, percentileStyle] = makeOrdinalStyle(colors, false, props.columnWidthsInfo)\n\n    const cells = [\n        {\n            widthPercentage: 15,\n            columnIdentifier: 'statval',\n            content: (\n                <span className=\"serif value testing-statistic-value\">\n                    <Statistic\n                        statname={props.row.statname}\n                        value={props.row.statval}\n                        isUnit={false}\n                        style={props.statisticStyle ?? {}}\n                    />\n                </span>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: 10,\n            columnIdentifier: 'statval_unit',\n            content: (\n                <div className=\"value_unit\">\n                    <span className=\"serif value\">\n                        <Statistic\n                            statname={props.row.statname}\n                            value={props.row.statval}\n                            isUnit={true}\n                        />\n                    </span>\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 7 : 17,\n            columnIdentifier: 'statistic_percentile',\n            content: (\n                <div className=\"serif\" style={percentileStyle}>\n                    <Percentile\n                        ordinal={props.row.ordinal}\n                        total={props.row.totalCountInClass}\n                        percentileByPopulation={props.row.percentileByPopulation}\n                        simpleOrdinals={props.simpleOrdinals}\n                    />\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 8 : 25,\n            columnIdentifier: 'statistic_ordinal',\n            content: (\n                <div className=\"serif\" style={ordinalStyle}>\n                    <Ordinal\n                        ordinal={props.row.ordinal}\n                        total={props.row.totalCountInClass}\n                        type={props.row.articleType}\n                        statpath={props.row.statpath}\n                        simpleOrdinals={props.simpleOrdinals}\n                        onNavigate={props.onNavigate}\n                    />\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        ...PointerRowCells({ ordinalStyle, row: props.row, longname: props.longname }),\n    ] satisfies ColumnLayoutProps['cells']\n\n    return (\n        <>\n            <ColumnLayout\n                cells={cells}\n                totalWidth={props.width}\n                onlyColumns={props.onlyColumns}\n                blankColumns={props.blankColumns}\n            />\n            <div style={{ width: `${props.extraSpaceRight}%` }} />\n        </>\n    )\n}\n\nfunction PointerRowCells(props: { ordinalStyle: CSSProperties, row: ArticleRow, longname: string }): ColumnLayoutProps['cells'] {\n    const screenshotMode = useScreenshotMode()\n\n    const singlePointerCell = useSinglePointerCell()\n    const [preferredPointerCell] = useSetting('mobile_article_pointers')\n\n    const pointerInClassCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_in_class',\n        content: (\n            <span key=\"pointer_in_class\" className=\"serif\" style={{ display: 'flex', ...props.ordinalStyle }}>\n                <PointerButtonsIndex\n                    ordinal={props.row.ordinal}\n                    statpath={props.row.statpath}\n                    type={props.row.articleType}\n                    total={props.row.totalCountInClass}\n                    longname={props.longname}\n                />\n            </span>\n        ),\n        style: { textAlign: 'right' },\n    }\n\n    const pointerOverallCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_overall',\n        content: (\n            <span className=\"serif\" style={{ display: 'flex', ...props.ordinalStyle }}>\n                <PointerButtonsIndex\n                    statpath={props.row.statpath}\n                    type=\"overall\"\n                    total={props.row.totalCountOverall}\n                    longname={props.longname}\n                    overallFirstLast={props.row.overallFirstLast}\n                />\n            </span>\n        ),\n        style: { textAlign: 'right' },\n    }\n\n    if (screenshotMode) {\n        return []\n    }\n    else if (singlePointerCell) {\n        switch (preferredPointerCell) {\n            case 'pointer_in_class':\n                return [pointerInClassCell]\n            case 'pointer_overall':\n                return [pointerOverallCell]\n        }\n    }\n    else {\n        return [pointerInClassCell, pointerOverallCell]\n    }\n}\n\nfunction articleStatnameButtonStyle(colors: Colors): React.CSSProperties {\n    return {\n        cursor: 'pointer', border: `1px solid ${colors.textMain}`,\n        padding: 0, borderRadius: '3px', fontSize: '75%',\n        minWidth: '1.5em', minHeight: '1.5em', textAlign: 'center',\n        lineHeight: '1.2em',\n    }\n}\n\nconst manipulationButtonHeight = '24px'\nfunction ManipulationButton({ color: buttonColor, onClick, text, image }: { color: string, onClick: () => void, text: string, image: string }): ReactNode {\n    const isMobile = useMobileLayout()\n    const isTranspose = useTranspose()\n    const colors = useColors()\n\n    return (\n        <div\n            style={{\n                height: manipulationButtonHeight,\n                lineHeight: manipulationButtonHeight,\n                cursor: 'pointer',\n                paddingLeft: '0.5em', paddingRight: '0.5em',\n                borderRadius: '0.25em',\n                verticalAlign: 'middle',\n                backgroundColor: buttonColor,\n            }}\n            className={`serif manipulation-button-${text}`}\n            onClick={onClick}\n        >\n            {!(isMobile && isTranspose) ? text : <Icon src={image} size={manipulationButtonHeight} color={colors.textMain} />}\n        </div>\n    )\n}\n\nexport function HeadingDisplay({ longname, includeDelete, onDelete, onReplace, manipulationJustify, sharedTypeOfAllArticles }: {\n    longname: string\n    includeDelete: boolean\n    onDelete: () => void\n    onReplace: (q: string) => ReturnType<Navigator['link']>\n    manipulationJustify: CSSProperties['justifyContent']\n    sharedTypeOfAllArticles: string | null | undefined\n}): ReactNode {\n    const colors = useColors()\n    const [isEditing, setIsEditing] = React.useState(false)\n    const currentUniverse = useUniverse()\n    const comparisonHeadStyle = useComparisonHeadStyle()\n\n    const manipulationButtons = (\n        <div style={{ height: manipulationButtonHeight }}>\n            <div style={{ display: 'flex', justifyContent: manipulationJustify, height: '100%' }}>\n                <ManipulationButton color={colors.unselectedButton} onClick={() => { setIsEditing(!isEditing) }} text=\"replace\" image=\"/replace.png\" />\n                {!includeDelete\n                    ? null\n                    : (\n                            <>\n                                <div style={{ width: '5px' }} />\n                                <ManipulationButton color={colors.unselectedButton} onClick={onDelete} text=\"delete\" image=\"/close.png\" />\n                            </>\n                        )}\n                <div style={{ width: '5px' }} />\n            </div>\n        </div>\n    )\n\n    const screenshotMode = useScreenshotMode()\n\n    const navContext = useContext(Navigator.Context)\n\n    return (\n        <div>\n            {screenshotMode ? undefined : manipulationButtons}\n            <div style={{ height: '5px' }} />\n            <a\n                className=\"serif\"\n                {\n                    ...navContext.link({\n                        kind: 'article',\n                        longname,\n                        universe: currentUniverse,\n                    }, { scroll: { kind: 'position', top: 0 } })\n                }\n                style={{ textDecoration: 'none' }}\n            >\n                <div style={useComparisonHeadStyle()}>{longname}</div>\n            </a>\n            {isEditing\n                ? (\n                        <SearchBox\n                            autoFocus={true}\n                            style={{ ...comparisonHeadStyle, width: '100%' }}\n                            placeholder=\"Replacement\"\n                            onChange={() => {\n                                setIsEditing(false)\n                            }}\n                            link={onReplace}\n                            prioritizeArticleType={sharedTypeOfAllArticles ?? undefined}\n                        />\n                    )\n                : null}\n        </div>\n    )\n}\n\nexport function ComparisonLongnameCell(props: ComparisonLongnameCellProps & { width: number }): ReactNode {\n    const currentUniverse = useUniverse()\n    const navContext = useContext(Navigator.Context)\n\n    const haveColorbar = props.transpose && props.highlightIndex !== undefined\n    const width = props.width - (haveColorbar ? 2 * 100 * leftBarMargin : 0)\n\n    const bar = (): ReactNode => props.transpose && props.highlightIndex !== undefined && (\n        <ComparisonColorBar highlightIndex={props.highlightIndex} />\n    )\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging,\n    } = useSortable({ id: props.articleId ?? 'dummy' })\n\n    let extraStyle: CSSProperties = {}\n    let extraProps: React.HTMLAttributes<HTMLDivElement> & { ref?: (node: HTMLElement | null) => void } = { }\n    if (props.draggable && props.articleId) {\n        extraStyle = {\n            transform: CSS.Transform.toString(transform),\n            transition: isDragging ? transition : 'none',\n            opacity: isDragging ? 0.5 : 1,\n            touchAction: 'none',\n        }\n        extraProps = { ref: setNodeRef, ...attributes, ...listeners }\n    }\n\n    return (\n        <>\n            {bar()}\n            <div\n                key={`heading_${props.articleIndex}`}\n                style={{ width: `${width}%`, ...extraStyle }}\n                {...extraProps}\n            >\n                <HeadingDisplay\n                    longname={props.articles[props.articleIndex].longname}\n                    includeDelete={props.articles.length > 1}\n                    onDelete={() => {\n                        void navContext.navigate({\n                            kind: 'comparison',\n                            universe: currentUniverse,\n                            longnames: props.names.filter((_, index) => index !== props.articleIndex),\n                        }, { history: 'push', scroll: { kind: 'none' } })\n                    }}\n                    onReplace={x =>\n                        navContext.link({\n                            kind: 'comparison',\n                            universe: currentUniverse,\n                            longnames: props.names.map((value, index) => index === props.articleIndex ? x : value),\n                        }, { scroll: { kind: 'none' } })}\n                    manipulationJustify={props.transpose ? 'center' : 'flex-end'}\n                    sharedTypeOfAllArticles={props.sharedTypeOfAllArticles}\n                />\n            </div>\n            {bar()}\n        </>\n    )\n}\n\nexport function StatisticNameCell(props: StatisticNameCellProps & { width: number }): ReactNode {\n    const haveColorbar = !props.transpose && props.highlightIndex !== undefined\n    const width = props.width - (haveColorbar ? 100 * leftBarMargin : 0)\n\n    return (\n        <>\n            {haveColorbar && (\n                <ComparisonColorBar highlightIndex={props.highlightIndex} />\n            )}\n            <div\n                key={`statName_${props.row.statpath}`}\n                style={{ width: `${width}%`, padding: '1px', paddingLeft: props.isIndented ? '1em' : '1px', textAlign: props.center ? 'center' : undefined }}\n            >\n                <span className=\"serif value\" style={{ display: 'flex', alignItems: 'center', justifyContent: props.center ? 'center' : 'flex-start', gap: '0.25em' }}>\n                    <StatisticName\n                        row={props.row}\n                        longname={props.longname}\n                        currentUniverse={props.currentUniverse}\n                        center={props.center}\n                        displayName={props.displayName ?? props.row.renderedStatname}\n                    />\n                    {props.sortInfo && (\n                        <span\n                            style={{\n                                cursor: 'pointer',\n                                height: '16px',\n                                marginLeft: props.transpose ? '0' : 'auto',\n                            }}\n                            onClick={props.sortInfo.onSort}\n                        >\n                            <ArrowUpOrDown direction={props.sortInfo.sortDirection} shouldAppearInScreenshot={false} />\n                        </span>\n                    )}\n                </span>\n            </div>\n        </>\n    )\n}\n\nexport function StatisticName(props: {\n    row: ArticleRow\n    longname: string\n    currentUniverse: string\n    center?: boolean\n    displayName: string\n}): ReactNode {\n    const [expanded, setExpanded] = useSetting(rowExpandedKey(props.row.statpath))\n    const colors = useColors()\n    const navContext = useContext(Navigator.Context)\n\n    const link = (\n        <a\n            style={{ textDecoration: 'none', color: colors.textMain }}\n            {\n                ...navContext.link(statisticDescriptor({\n                    universe: props.currentUniverse,\n                    statname: props.row.statname,\n                    articleType: props.row.articleType,\n                    start: props.row.ordinal,\n                    amount: 20,\n                    order: 'descending',\n                    highlight: props.longname,\n                }), { scroll: { kind: 'position', top: 0 } })\n            }\n            data-test-id=\"statistic-link\"\n        >\n            {props.displayName}\n        </a>\n    )\n    const screenshotMode = useScreenshotMode()\n    const elements = [link]\n    if (props.row.extraStat !== undefined && !screenshotMode) {\n        elements.push(\n            <div\n                className=\"expand-toggle\"\n                onClick={() => { setExpanded(!expanded) }}\n                style={articleStatnameButtonStyle(colors)}\n            >\n                {expanded ? '-' : '+'}\n            </div>,\n        )\n    }\n    if (props.row.disclaimer !== undefined) {\n        elements.push(<StatisticNameDisclaimer disclaimer={props.row.disclaimer} />)\n    }\n    if (elements.length > 1) {\n        const paddedElements = [elements[0]]\n        for (let i = 1; i < elements.length; i++) {\n            paddedElements.push(<div key={i} style={{ marginLeft: '0.3em' }} />)\n            paddedElements.push(elements[i])\n        }\n        return (\n            <span style={{\n                display: 'flex',\n                alignItems: 'center',\n                flexDirection: 'row',\n                justifyContent: props.center ? 'center' : undefined,\n            }}\n            >\n                {...paddedElements}\n            </span>\n        )\n    }\n    return link\n}\n\nexport function ComparisonColorBar({ highlightIndex }: { highlightIndex: number | undefined }): ReactNode {\n    const colors = useColors()\n\n    return (\n        <div\n            key=\"color\"\n            style={{\n                width: `${100 * leftBarMargin}%`,\n                alignSelf: 'stretch',\n                position: 'relative',\n            }}\n        >\n            <div style={{\n                backgroundColor: highlightIndex === undefined ? colors.background : colorFromCycle(colors.hueColors, highlightIndex),\n                height: '100%',\n                width: '50%',\n                left: '25%',\n                position: 'absolute',\n            }}\n            />\n        </div>\n    )\n}\n\nfunction computeDisclaimerText(disclaimer: Disclaimer): string {\n    switch (disclaimer) {\n        case 'heterogenous-sources':\n            return 'This statistic is based on data from multiple sources, which may not be consistent with each other.'\n    }\n}\n\nfunction StatisticNameDisclaimer(props: { disclaimer: Disclaimer }): ReactNode {\n    // little disclaimer icon that pops up a tooltip when clicked\n    const [show, setShow] = useState(false)\n    const colors = useColors()\n    const tooltipStyle: React.CSSProperties = {\n        position: 'absolute',\n        backgroundColor: colors.slightlyDifferentBackgroundFocused,\n        color: colors.textMain,\n        padding: '0.5em',\n        borderRadius: '0.5em',\n        border: `1px solid ${colors.textMain}`,\n        zIndex: zIndex.statisticNameDisclaimer,\n        display: show ? 'block' : 'none',\n    }\n    return (\n        <span>\n            <span\n                className=\"disclaimer-toggle\"\n                style={{ ...articleStatnameButtonStyle(colors), display: 'inline-block' }}\n                onClick={() => { setShow(!show) }}\n            >\n                !\n            </span>\n            <div\n                style={tooltipStyle}\n                onClick={() => { setShow(false) }}\n            >\n                {computeDisclaimerText(props.disclaimer)}\n            </div>\n        </span>\n    )\n}\n\nexport function TableRowContainer({ children, index, minHeight }: { children: React.ReactNode, index: number, minHeight?: string }): React.ReactNode {\n    const colors = useColors()\n    const style: React.CSSProperties = {\n        ...tableRowStyle,\n        backgroundColor: index % 2 === 1 ? colors.slightlyDifferentBackground : undefined,\n        alignItems: 'last baseline',\n        minHeight,\n    }\n    return (\n        <div\n            className=\"for-testing-table-row\"\n            style={style}\n        >\n            {children}\n        </div>\n    )\n}\n\nexport const approxEmPerCharacter = 0.43 // Approximate width of a character in em\n\nfunction ordinalWidthInEm(ordinal: number, total: number, type: string, universe: string, simpleOrdinals: boolean): [number, number] {\n    if (ordinal > total) {\n        return [0, 0]\n    }\n    let ordinalWidth = ordinal.toString().length * approxEmPerCharacter\n    let padding = 0\n    if (ordinalWidth < 2) {\n        padding = 2 - ordinalWidth\n        ordinalWidth = 2\n    }\n    if (simpleOrdinals) {\n        return [ordinalWidth + padding, padding]\n    }\n    else {\n        return [ordinalWidth + ` of ${total} ${displayType(universe, type)}`.length * approxEmPerCharacter + padding, padding]\n    }\n}\n\nexport function computeSizesForRow(row: ArticleRow, universe: string, simpleOrdinals: boolean): CommonLayoutInformation {\n    // Compute the size of the ordinal and percentile text\n    const [ordinalColumnWidthEm, ordinalColumnPadding] = ordinalWidthInEm(row.totalCountInClass, row.totalCountInClass, row.articleType, universe, simpleOrdinals)\n    const percentileTextSample = percentileText(row.percentileByPopulation, simpleOrdinals)\n    const percentileColumnWidthEm = percentileTextSample.length * approxEmPerCharacter\n    return {\n        ordinalColumnWidthEm,\n        ordinalColumnPadding,\n        percentileColumnWidthEm,\n    }\n}\n\nfunction Ordinal(props: {\n    ordinal: number\n    total: number\n    type: string\n    statpath: string\n    simpleOrdinals: boolean\n    onNavigate?: (newArticle: string) => void\n}): ReactNode {\n    const currentUniverse = useUniverse()\n    const onNewNumber = async (number: number): Promise<void> => {\n        let num = number\n        if (num < 0) {\n            // -1 -> props.total, -2 -> props.total - 1, etc.\n            num = props.total + 1 + num\n        }\n        if (num > props.total) {\n            num = props.total\n        }\n        if (num <= 0) {\n            num = 1\n        }\n        const data = await loadOrdering(currentUniverse, props.statpath, props.type)\n        props.onNavigate?.(data.longnames[num - 1])\n    }\n    const ordinal = props.ordinal\n    const total = props.total\n    const type = props.type\n    if (ordinal > total) {\n        return <span></span>\n    }\n    const en = (\n        <EditableNumber\n            number={ordinal}\n            onNewNumber={onNewNumber}\n        />\n    )\n    return (\n        <div className=\"serif\" style={{ textAlign: 'right', marginRight: props.simpleOrdinals ? '5px' : 0 }}>\n            {en}\n            {props.simpleOrdinals\n                ? <></>\n                : (\n                        <>\n                            {' of '}\n                            {total}\n                            {' '}\n                            {displayType(currentUniverse, type)}\n                        </>\n                    )}\n\n        </div>\n    )\n}\n\n;\n\n// Lacks some customization since its column is not show in the comparison view\nfunction PointerButtonsIndex(props: { ordinal?: number, statpath: string, type: string, total: number, longname: string, overallFirstLast?: FirstLastStatus }): ReactNode {\n    const currentUniverse = useUniverse()\n    const getData = async (): Promise<ArticleOrderingListInternal> => await loadOrdering(currentUniverse, props.statpath, props.type)\n    return (\n        <span style={{ margin: 'auto', whiteSpace: 'nowrap' }}>\n            <PointerButtonIndex\n                getData={getData}\n                originalPos={props.ordinal}\n                direction={-1}\n                total={props.total}\n                longname={props.longname}\n                disable={props.overallFirstLast?.isFirst}\n            />\n            <PointerButtonIndex\n                getData={getData}\n                originalPos={props.ordinal}\n                direction={+1}\n                total={props.total}\n                longname={props.longname}\n                disable={props.overallFirstLast?.isLast}\n            />\n        </span>\n    )\n}\n\nfunction PointerButtonIndex(props: {\n    getData: () => Promise<ArticleOrderingListInternal>\n    originalPos?: number // 1-indexed\n    direction: -1 | 1\n    total: number\n    longname: string\n    disable?: boolean\n}): ReactNode {\n    const universe = useUniverse()\n    const colors = useColors()\n    const navigation = useContext(Navigator.Context)\n    const showSettings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const onClick = async (): Promise<void> => {\n        /* eslint-disable no-console -- Debugging test failure */\n        console.log(`Click on pointer button! props=${JSON.stringify(props)}`)\n        const data = await props.getData()\n        let pos = data.longnames.indexOf(props.longname) + props.direction\n        console.log(`Starting position=${pos}`)\n        while (pos >= 0 && pos < props.total) {\n            const name = data.longnames[pos]\n            const type = data.typeIndices[pos]\n            console.log(`name=${name}`)\n            if (!isAllowedToBeShown(type, showSettings)) {\n                pos += props.direction\n                continue\n            }\n            console.log(`navigate to ${name}`)\n            void navigation.navigate({\n                kind: 'article',\n                longname: name,\n                universe,\n            }, { history: 'push', scroll: { kind: 'element', element: buttonRef.current! } })\n            return\n        }\n        /* eslint-enable no-console */\n    }\n\n    const buttonStyle: React.CSSProperties = {\n        fontFamily: 'Jost, Arial, sans-serif',\n        fontSize: '8pt',\n        fontWeight: 500,\n        textDecoration: 'none',\n        color: colors.textPointer,\n        padding: '2px 6px 2px 6px',\n        borderRadius: '5px',\n        borderTop: `1px solid ${colors.borderNonShadow}`,\n        borderRight: `1px solid ${colors.borderShadow}`,\n        borderBottom: `1px solid ${colors.borderShadow}`,\n        borderLeft: `1px solid ${colors.borderNonShadow}`,\n        backgroundColor: 'transparent',\n    }\n\n    let disabled: boolean = props.disable ?? false\n    if (props.originalPos !== undefined) {\n        disabled = props.originalPos + props.direction < 1 || props.originalPos + props.direction > props.total\n    }\n\n    const buttonRef = useRef<HTMLButtonElement>(null) // Need the ref otherwise the mouse enter and leave events can be sent to the wrong elem\n\n    return (\n        <button\n            disabled={disabled}\n            style={buttonStyle}\n            onClick={onClick}\n            data-test-id={props.direction}\n            ref={buttonRef}\n            onMouseEnter={() => {\n                buttonRef.current!.style.backgroundColor = colors.slightlyDifferentBackgroundFocused\n            }}\n            onMouseLeave={() => {\n                buttonRef.current!.style.backgroundColor = 'transparent'\n            }}\n        >\n            <PointerArrow direction={props.direction} disabled={disabled} />\n        </button>\n    )\n}\n","import React, { CSSProperties, Fragment, ReactNode } from 'react'\n\nimport { useUniverse } from '../universe'\nimport { Article } from '../utils/protos'\n\nimport { ArticleRow } from './load-article'\nimport { extraHeaderSpaceForVertical, PlotProps, RenderedPlot } from './plots'\nimport { ColumnIdentifier, MainHeaderRow, ComparisonLongnameCell, ComparisonTopLeftHeader, SuperHeaderHorizontal, StatisticNameCell, StatisticRowCells, TableHeaderContainer, TableRowContainer, TopLeftHeader, computeSizesForRow, CommonLayoutInformation } from './table'\n\nexport interface PlotSpec {\n    statDescription: string\n    plotProps: PlotProps[]\n}\n\nexport interface SuperHeaderSpec {\n    headerSpecs: CellSpec[]\n    showBottomBar: boolean\n    groupNames?: (string | undefined)[]\n}\n\nexport interface LeftHeaderSpec {\n    leftHeaderSpecs: CellSpec[]\n    groupNames?: (string | undefined)[]\n}\n\nexport interface TableContentsProps {\n    superHeaderSpec?: SuperHeaderSpec\n    leftHeaderSpec: LeftHeaderSpec\n    rowSpecs: CellSpec[][]\n    horizontalPlotSpecs: (PlotSpec | undefined)[]\n    verticalPlotSpecs: (PlotSpec | undefined)[]\n    topLeftSpec: CellSpec\n    widthLeftHeader: number\n    columnWidth: number\n    onlyColumns: ColumnIdentifier[]\n    simpleOrdinals: boolean\n}\n\nexport function TableContents(props: TableContentsProps): ReactNode {\n    const universe = useUniverse()\n    const headerHeight = props.verticalPlotSpecs.flatMap(p => p === undefined ? [] : p.plotProps).map(p => extraHeaderSpaceForVertical(p)).reduce((a, b) => Math.max(a, b), 0)\n    const contentHeight = '379.5px'\n\n    const shouldSetMinHeight = props.verticalPlotSpecs.some(p => p !== undefined)\n    const overallMinHeight = shouldSetMinHeight ? `calc(${headerHeight}px + ${contentHeight})` : undefined\n    const rowMinHeight = shouldSetMinHeight ? `calc(${contentHeight} / ${props.leftHeaderSpec.leftHeaderSpecs.length})` : undefined\n\n    // should be 1 column, unless there are header specs. only use header specs if we can't infer from the cells.\n    const ncols = props.rowSpecs.length !== 0 ? props.rowSpecs[0].length : props.superHeaderSpec?.headerSpecs.length ?? 1\n\n    const extraSpaceRight = Array.from({ length: ncols }).map((_, i) => (props.verticalPlotSpecs[i] === undefined ? 0 : props.columnWidth))\n    const columnFullWidths = extraSpaceRight.map(extra => props.columnWidth + extra)\n\n    const columnWidthsInfo = props.rowSpecs[0].map((_, colIndex) => {\n        const widthsEach = props.rowSpecs.map(row => row[colIndex].type === 'statistic-row' ? computeSizesForRow(row[colIndex].row, universe, props.simpleOrdinals) : undefined)\n        const maxima = widthsEach.reduce((acc, curr) => {\n            if (curr === undefined) {\n                return acc\n            }\n            else if (acc === undefined) {\n                return curr\n            }\n            return {\n                ordinalColumnWidthEm: Math.max(acc.ordinalColumnWidthEm, curr.ordinalColumnWidthEm),\n                percentileColumnWidthEm: Math.max(acc.percentileColumnWidthEm, curr.percentileColumnWidthEm),\n                ordinalColumnPadding: Math.max(acc.ordinalColumnPadding, curr.ordinalColumnPadding),\n            }\n        }, { ordinalColumnWidthEm: 0, percentileColumnWidthEm: 0, ordinalColumnPadding: 0 })\n        return maxima\n    })\n\n    return (\n        <>\n            {props.superHeaderSpec !== undefined && (\n                <SuperHeaderHorizontal\n                    {...props.superHeaderSpec}\n                    leftSpacerWidth={props.widthLeftHeader}\n                    widthsEach={columnFullWidths}\n                />\n            )}\n\n            <div style={{ position: 'relative', minHeight: overallMinHeight }}>\n                <TableHeaderContainer>\n                    <MainHeaderRow\n                        columnWidth={props.columnWidth}\n                        topLeftSpec={props.topLeftSpec}\n                        topLeftWidth={props.widthLeftHeader}\n                        onlyColumns={props.onlyColumns}\n                        extraSpaceRight={extraSpaceRight}\n                        simpleOrdinals={props.simpleOrdinals}\n                        columnWidthsInfo={columnWidthsInfo}\n                    />\n                </TableHeaderContainer>\n                {props.rowSpecs.map((rowSpecsForItem, rowIndex) => {\n                    const plotSpec = props.horizontalPlotSpecs[rowIndex]\n                    return (\n                        <SuperTableRow\n                            key={`TableRowContainer_${rowIndex}`}\n                            rowIndex={rowIndex}\n                            rowMinHeight={rowMinHeight}\n                            cellSpecs={rowSpecsForItem.map((cellSpec, colIndex) => {\n                                if (cellSpec.type === 'statistic-row') {\n                                    return {\n                                        ...cellSpec,\n                                        columnWidthsInfo: columnWidthsInfo[colIndex],\n                                    }\n                                }\n                                return cellSpec\n                            })}\n                            extraSpaceRight={extraSpaceRight}\n                            plotSpec={plotSpec}\n                            leftHeaderSpec={props.leftHeaderSpec.leftHeaderSpecs[rowIndex]}\n                            widthLeftHeader={props.widthLeftHeader}\n                            columnWidth={props.columnWidth}\n                            groupName={props.leftHeaderSpec.groupNames?.[rowIndex]}\n                            prevGroupName={rowIndex > 0 ? props.leftHeaderSpec.groupNames?.[rowIndex - 1] : undefined}\n                        />\n                    )\n                })}\n                {props.verticalPlotSpecs.map((plotSpec, statIndex) => plotSpec\n                    ? (\n                            <div key={`statPlot_${statIndex}`} style={{ position: 'absolute', top: 0, left: `${props.widthLeftHeader + Array.from({ length: statIndex }).reduce((acc: number, unused, i) => acc + columnFullWidths[i], props.columnWidth)}%`, bottom: 0, width: `${props.columnWidth}%` }}>\n                                <RenderedPlot statDescription={plotSpec.statDescription} plotProps={plotSpec.plotProps} />\n                            </div>\n                        )\n                    : null,\n                )}\n            </div>\n        </>\n    )\n}\n\nexport function SuperTableRow(props: {\n    rowIndex: number\n    leftHeaderSpec: CellSpec\n    cellSpecs: CellSpec[]\n    plotSpec?: PlotSpec\n    widthLeftHeader: number\n    columnWidth: number\n    rowMinHeight?: string\n    groupName?: string\n    prevGroupName?: string\n    extraSpaceRight: number[]\n}): ReactNode {\n    return (\n        <div>\n            {props.groupName !== undefined && (props.groupName !== props.prevGroupName) && (\n                <TableRowContainer index={props.rowIndex}>\n                    <div style={{ width: '100%', padding: '1px' }}>\n                        <span className=\"serif value\">\n                            <span>{props.groupName}</span>\n                        </span>\n                    </div>\n                </TableRowContainer>\n            )}\n            <TableRowContainer index={props.rowIndex} minHeight={props.rowMinHeight}>\n                <Cell {...props.leftHeaderSpec} width={props.widthLeftHeader} />\n                {props.cellSpecs.map((spec, colIndex) => (\n                    <Fragment key={`cells_${colIndex}_${props.rowIndex}`}>\n                        <Cell {...spec} width={props.columnWidth} />\n                        <div style={{ width: `${props.extraSpaceRight[colIndex]}%` }}></div>\n                    </Fragment>\n                ))}\n            </TableRowContainer>\n            {props.plotSpec && (\n                <div style={{ width: '100%', position: 'relative' }}>\n                    <RenderedPlot statDescription={props.plotSpec.statDescription} plotProps={props.plotSpec.plotProps} />\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport type CellSpec = ({ type: 'comparison-longname' } & ComparisonLongnameCellProps) |\n    ({ type: 'statistic-name' } & StatisticNameCellProps) |\n    ({ type: 'statistic-row' } & StatisticRowCellProps) |\n    ({ type: 'comparison-top-left-header' } & TopLeftHeaderProps) |\n    ({ type: 'top-left-header' } & TopLeftHeaderProps)\n\nexport function Cell(props: CellSpec & { width: number }): ReactNode {\n    switch (props.type) {\n        case 'comparison-longname':\n            return <ComparisonLongnameCell {...props} width={props.width} />\n        case 'statistic-name':\n            return <StatisticNameCell {...props} width={props.width} />\n        case 'statistic-row':\n            return <StatisticRowCells {...props} width={props.width} />\n        case 'comparison-top-left-header':\n            return <ComparisonTopLeftHeader {...props} width={props.width} />\n        case 'top-left-header':\n            return <TopLeftHeader {...props} width={props.width} />\n    }\n}\n\nexport interface ComparisonLongnameCellProps {\n    articleIndex: number\n    articles: Article[]\n    names: string[]\n    transpose: boolean\n    sharedTypeOfAllArticles: string | null | undefined\n    highlightIndex?: number\n    draggable?: boolean\n    articleId?: string\n}\n\nexport interface StatisticNameCellProps {\n    row: ArticleRow\n    longname: string\n    currentUniverse: string\n    center?: boolean\n    highlightIndex?: number\n    transpose?: boolean\n    isIndented?: boolean\n    displayName?: string\n    sortInfo?: {\n        sortDirection: 'up' | 'down' | 'both'\n        onSort: () => void\n    }\n}\n\nexport interface StatisticRowCellProps {\n    longname: string\n    statisticStyle?: CSSProperties\n    row: ArticleRow\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    onNavigate?: (newArticle: string) => void\n    simpleOrdinals: boolean\n    extraSpaceRight?: number\n    columnWidthsInfo?: CommonLayoutInformation\n}\n\nexport interface TopLeftHeaderProps {\n    statNameOverride?: string\n}\n","import { useEffect, useState } from 'react'\n\nexport class Property<T> {\n    private _value: T\n    readonly observers = new Set<() => void>()\n\n    readonly id = Math.random().toString(36).substring(2)\n\n    constructor(value: T) {\n        this._value = value\n    }\n\n    get value(): T {\n        return this._value\n    }\n\n    set value(newValue: T) {\n        this._value = newValue\n        this.observers.forEach((observer) => { observer() })\n    }\n\n    /* eslint-disable react-hooks/rules-of-hooks -- Custom hook method */\n    use(): T {\n        const [, setCounter] = useState(0)\n        useEffect(() => {\n            const observer = (): void => {\n                setCounter(counter => counter + 1)\n            }\n            this.observers.add(observer)\n            return () => {\n                this.observers.delete(observer)\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- Needs this as the property can change around the effect\n        }, [this])\n        return this.value\n    }\n    /* eslint-enable react-hooks/rules-of-hooks */\n}\n","import { createContext, useContext } from 'react'\n\n// eslint-disable-next-line no-restricted-syntax -- Context declaration\nexport const TransposeContext = createContext(false)\n\nexport function useTranspose(): boolean {\n    return useContext(TransposeContext)\n}\n"],"names":["ArticleWarnings","screenshotMode","useScreenshotMode","selectedGroups","useSelectedGroups","groupsMissingYearSelection","useGroupsMissingYearSelection","availableYears","useAvailableYears","dataSourceCheckboxes","useDataSourceCheckboxes","settings","useSettings","groupYearKeys","allUncheckedSourceGroups","category","checkboxSpecs","name","forcedOn","sourceEnabledKey","warnings","groupOrCategory","HierarchicalName","YearList","year","checkboxCategoryName","WarningBox","param","colors","useColors","warning","key","years","Icon","size","color","src","style","ArticleMap","props","articleType","related","longname","relatedCheckboxSettings","_useState","mapRef","setMapRef","features","useArticleFeatures","relatedSettingsKeys","useMemo","getRelated","x","relateds","relatedShapes","result","i","isAllowedToBeShown","relationshipKey","randomColor","polygonFeatureCollection","readyFeatures","notWaiting","useZoomFirstFeature","firstFeatureWaiting","waiting","RelativeLoader","CommonMaplibreMap","PolygonFeatureCollection","FullscreenControl","ExternalLinks","elementsEach","metadata","meta","foundMetadata","m","undefined","ExternalLink","sv","assert","computeLinkSuffix","normalizer","imageURLFor","site","useRelatedColor","rowType","colorIntensity","typeCategory","type_to_type_category","colorsEach","Object","relatedButtonColors","typ","mixWithBackground","RelatedButton","currentUniverse","useUniverse","navContext","useContext","Navigator","useMobileLayout","Label","RelationshipGroup","backgroundColor","txt","row","Row","settingKey","checkId","useId","universe","CheckboxSetting","displayType","Array","relationshipType","regions","Related","showSettings","buttons","DefaultMap","_iteratorError","_iteratorError1","button","buttonKeys","a","b","type_ordering_idx","buttonKey","elements","ArticlePanel","article","rows","headersRef","useRef","tableRef","headerTextClass","useHeaderTextClass","subHeaderTextClass","useSubHeaderTextClass","comparisonHeadStyle","useComparisonHeadStyle","filteredRows","csvData","generateCSVDataForArticles","csvFilename","sanitize","QuerySettingsConnection","PageTemplate","createScreenshot","ArticleTable","ComparisonSearchBox","computeNameSpecsWithGroups","nameSpecs","updatedNameSpecs","groupNames","_statParent_source","_statParent_indentedName","spec","statParent","statParents","groupRows","s","_statParents_get","groupSize","groupHasMultipleSources","groupSourcesSet","Set","source","sourceName","displayName","simpleOrdinals","isMobile","widthLeftHeader","expandedSettings","rowExpandedKey","expandedEach","_useSetting","_useWidths","nonPointerColumns","columnWidth","_computeNameSpecsWithGroups","leftHeaderSpecs","onlyColumns","cellSpecs","newArticle","plotSpecs","expanded","index","pullRelevantPlotProps","TableContents","StatisticHeader","type","SearchBox","ComparisonPanel","contents","_localArticlesToUse_find","localArticlesToUse","activeId","setActiveId","_useState1","localArticles","setLocalArticles","_useState2","sortByStatIndex","setSortByStatIndex","_useState3","sortDirection","setSortDirection","sensors","useSensors","useSensor","PointerSensor","TouchSensor","joinedString","names","dataByArticleStat","dataByStatArticle","_","statIndex","articleData","handleSort","newSortDirection","newArticles","sortedIndices","statData","direction","isNaN","item","mobileLayout","validOrdinalsByStat","value","includeOrdinals","maxColumns","statpath","expandedByStatIndex","_expandedSettings_rowExpandedKey","numExpandedExtras","v","widthColumns","widthTransposeColumns","transpose","leftMarginPercent","numColumns","highlightArticleIndicesByStat","articlesStatData","iMax","arr","comparisonRightStyle","searchComparisonStyle","sharedTypeOfAllArticles","rowToDisplayForStat","_dataByStatArticle_statIndex_find","longnameHeaderSpecs","articleIndex","statisticNameHeaderSpecsOriginal","statisticNameHeaderSpecs","statisticNameGroupNames","rowSpecsByStat","unused","colorFromCycle","rowSpecsByStatTransposed","rowSpecs","articleIdx","topLeftSpec","TransposeContext","DndContext","event","active","over","oldIndex","newIndex","arrayMove","newLongnames","closestCenter","SortableContext","verticalListSortingStrategy","horizontalListSortingStrategy","ComparisonMultiMap","DragOverlay","shortname","sPs","sP","byYear","Map","_byYear_get","statpaths","bestSourceEach","indices","sources","exactMatch","JSON","nullMatch","idx","slice","from","to","partition","sliceIndex","result1","i1","rowIndex","partitionIndex","ComparisonMap","longnames","attribution","id","useZoomAllFeatures","CustomAttributionControlComponent","ComparisonMapButtons","systemColors","click","boundingBox","defaultMapPadding","zIndex","ZoomButton","extendBoxes","f","onClick","EditableString","contentEditable","html","propsRef","setCounter","useEffect","count","handleSubmit","content","ContentEditable","evt","e","setTimeout","range","document","selection","window","EditableNumber","number","parseInt","Number","PlotComponent","useTranspose","plotRef","plotSpec","plotConfig","useCallback","transposeConfig","_plotSpec","marks","xlabel","ylabel","ydomain","legend","plot","Plot","transposeTopMargin","div","strokeDasharrays","Histogram","histogramType","histograms","subseriesNames","h","useImperial","_useSetting1","relative","_useSetting2","binMin","binSize","histogram","Error","maxValue","log10TickGapTimes3","tickGapOom","tickGap","yKeypoints","axis","grid","shortnames","themeColors","colorItems","dashPatterns","dashPatternItems","totalItems","title","renderY","y","renderNumberHighlyRounded","_histogramBounds","_Math","_Math1","xIdxEnd","zerosAtFront","xIdxStart","xidxs","_xAxis","xKeypoints","xidx","lastDigit","adjustment","Math","d","pow10Moral","x10","errorRound","xAxisMarks","renderX","_createHistogramMarks","series","isCumulative","sumEach","histogramIdx","counts","seriesSingle","dovetailSequences","width","off","_seriesSingle","tip","maxSequences","seriesMax","computeDashPatterns","_marks","_dashPatterns_get","strokeDasharray","maxValueRounded","tickGapMantissa","_marks1","computeColorItems","dashPatternsEnumerated","pattern","svgNS","group","translateY","allLabels","maxTextWidth","context","canvas","label","textWidth","paddingX","background","String","paddingY","rowHeight","square","centerY","text","squareSize","line","lineLength","makePlot","HistogramSettings","subseriesNamesOrdered","subId","setHistogramType","showSearchBox","setShowSearchBox","uniqueShortnames","deduplicate","regionName","places","TimeSeriesPlot","stat","xval","RenderedPlot","_plotProps_","statDescription","plotProps","_plot_extraStat","_plot_extraStat1","_props_extraStat","tableRowStyle","TableHeaderContainer","children","ColumnLayout","cellPercentages","cellContents","_props_blankColumns","widthPercentage","columnIdentifier","sum","sty","SuperHeaderHorizontal","bars","getBarColor","SuperHeaderGroupNames","cellSpec","Cell","groupName","sizes","ComparisonTopLeftHeader","ComparisonColorBar","TopLeftHeader","leftBarMargin","_props_statNameOverride","MainHeaderRow","columnIndex","_props_extraSpaceRight_columnIndex","StatisticHeaderCells","makeOrdinalStyle","isHeader","columnWidthsInfo","_columnWidthsInfo_ordinalColumnPadding","_columnWidthsInfo_ordinalColumnWidthEm","_columnWidthsInfo_percentileColumnWidthEm","common","paddingLeft","preferredPointerCell","setPreferredPointerCell","selectWidth","arrowWidth","arrowStyle","pointerInClassCell","pointerOverallCell","selectorCell","singlePointerCell","_props_extraSpaceRight","_makeOrdinalStyle","ordinalStyle","percentileStyle","cells","useSinglePointerCell","StatisticRowCells","_props_statisticStyle","Statistic","Percentile","Ordinal","PointerRowCells","PointerButtonsIndex","articleStatnameButtonStyle","manipulationButtonHeight","ManipulationButton","buttonColor","image","isTranspose","HeadingDisplay","includeDelete","onDelete","onReplace","manipulationJustify","_React_useState","isEditing","setIsEditing","manipulationButtons","ComparisonLongnameCell","_props_articleId","haveColorbar","bar","_useSortable","attributes","listeners","setNodeRef","transform","transition","isDragging","extraStyle","extraProps","CSS","StatisticNameCell","_props_displayName","StatisticName","ArrowUpOrDown","setExpanded","link","statisticDescriptor","StatisticNameDisclaimer","paddedElements","highlightIndex","show","setShow","tooltipStyle","computeDisclaimerText","disclaimer","TableRowContainer","minHeight","ordinal","total","en","num","data","loadOrdering","_props_overallFirstLast","_props_overallFirstLast1","getData","PointerButtonIndex","_props_disable","navigation","buttonStyle","disabled","buttonRef","pos","console","PointerArrow","_props_superHeaderSpec_headerSpecs_length","headerHeight","p","_spec_extraStat","contentHeight","shouldSetMinHeight","overallMinHeight","rowMinHeight","extraSpaceRight","columnFullWidths","extra","colIndex","widthsEach","_ordinalWidthInEm","ordinalColumnWidthEm","ordinalWidth","padding","ordinalColumnPadding","percentileColumnWidthEm","percentileTextSample","percentileText","acc","curr","rowSpecsForItem","_props_leftHeaderSpec_groupNames","_props_leftHeaderSpec_groupNames1","SuperTableRow","Fragment","Property","newValue","observer","use","counter","t","createContext"],"mappings":"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"}