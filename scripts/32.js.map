{"version":3,"file":"32.js","sources":["webpack://assets/./src/components/plots.css","webpack://assets/./src/components/table.css","webpack://assets/./src/components/ArticleWarnings.tsx","webpack://assets/./src/components/Icon.tsx","webpack://assets/./src/components/ArticleMap.tsx","webpack://assets/./src/data/metadata.ts","webpack://assets/./src/components/ExternalLiinks.tsx","webpack://assets/./src/data/relatedButtonColors.ts","webpack://assets/./src/components/related-button.tsx","webpack://assets/./src/components/article-panel.tsx","webpack://assets/./src/components/editable-field.tsx","webpack://assets/./src/components/plots.css?871a","webpack://assets/./src/components/plots-general.tsx","webpack://assets/./src/components/plots-histogram.tsx","webpack://assets/./src/components/plots-timeseries.tsx","webpack://assets/./src/components/plots.tsx","webpack://assets/./src/components/table.css?1d6c","webpack://assets/./src/components/table.tsx","webpack://assets/./src/components/supertable.tsx","webpack://assets/./src/utils/Property.ts","webpack://assets/./src/utils/transpose.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.histogram-svg-panel svg {\n    max-height: 100%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/plots.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;AACpB\",\"sourcesContent\":[\".histogram-svg-panel svg {\\n    max-height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.value_unit {\n    text-align: left;\n    padding-right: 1em;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/table.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;IAChB,kBAAkB;AACtB\",\"sourcesContent\":[\".value_unit {\\n    text-align: left;\\n    padding-right: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import React, { ReactNode } from 'react'\n\nimport { useColors } from '../page_template/colors'\nimport { checkboxCategoryName, sourceEnabledKey, useSettings } from '../page_template/settings'\nimport { groupYearKeys, useAvailableYears, useDataSourceCheckboxes, useGroupsMissingYearSelection, useSelectedGroups } from '../page_template/statistic-settings'\nimport { Category, Group } from '../page_template/statistic-tree'\n\nimport { useScreenshotMode } from './screenshot'\n\nexport function ArticleWarnings(): ReactNode {\n    const screenshotMode = useScreenshotMode()\n    const selectedGroups = useSelectedGroups()\n    const groupsMissingYearSelection = useGroupsMissingYearSelection()\n    const availableYears = useAvailableYears()\n    const dataSourceCheckboxes = useDataSourceCheckboxes()\n    const settings = useSettings(groupYearKeys())\n\n    const allUncheckedSourceGroups = dataSourceCheckboxes\n        .filter(({ category, checkboxSpecs }) => checkboxSpecs\n            .every(({ name, forcedOn }) => !forcedOn && !settings[sourceEnabledKey({ category, name })]))\n\n    if (screenshotMode) {\n        return null\n    }\n    const warnings = selectedGroups.length === 0\n        ? [\n                <b key=\"noneSelected\">\n                    No Statistic Categories are selected\n                </b>,\n            ]\n        : [\n                ...groupsMissingYearSelection.map(groupOrCategory => (\n                    <>\n                        To see\n                        {' '}\n                        <b><HierarchicalName groupOrCategory={groupOrCategory} /></b>\n                        {' statistics, select '}\n                        <YearList years={availableYears.filter(year => groupOrCategory.years.has(year))} />\n                        .\n                    </>\n                )),\n                ...allUncheckedSourceGroups.map(({ category }) => (\n                    <>\n                        All statistics from the\n                        {' '}\n                        <b>{checkboxCategoryName(category)}</b>\n                        {' '}\n                        are disabled.\n                    </>\n                )),\n            ]\n\n    if (warnings.length === 0) {\n        return null\n    }\n\n    return <WarningBox warnings={warnings} />\n}\n\nfunction WarningBox({ warnings }: { warnings: ReactNode[] }): ReactNode {\n    const colors = useColors()\n\n    return (\n        <div\n            style={{\n                backgroundColor: colors.slightlyDifferentBackgroundFocused,\n                borderRadius: '5px',\n            }}\n            data-test-id=\"article-warnings\"\n        >\n            <ul style={{\n                paddingTop: '1em',\n                paddingBottom: '1em',\n            }}\n            >\n                {\n                    warnings.map(\n                        (warning, key) => (\n                            <li key={key}>\n                                {warning}\n                            </li>\n                        ),\n                    )\n                }\n            </ul>\n        </div>\n    )\n}\n\nfunction HierarchicalName({ groupOrCategory }: { groupOrCategory: Group | Category }): ReactNode {\n    switch (groupOrCategory.kind) {\n        case 'Group':\n            return `${groupOrCategory.parent.name} > ${groupOrCategory.name}`\n        case 'Category':\n            return groupOrCategory.name\n    }\n}\n\nfunction YearList({ years }: { years: number[] }): ReactNode {\n    switch (years.length) {\n        case 0:\n            return null\n        case 1:\n            return <b>{years[0]}</b>\n        case 2:\n            return (\n                <>\n                    <b>{years[0]}</b>\n                    {' or '}\n                    <b>{years[1]}</b>\n                </>\n            )\n        case 3:\n            return (\n                <>\n                    <b>{years[0]}</b>\n                    {', '}\n                    <b>{years[1]}</b>\n                    {', or '}\n                    <b>{years[2]}</b>\n                </>\n            )\n        default:\n            return (\n                <>\n                    <b>{years[0]}</b>\n                    {', '}\n                    <YearList years={years.slice(1)} />\n                </>\n            )\n    }\n}\n","/**\n * This only uses the transparency of the icon image to display the specified color.\n */\n\nimport React, { CSSProperties, ReactNode } from 'react'\n\nexport function Icon({ size, color, src, style }: { size: string, color: string, src: string, style?: Partial<CSSProperties> }): ReactNode {\n    return (\n        <div style={{ backgroundColor: color, width: size, height: size, maskImage: `url(${src})`, maskRepeat: 'no-repeat', maskSize: 'contain', maskPosition: 'center', ...style }} />\n    )\n}\n","import React, { ReactNode, useMemo, useRef } from 'react'\nimport { FullscreenControl, MapRef } from 'react-map-gl/maplibre'\n\nimport 'maplibre-gl/dist/maplibre-gl.css'\nimport { useColors } from '../page_template/colors'\nimport { relatedSettingsKeys, relationshipKey, useSettings } from '../page_template/settings'\nimport { randomColor } from '../utils/color'\nimport { notWaiting, waiting } from '../utils/promiseStream'\nimport { IRelatedButton, IRelatedButtons } from '../utils/protos'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { NormalizeProto } from '../utils/types'\n\nimport { CommonMaplibreMap, Polygon, PolygonFeatureCollection, polygonFeatureCollection, useZoomFirstFeature } from './map-common'\n\ninterface ArticleMapProps {\n    articleType: string\n    related: NormalizeProto<IRelatedButtons>[]\n    longname: string\n}\n\nexport function ArticleMap(props: ArticleMapProps): ReactNode {\n    const mapRef = useRef<MapRef>(null)\n\n    const features = useArticleFeatures(props).use()\n\n    const readyFeatures = useMemo(() => features.filter(notWaiting), [features])\n\n    useZoomFirstFeature(mapRef, features)\n\n    return (\n        <CommonMaplibreMap\n            ref={mapRef}\n        >\n            <PolygonFeatureCollection features={readyFeatures} clickable={true} />\n            <FullscreenControl position=\"top-left\" />\n        </CommonMaplibreMap>\n    )\n}\n\nfunction useArticleFeatures({ articleType, related, longname }: ArticleMapProps): {\n    use: () => (GeoJSON.Feature | typeof waiting)[]\n} {\n    const settings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const relatedCheckboxSettings = useSettings(relatedSettingsKeys(articleType))\n\n    const colors = useColors()\n\n    return useMemo(() => {\n        const getRelated = (key: string): NormalizeProto<IRelatedButton>[] => {\n            const element = related.filter(\n                x => x.relationshipType === key)\n                .map(x => x.buttons)[0]\n            return element\n        }\n\n        const relateds = [\n            ...getRelated('contained_by'),\n            ...getRelated('intersects'),\n            ...getRelated('borders'),\n            ...getRelated('contains'),\n            ...getRelated('same_geography'),\n        ]\n\n        const relatedShapes = (() => {\n            const result: Polygon[] = []\n            for (let i = relateds.length - 1; i >= 0; i--) {\n                if (!isAllowedToBeShown(relateds[i].rowType, settings)) {\n                    continue\n                }\n                const key = relationshipKey(articleType, relateds[i].rowType)\n                if (!relatedCheckboxSettings[key]) {\n                    continue\n                }\n\n                const color = randomColor(relateds[i].longname)\n                result.push({\n                    name: relateds[i].longname,\n                    color, weight: 1, fillColor: color, fillOpacity: 0.1,\n                })\n            }\n            return result\n        })()\n\n        const color = colors.hueColors.blue\n\n        return polygonFeatureCollection([\n            {\n                name: longname,\n                fillOpacity: 0.5, weight: 1, color, fillColor: color,\n                clickable: false,\n            },\n            ...relatedShapes,\n        ])\n    }, [articleType, colors.hueColors.blue, longname, related, relatedCheckboxSettings, settings])\n}\n","export default {\n    \"displayed_metadata\": [\n        {\n            \"index\": 0,\n            \"name\": \"US Census GeoID\"\n        },\n        {\n            \"index\": 1,\n            \"name\": \"StatCan GeoCode\"\n        },\n        {\n            \"index\": 4,\n            \"name\": \"ISO Code\"\n        }\n    ],\n    \"external_link_metadata\": [\n        {\n            \"index\": 2,\n            \"site\": \"Wikidata\",\n            \"link_prefix\": \"https://www.wikidata.org/wiki/\",\n            \"normalizer\": null\n        },\n        {\n            \"index\": 3,\n            \"site\": \"Wikipedia\",\n            \"link_prefix\": \"https://en.wikipedia.org/wiki/\",\n            \"normalizer\": \"wikipedia\"\n        }\n    ]\n} as const","import React, { ReactNode } from 'react'\n\nimport metadata from '../data/metadata'\nimport { Colors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { assert } from '../utils/defensive'\nimport { IMetadata } from '../utils/protos'\n\ntype ExternalLinkSpec = (typeof metadata.external_link_metadata)[number]\ntype NormalizerSpec = ExternalLinkSpec['normalizer']\n\nexport function ExternalLinks(props: { metadataProtos: IMetadata[] }): ReactNode {\n    const elementsEach = metadata.external_link_metadata.flatMap((meta) => {\n        const foundMetadata = props.metadataProtos.find(m => m.metadataIndex === meta.index)\n        if (foundMetadata === undefined) {\n            return []\n        }\n        return [<ExternalLink key={meta.index} meta={meta} metaProto={foundMetadata} />]\n    })\n\n    return <>{elementsEach}</>\n}\n\nfunction ExternalLink(props: { meta: ExternalLinkSpec, metaProto: IMetadata }): ReactNode {\n    const colors = useColors()\n    const sv = props.metaProto.stringValue\n    assert(sv !== undefined && sv !== null, `ExternalLink: stringValue is undefined for metadata index ${props.meta.index}`)\n    return (\n        <a\n            href={props.meta.link_prefix + computeLinkSuffix(props.meta.normalizer, sv)}\n        >\n            <img\n                style={{ height: '36px', marginRight: '8px', verticalAlign: 'middle' }}\n                src={imageURLFor(props.meta.site, colors)}\n            />\n        </a>\n    )\n}\n\nfunction computeLinkSuffix(normalizer: NormalizerSpec, sv: string): string {\n    switch (normalizer) {\n        case null:\n            return sv\n        case 'wikipedia':\n            return sv.replace(/ /g, '_')\n    }\n}\n\nfunction imageURLFor(site: ExternalLinkSpec['site'], colors: Colors): string {\n    switch (site) {\n        case 'Wikipedia':\n            return '/wikipedia.svg'\n        case 'Wikidata':\n            return colors.wikidataURL\n    }\n}\n","export default [\n    [\n        \"International\",\n        \"red\"\n    ],\n    [\n        \"International City\",\n        \"red\"\n    ],\n    [\n        \"US Subdivision\",\n        \"blue\"\n    ],\n    [\n        \"US City\",\n        \"blue\"\n    ],\n    [\n        \"Census\",\n        \"cyan\"\n    ],\n    [\n        \"Political\",\n        \"purple\"\n    ],\n    [\n        \"Oddball\",\n        \"darkGrey\"\n    ],\n    [\n        \"Kavi\",\n        \"brown\"\n    ],\n    [\n        \"School\",\n        \"yellow\"\n    ],\n    [\n        \"Small\",\n        \"pink\"\n    ],\n    [\n        \"Native\",\n        \"green\"\n    ]\n] as const","import React, { ReactNode, useContext, useId } from 'react'\n\nimport relatedButtonColors from '../data/relatedButtonColors'\nimport type_ordering_idx from '../data/type_ordering_idx'\nimport type_to_type_category from '../data/type_to_type_category'\nimport { Navigator } from '../navigation/Navigator'\nimport { HueColors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { relationshipKey, useSettings } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { DefaultMap } from '../utils/DefaultMap'\nimport { mixWithBackground } from '../utils/color'\nimport { useMobileLayout } from '../utils/responsive'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { displayType } from '../utils/text'\n\nimport { CheckboxSetting } from './sidebar'\n\ninterface Region { rowType: string, longname: string, shortname: string }\n\nconst propForRegionTypes = 0.20\nconst spacing = 2\n\nfunction colorsEach(colors: HueColors): Record<string, string> {\n    const keys: [string, string][] = relatedButtonColors.map(\n        ([typ, color]) => [typ, colors[color]],\n    )\n    return Object.fromEntries(keys)\n}\n\nfunction useRelatedColor(rowType: string, colorIntensity: number): string {\n    const colors = useColors()\n    const typeCategory = type_to_type_category[rowType]\n    const color = colorsEach(colors.hueColors)[typeCategory]\n    return mixWithBackground(color, (colors.mixPct + (100 - colors.mixPct) * (1 - colorIntensity)) / 100, colors.background)\n}\n\nfunction RelatedButton(props: { region: Region }): ReactNode {\n    const currentUniverse = useUniverse()\n    const colors = useColors()\n    const navContext = useContext(Navigator.Context)\n    return (\n        <li style={{\n            display: 'flex',\n            margin: `${spacing}px`,\n        }}\n        >\n            <a\n                className=\"serif\"\n                style={{\n                    color: colors.textMain,\n                    backgroundColor: useRelatedColor(props.region.rowType, 1),\n                    textDecoration: 'none',\n                    padding: '2px 6px 2px 6px',\n                    borderRadius: '5px',\n                    fontWeight: 400,\n                    fontSize: useMobileLayout() ? '12pt' : '8pt',\n                }}\n                {...navContext.link(\n                    { kind: 'article', longname: props.region.longname, universe: currentUniverse },\n                    { scroll: { kind: 'position', top: 0 } },\n                )}\n            >\n                {props.region.shortname}\n            </a>\n        </li>\n    )\n}\n\nfunction Label(props: { checkId: string, children: ReactNode, fontWeight: number }): ReactNode {\n    return (\n        <div\n            className=\"serif\"\n            style={{\n                fontSize: useMobileLayout() ? '12pt' : '10pt',\n                fontWeight: props.fontWeight,\n                alignContent: 'center',\n                margin: `${spacing}px`,\n            }}\n        >\n            <label htmlFor={props.checkId}>\n                {props.children}\n            </label>\n        </div>\n    )\n}\n\nfunction RelationshipGroup(props: { regions: Region[], checkId: string, relationshipType: string, groupIndex: number, buttonType: string, numGroups: number }): ReactNode {\n    function displayName(name: string): string {\n        name = name.replaceAll('_', ' ')\n        // title case\n        name = name.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase()\n        })\n        return name\n    }\n\n    const backgroundColor = useRelatedColor(props.buttonType, props.groupIndex % 2 === 0 ? 0.3 : 0.4)\n\n    return (\n        <ul\n            style={{\n                display: 'flex',\n                flexFlow: 'row wrap',\n                paddingInlineStart: '0px',\n                listStyleType: 'none',\n                padding: `${spacing}px`,\n                paddingLeft: `${spacing}px`, // Prevents errors\n                ...(props.numGroups > 1\n                    ? {\n                            backgroundColor,\n                            // Border radius if first or last group\n                            borderRadius: props.groupIndex === 0 ? '5px 5px 0 0' : (props.groupIndex === props.numGroups - 1 ? '0 0 5px 5px' : undefined),\n                            paddingLeft: `${2 * spacing}px`,\n                        }\n                    : {}),\n            }}\n        >\n            <Label checkId={props.checkId} fontWeight={400}>\n                {displayName(props.relationshipType)}\n            </Label>\n            {\n                props.regions.map((row, i) => (\n                    <RelatedButton\n                        key={i}\n                        region={row}\n                    />\n                ),\n                )\n            }\n        </ul>\n    )\n}\n\nfunction Row(props: {\n    articleType: string\n    buttonType: string\n    regions: Map<string, Region[]>\n    rowIndex: number\n    totalRows: number\n}): ReactNode {\n    const settingKey = relationshipKey(props.articleType, props.buttonType)\n\n    const checkId = useId()\n\n    const universe = useUniverse()\n\n    return (\n        <li style={{\n            paddingInlineStart: '0px',\n            listStyleType: 'none',\n            margin: 0,\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            position: 'relative',\n            backgroundColor: useRelatedColor(props.buttonType, props.rowIndex % 2 === 0 ? 0.1 : 0.2),\n            // Border radius if first or last row\n            borderRadius: props.rowIndex === 0 ? '5px 5px 0 0' : (props.rowIndex === props.totalRows - 1 ? '0 0 5px 5px' : undefined),\n        }}\n        >\n            <div style={{\n                display: 'flex',\n                width: `${100 * propForRegionTypes}%`,\n                alignItems: 'center',\n            }}\n            >\n                <CheckboxSetting\n                    name=\"\"\n                    settingKey={settingKey}\n                    classNameToUse=\"related_checkbox\"\n                    id={checkId}\n                />\n                <Label checkId={checkId} fontWeight={500}>\n                    {displayType(universe, props.buttonType)}\n                </Label>\n            </div>\n            <ul style={{\n                paddingInlineStart: '0px',\n                listStyleType: 'none',\n                margin: 0,\n                width: `${100 * (1 - propForRegionTypes)}%`,\n                display: 'flex',\n                flexDirection: 'column',\n                padding: props.regions.size > 1 ? `${2 * spacing}px` : `0 0 0 ${3 * spacing}px`,\n            }}\n            >\n                {\n                    Array.from(props.regions).map(([relationshipType, regions], i) => {\n                        return (\n                            <RelationshipGroup\n                                key={relationshipType}\n                                regions={regions}\n                                checkId={checkId}\n                                relationshipType={relationshipType}\n                                groupIndex={i}\n                                buttonType={props.buttonType}\n                                numGroups={props.regions.size}\n                            />\n                        )\n                    })\n                }\n            </ul>\n        </li>\n    )\n}\n\nexport function Related(props: { articleType: string, related: { relationshipType: string, buttons: Region[] }[] }): ReactNode {\n    // buttons[rowType][relationshipType] = <list of buttons>\n    const showSettings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const buttons = new DefaultMap<string, DefaultMap<string, Region[]>>(() => new DefaultMap(() => []))\n    for (const relateds of props.related) {\n        for (const button of relateds.buttons) {\n            buttons.get(button.rowType).get(relateds.relationshipType).push(button)\n        }\n    }\n\n    // get a sorted list of keys of buttons\n    const buttonKeys = Array.from(buttons.keys())\n        .sort((a, b) => type_ordering_idx[a] - type_ordering_idx[b])\n        .filter(buttonKey => isAllowedToBeShown(buttonKey, showSettings))\n\n    const elements = buttonKeys.map((key, i) => (\n        <Row\n            key={key}\n            buttonType={key}\n            regions={buttons.get(key)}\n            articleType={props.articleType}\n            rowIndex={i}\n            totalRows={buttonKeys.length}\n        />\n    ))\n\n    return (\n        <ul style={{\n            margin: '1em 0',\n            paddingInlineStart: '0px',\n            listStyleType: 'none',\n        }}\n        >\n            {elements}\n        </ul>\n    )\n}\n","import '../common.css'\nimport './article.css'\n\nimport React, { ReactNode, useContext, useRef } from 'react'\n\nimport { Navigator } from '../navigation/Navigator'\nimport { sanitize } from '../navigation/links'\nimport { useColors } from '../page_template/colors'\nimport { rowExpandedKey, useSetting, useSettings } from '../page_template/settings'\nimport { groupYearKeys, StatGroupSettings } from '../page_template/statistic-settings'\nimport { statParents } from '../page_template/statistic-tree'\nimport { PageTemplate } from '../page_template/template'\nimport { useUniverse } from '../universe'\nimport { Article, IRelatedButtons } from '../utils/protos'\nimport { useComparisonHeadStyle, useHeaderTextClass, useMobileLayout, useSubHeaderTextClass } from '../utils/responsive'\nimport { NormalizeProto } from '../utils/types'\n\nimport { ArticleMap } from './ArticleMap'\nimport { ArticleWarnings } from './ArticleWarnings'\nimport { ExternalLinks } from './ExternalLiinks'\nimport { QuerySettingsConnection } from './QuerySettingsConnection'\nimport { generateCSVDataForArticles, CSVExportData } from './csv-export'\nimport { ArticleRow } from './load-article'\nimport { Related } from './related-button'\nimport { ScreencapElements, useScreenshotMode } from './screenshot'\nimport { SearchBox } from './search'\nimport { CellSpec, PlotSpec, TableContents } from './supertable'\nimport { ColumnIdentifier } from './table'\n\nexport function ArticlePanel({ article, rows }: { article: Article, rows: (settings: StatGroupSettings) => ArticleRow[][] }): ReactNode {\n    const headersRef = useRef<HTMLDivElement>(null)\n    const tableRef = useRef<HTMLDivElement>(null)\n    const mapRef = useRef<HTMLDivElement>(null)\n\n    const screencapElements = (): ScreencapElements => ({\n        path: `${sanitize(article.longname)}.png`,\n        overallWidth: tableRef.current!.offsetWidth * 2,\n        elementsToRender: [headersRef.current!, tableRef.current!, mapRef.current!],\n    })\n\n    const headerTextClass = useHeaderTextClass()\n    const subHeaderTextClass = useSubHeaderTextClass()\n    const comparisonHeadStyle = useComparisonHeadStyle('right')\n\n    const settings = useSettings(groupYearKeys())\n    const filteredRows = rows(settings)[0]\n\n    const csvData = generateCSVDataForArticles([article], [filteredRows], true)\n    const csvFilename = `${sanitize(article.longname)}.csv`\n    const csvExportData: CSVExportData = { csvData, csvFilename }\n\n    return (\n        <>\n            <QuerySettingsConnection />\n            <PageTemplate\n                screencapElements={screencapElements}\n                csvExportData={csvExportData}\n                hasUniverseSelector={true}\n                universes={article.universes}\n            >\n                <div>\n                    <div ref={headersRef}>\n                        <div className={headerTextClass}>{article.shortname}</div>\n                        <div className={subHeaderTextClass}>{article.longname}</div>\n                    </div>\n                    <div style={{ marginBlockEnd: '16px' }}></div>\n\n                    <div ref={tableRef}>\n                        <ArticleTable\n                            filteredRows={filteredRows}\n                            article={article}\n                        />\n                    </div>\n\n                    <p></p>\n\n                    <div ref={mapRef}>\n                        <ArticleMap\n                            longname={article.longname}\n                            related={article.related as NormalizeProto<IRelatedButtons>[]}\n                            articleType={article.articleType}\n                        />\n                    </div>\n\n                    <div style={{ marginBlockEnd: '1em' }}></div>\n\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                        <div style={{ flex: '0 0 auto', marginRight: '1em' }}>\n                            <ExternalLinks metadataProtos={article.metadata} />\n                        </div>\n                        <div style={{ flex: '0 0 auto', marginRight: '1em' }}>\n                            <div className=\"serif\" style={comparisonHeadStyle}>Compare to: </div>\n                        </div>\n                        <div style={{ flex: '1 1 auto' }}>\n                            <ComparisonSearchBox longname={article.longname} type={article.articleType} />\n                        </div>\n                    </div>\n\n                    <Related\n                        related={article.related as NormalizeProto<IRelatedButtons>[]}\n                        articleType={article.articleType}\n                    />\n                </div>\n            </PageTemplate>\n        </>\n    )\n}\n\ntype NameSpec = Extract<CellSpec, { type: 'statistic-name' }>\n\nexport function computeNameSpecsWithGroups(nameSpecs: NameSpec[]): { updatedNameSpecs: NameSpec[], groupNames: (string | undefined)[] } {\n    const updatedNameSpecs: NameSpec[] = []\n    const groupNames: (string | undefined)[] = []\n\n    for (const spec of nameSpecs) {\n        const statParent = statParents.get(spec.row.statpath)\n\n        const groupRows = nameSpecs.filter(s => statParents.get(s.row.statpath)?.group.id === statParent?.group.id)\n        const groupSize = groupRows.length\n\n        const groupSourcesSet = new Set(\n            groupRows\n                .map(s => statParents.get(s.row.statpath)?.source)\n                .filter(source => source !== null)\n                .map(source => source!.name),\n        )\n        const groupHasMultipleSources = groupSourcesSet.size > 1\n\n        const sourceName = statParent?.source?.name\n        let displayName = groupSize > 1 ? (statParent?.indentedName ?? spec.row.renderedStatname) : spec.row.renderedStatname\n        if (groupHasMultipleSources && sourceName) {\n            displayName = `${displayName} [${sourceName}]`\n        }\n\n        updatedNameSpecs.push({\n            ...spec,\n            isIndented: groupSize > 1,\n            displayName,\n        })\n        groupNames.push(groupSize > 1 ? statParent?.group.name : undefined)\n    }\n\n    return { updatedNameSpecs, groupNames }\n}\n\nfunction ArticleTable(props: {\n    filteredRows: ArticleRow[]\n    article: Article\n}): ReactNode {\n    const colors = useColors()\n    const expandedSettings = useSettings(props.filteredRows.map(row => rowExpandedKey(row.statpath)))\n    const expandedEach = props.filteredRows.map(row => expandedSettings[rowExpandedKey(row.statpath)])\n    const currentUniverse = useUniverse()\n    const [simpleOrdinals] = useSetting('simple_ordinals')\n    const navContext = useContext(Navigator.Context)\n\n    const { widthLeftHeader, columnWidth } = useWidths()\n\n    const statNameSpecs: Extract<CellSpec, { type: 'statistic-name' }>[] = props.filteredRows.map(row => ({\n        type: 'statistic-name',\n        longname: props.article.longname,\n        row,\n        currentUniverse,\n    }))\n\n    const { updatedNameSpecs: leftHeaderSpecs, groupNames } = computeNameSpecsWithGroups(statNameSpecs)\n\n    const onlyColumns: ColumnIdentifier[] = ['statval', 'statval_unit', 'statistic_percentile', 'statistic_ordinal', 'pointer_in_class', 'pointer_overall']\n    const cellSpecs: CellSpec[][] = props.filteredRows.map(row => [({\n        type: 'statistic-row',\n        longname: props.article.longname,\n        row,\n        onNavigate: (newArticle) => {\n            void navContext.navigate({\n                kind: 'article',\n                longname: newArticle,\n                universe: currentUniverse,\n            }, { history: 'push', scroll: { kind: 'none' } })\n        },\n        simpleOrdinals,\n        onlyColumns,\n    })])\n\n    const plotSpecs: (PlotSpec | undefined)[] = expandedEach.map((expanded, index) => expanded\n        ? {\n                statDescription: props.filteredRows[index].renderedStatname,\n                plotProps: [{ ...props.filteredRows[index], color: colors.hueColors.blue, shortname: props.article.shortname, longname: props.article.longname, sharedTypeOfAllArticles: props.article.articleType }], // TODO add other articles when comparison is implemented\n            }\n        : undefined,\n    )\n\n    const topLeftSpec = { type: 'top-left-header' } satisfies CellSpec\n\n    return (\n        <div className=\"stats_table\">\n            <TableContents\n                leftHeaderSpec={{ leftHeaderSpecs, groupNames }}\n                rowSpecs={cellSpecs}\n                horizontalPlotSpecs={plotSpecs}\n                verticalPlotSpecs={[]}\n                topLeftSpec={topLeftSpec}\n                widthLeftHeader={widthLeftHeader}\n                columnWidth={columnWidth}\n                onlyColumns={onlyColumns}\n                simpleOrdinals={simpleOrdinals}\n            />\n            <ArticleWarnings />\n        </div>\n    )\n}\n\nexport function StatisticHeader(props: {\n    longname: string\n    groupName?: string\n}): ReactNode {\n    return (\n        <div style={{ width: '100%', padding: '1px' }}>\n            <span className=\"serif value\">\n                <span>{props.groupName}</span>\n            </span>\n        </div>\n    )\n}\n\nfunction ComparisonSearchBox({ longname, type }: { longname: string, type: string }): ReactNode {\n    const currentUniverse = useUniverse()\n    const navContext = useContext(Navigator.Context)\n    return (\n        <SearchBox\n            style={{ ...useComparisonHeadStyle(), width: '100%' }}\n            placeholder=\"Other region...\"\n            link={x => navContext.link({\n                kind: 'comparison',\n                universe: currentUniverse,\n                longnames: [longname, x],\n            }, { scroll: { kind: 'position', top: 0 } })}\n            autoFocus={false}\n            prioritizeArticleType={type}\n        />\n    )\n}\n\nfunction useWidths(): { widthLeftHeader: number, columnWidth: number } {\n    const [simpleOrdinals] = useSetting('simple_ordinals')\n    const isMobile = useMobileLayout()\n    const screenshotMode = useScreenshotMode()\n\n    // TODO clean this up and reduce the amount of magic numbers\n    const nonPointerColumns = 15 + 10 + (simpleOrdinals ? 7 + 8 : 17 + 25)\n    const pointerColumns = 8 * (screenshotMode ? 0 : (!simpleOrdinals && isMobile ? 1 : 2))\n    const numerator = 31\n    const denominator = nonPointerColumns + pointerColumns + numerator\n    const widthLeftHeader = 100 * (numerator / denominator)\n    const columnWidth = 100 - widthLeftHeader\n    return { widthLeftHeader, columnWidth }\n}\n","import React, { CSSProperties, ReactNode, useRef, useState, useEffect } from 'react'\nimport ContentEditable, { ContentEditableEvent } from 'react-contenteditable'\n\nexport function EditableString(props: { content: string, onNewContent: (content: string) => void, style: CSSProperties, inputMode: 'text' | 'decimal' }): ReactNode {\n    /*\n     * This code is weird because the `ContentEditable` needs to use refs.\n     * See https://www.npmjs.com/package/react-contenteditable\n     */\n    const contentEditable: React.Ref<HTMLElement> = useRef(null)\n    const html = useRef(props.content.toString())\n    const [, setCounter] = useState(0)\n\n    // Otherwise, this component can display the wrong number when props change\n    useEffect(() => {\n        html.current = props.content.toString()\n        setCounter(count => count + 1)\n    }, [props.content])\n\n    const handleChange = (evt: ContentEditableEvent): void => {\n        html.current = evt.target.value\n    }\n\n    const handleSubmit = (): void => {\n        const content = contentEditable.current!.innerText\n        if (content !== props.content) {\n            props.onNewContent(content)\n        }\n    }\n\n    const selectAll = (): void => {\n        setTimeout(() => {\n            const range = document.createRange()\n            range.selectNodeContents(contentEditable.current!)\n            const selection = window.getSelection()\n            selection?.removeAllRanges()\n            selection?.addRange(range)\n        }, 0)\n    }\n\n    return (\n        <ContentEditable\n            className=\"editable_content\"\n            style={props.style}\n            innerRef={contentEditable}\n            html={html.current}\n            disabled={false}\n            onChange={handleChange}\n            onKeyDown={(e: React.KeyboardEvent) => {\n                if (e.key === 'Enter') {\n                    handleSubmit()\n                    e.preventDefault()\n                }\n            }}\n            onBlur={handleSubmit}\n            tagName=\"span\" // Use a custom HTML tag (uses a div by default)\n            inputMode={props.inputMode}\n            onFocus={selectAll}\n        />\n    )\n}\n\nexport function EditableNumber(props: { number: number, onNewNumber: (number: number) => void }): ReactNode {\n    const onNewContent = (content: string): void => {\n        const number = parseInt(content)\n        if (!Number.isNaN(number) && number !== props.number) {\n            props.onNewNumber(number)\n        }\n    }\n    return (\n        <EditableString\n            content={props.number.toString()}\n            onNewContent={onNewContent}\n            style={{ minWidth: '2em', display: 'inline-block' }}\n            inputMode=\"decimal\"\n        />\n    )\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./plots.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./plots.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, useCallback, useEffect, useRef } from 'react'\n\nimport { useTranspose } from '../utils/transpose'\n\nimport { useScreenshotMode } from './screenshot'\n\nimport './plots.css'\n\ninterface DetailedPlotSpec {\n    marks: Plot.Markish[]\n    xlabel: string\n    ylabel: string\n    ydomain?: [number, number]\n    legend?: { legend: boolean, range: string[], domain: string[] }\n}\n\nexport function PlotComponent(props: {\n    plotSpec: (transpose: boolean) => DetailedPlotSpec\n    settingsElement: (makePlot: () => HTMLElement) => ReactElement\n}): ReactElement {\n    const transpose = useTranspose()\n\n    const plotRef = useRef<HTMLDivElement>(null)\n\n    const plotSpec = props.plotSpec\n\n    const plotConfig = useCallback((transposeConfig: boolean): Plot.PlotOptions => {\n        const { marks, xlabel, ylabel, ydomain, legend } = plotSpec(transposeConfig)\n        const result: Plot.PlotOptions = {\n            marks,\n            x: {\n                label: xlabel,\n            },\n            y: {\n                label: ylabel,\n                domain: ydomain,\n            },\n            grid: false,\n            width: transposeConfig ? undefined : 1000,\n            height: transposeConfig ? 1000 : undefined,\n            style: {\n                fontSize: transposeConfig ? '2em' : '1em',\n                fontFamily: 'Jost, Arial, sans-serif',\n            },\n            marginTop: 80,\n            marginBottom: transposeConfig ? 80 : 40,\n            marginLeft: 80,\n            color: legend,\n        }\n        if (transposeConfig) {\n            result.x = {\n                label: ylabel,\n                domain: ydomain,\n            }\n            result.y = {\n                label: xlabel,\n                reverse: true,\n            }\n        }\n        return result\n    }, [plotSpec])\n\n    useEffect(() => {\n        if (plotRef.current) {\n            const plot = Plot.plot(plotConfig(transpose))\n            plotRef.current.innerHTML = ''\n            plotRef.current.appendChild(plot)\n        }\n    }, [props.plotSpec, transpose, plotConfig])\n\n    const screenshotMode = useScreenshotMode()\n\n    const transposeTopMargin = '35px'\n\n    // put a button panel in the top right corner\n    return (\n        <>\n            <div\n                className=\"histogram-svg-panel\" // tied to CSS\n                ref={plotRef}\n                style={\n                    {\n                        width: '100%',\n                        height: transpose ? `calc(100% - ${transposeTopMargin})` : undefined,\n                        position: transpose ? 'relative' : undefined,\n                        top: transpose ? transposeTopMargin : undefined,\n                    }\n                }\n            >\n            </div>\n            {screenshotMode\n                ? undefined\n                : (\n                        <div style={{ zIndex: 1000, position: 'absolute', top: 0, right: 0, left: transpose ? 0 : undefined }}>\n                            {props.settingsElement(() => {\n                                const plot = Plot.plot(plotConfig(false))\n                                const div = document.createElement('div')\n                                div.style.width = '1000px'\n                                div.style.height = '500px'\n                                div.appendChild(plot)\n                                return div\n                            })}\n                        </div>\n                    )}\n        </>\n    )\n}\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, ReactNode, useCallback, useContext, useState } from 'react'\n\n// imort Observable plot\nimport { Navigator } from '../navigation/Navigator'\nimport { Colors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { HistogramType, useSetting } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { IHistogram } from '../utils/protos'\nimport { useTranspose } from '../utils/transpose'\n\nimport { PlotComponent } from './plots-general'\nimport { createScreenshot } from './screenshot'\nimport { SearchBox } from './search'\nimport { CheckboxSetting } from './sidebar'\n\nconst yPad = 0.025\n\ninterface HistogramProps {\n    shortname: string\n    longname: string\n    histogram: IHistogram\n    color: string\n    universeTotal: number\n}\n\nexport function Histogram(props: { histograms: HistogramProps[], statDescription: string, sharedTypeOfAllArticles?: string }): ReactNode {\n    const [histogramType] = useSetting('histogram_type')\n    const [useImperial] = useSetting('use_imperial')\n    const [relative] = useSetting('histogram_relative')\n    const binMin = props.histograms[0].histogram.binMin!\n    const binSize = props.histograms[0].histogram.binSize!\n    for (const histogram of props.histograms) {\n        if (histogram.histogram.binMin !== binMin || histogram.histogram.binSize !== binSize) {\n            throw new Error('histograms have different binMin or binSize')\n        }\n    }\n    const settingsElement = (makePlot: () => HTMLElement): ReactElement => (\n        <HistogramSettings makePlot={makePlot} shortnames={props.histograms.map(h => h.shortname)} longnames={props.histograms.map(h => h.longname)} sharedTypeOfAllArticles={props.sharedTypeOfAllArticles} />\n    )\n\n    const systemColors = useColors()\n\n    const plotSpec = useCallback(\n        (transpose: boolean) => {\n            const title = props.histograms.length === 1 ? props.histograms[0].shortname : ''\n            const colors = props.histograms.map(h => h.color)\n            const shortnames = props.histograms.map(h => h.shortname)\n            const renderY = relative ? (y: number) => `${y.toFixed(2)}%` : (y: number) => renderNumberHighlyRounded(y, 2)\n\n            const [xIdxStart, xIdxEnd] = histogramBounds(props.histograms)\n            const xidxs = Array.from({ length: xIdxEnd - xIdxStart }, (_, i) => i + xIdxStart)\n            const [xAxisMarks, renderX] = xAxis(xidxs, binSize, binMin, useImperial, transpose)\n            const [marks, maxValue] = createHistogramMarks(props.histograms, xidxs, histogramType, relative, renderX, renderY, transpose, systemColors)\n            marks.push(\n                ...xAxisMarks,\n                ...yAxis(maxValue, transpose),\n            )\n            marks.push(Plot.text([title], { frameAnchor: 'top', dy: -40 }))\n            const xlabel = `${props.statDescription} (/${useImperial ? 'mi' : 'km'}Â²)`\n            const ylabel = relative ? '% of total' : 'Population'\n            const ydomain: [number, number] = [maxValue * (-yPad), maxValue * (1 + yPad)]\n            const legend = props.histograms.length === 1\n                ? undefined\n                : { legend: !transpose, range: colors, domain: shortnames }\n            return { marks, xlabel, ylabel, ydomain, legend }\n        },\n        [props.histograms, binMin, binSize, relative, histogramType, useImperial, systemColors, props.statDescription],\n    )\n\n    return (\n        <PlotComponent\n            plotSpec={plotSpec}\n            settingsElement={settingsElement}\n        />\n    )\n}\n\nexport const transposeSettingsHeight = 30.5\n\nfunction HistogramSettings(props: {\n    shortnames: string[]\n    longnames: string[]\n    makePlot: () => HTMLElement\n    sharedTypeOfAllArticles?: string\n}): ReactNode {\n    const universe = useUniverse()\n    const [histogramType, setHistogramType] = useSetting('histogram_type')\n    const colors = useColors()\n    const transpose = useTranspose()\n    const navContext = useContext(Navigator.Context)\n    const [showSearchBox, setShowSearchBox] = useState(false)\n\n    // dropdown for histogram type\n    return (\n        <div\n            className=\"serif\"\n            style={{\n                backgroundColor: transpose ? undefined : colors.background,\n                padding: transpose ? undefined : '0.5em',\n                border: transpose ? undefined : `1px solid ${colors.textMain}`,\n                display: 'flex',\n                gap: '0.5em',\n                height: transpose ? `${transposeSettingsHeight}px` : undefined,\n                alignItems: transpose ? 'center' : undefined,\n                justifyContent: transpose ? 'center' : undefined,\n                position: 'relative',\n            }}\n        >\n            <img\n                src=\"/download.png\"\n                onClick={async () => {\n                    const plot = props.makePlot()\n                    document.body.appendChild(plot)\n                    await createScreenshot(\n                        {\n                            path: `${props.shortnames.join('_')}_histogram`,\n                            overallWidth: plot.offsetWidth * 2,\n                            elementsToRender: [plot],\n                            heightMultiplier: 1.2,\n                        },\n                        universe,\n                        colors,\n                    )\n                    plot.remove()\n                }}\n                width=\"20\"\n                height=\"20\"\n            />\n            <div style={{ position: 'relative' }}>\n                <img\n                    src=\"/add.png\"\n                    onClick={() => { setShowSearchBox(!showSearchBox) }}\n                    width=\"20\"\n                    height=\"20\"\n                    style={{ cursor: 'pointer' }}\n                />\n                {showSearchBox && (\n                    <div\n                        style={{\n                            position: 'absolute',\n                            top: '25px',\n                            left: '0px',\n                            backgroundColor: colors.background,\n                            border: `1px solid ${colors.textMain}`,\n                            borderRadius: '4px',\n                            padding: '0.5em',\n                            zIndex: 1000,\n                            minWidth: '200px',\n                        }}\n                    >\n                        <SearchBox\n                            style={{ width: '100%' }}\n                            placeholder=\"Add region...\"\n                            autoFocus={true}\n                            prioritizeArticleType={props.sharedTypeOfAllArticles}\n                            onChange={() => {\n                                setShowSearchBox(false)\n                            }}\n                            link={(regionName) => {\n                                return navContext.link({\n                                    kind: 'comparison',\n                                    universe: navContext.universe!,\n                                    longnames: [...props.longnames, regionName],\n                                }, { scroll: { kind: 'none' } })\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n            <select\n                value={histogramType}\n                style={{ backgroundColor: colors.background, color: colors.textMain }}\n                onChange={(e) => { setHistogramType(e.target.value as HistogramType) }}\n                className=\"serif\"\n                data-test-id=\"histogram_type\"\n            >\n                <option value=\"Line\">Line</option>\n                <option value=\"Line (cumulative)\">Line (cumulative)</option>\n                <option value=\"Bar\">Bar</option>\n            </select>\n            <CheckboxSetting name={transpose ? 'Relative' : 'Relative Histograms'} settingKey=\"histogram_relative\" testId=\"histogram_relative\" />\n        </div>\n    )\n}\n\nfunction histogramBounds(histograms: HistogramProps[]): [number, number] {\n    let xIdxEnd = Math.max(...histograms.map(histogram => histogram.histogram.counts!.length))\n    xIdxEnd += 1\n    const zerosAtFront = (arr: number[]): number => {\n        let i = 0\n        while (i < arr.length && arr[i] === 0) {\n            i++\n        }\n        return i\n    }\n    let xIdxStart = Math.min(...histograms.map(histogram => zerosAtFront(histogram.histogram.counts!)))\n\n    if (xIdxStart > 0) {\n        xIdxStart--\n    }\n\n    // round x_idx_start down to the nearest number which, when divided by 10, has a remainder of 0, 3, or 7\n\n    while (xIdxStart % 10 !== 0 && xIdxStart % 10 !== 3 && xIdxStart % 10 !== 7) {\n        xIdxStart--\n    }\n\n    // same for x_idx_end\n    while (xIdxEnd % 10 !== 0 && xIdxEnd % 10 !== 3 && xIdxEnd % 10 !== 7) {\n        xIdxEnd++\n    }\n\n    return [xIdxStart, xIdxEnd]\n}\n\ninterface Series {\n    values: { name: string, xidx: number, y: number }[]\n    color: string\n}\n\nfunction mulitipleSeriesConsistentLength(histograms: HistogramProps[], xidxs: number[], relative: boolean, isCumulative: boolean): Series[] {\n    // Create a list of series, each with the same length\n    const sum = (arr: number[]): number => arr.reduce((a, b) => a + b, 0)\n    const sumEach = histograms.map(histogram => sum(histogram.histogram.counts!))\n    const series = histograms.map((histogram, histogramIdx) => {\n        const counts = [...histogram.histogram.counts!]\n        const afterVal = 0\n        if (isCumulative) {\n            for (let i = counts.length - 2; i >= 0; i--) {\n                counts[i] += counts[i + 1]\n            }\n        }\n        return {\n            values: xidxs.map(xidx => ({\n                name: histogram.shortname,\n                xidx,\n                y: (\n                    xidx >= counts.length\n                        ? afterVal\n                        : counts[xidx] / sumEach[histogramIdx]\n                ) * (relative ? 100 : histogram.universeTotal),\n            })),\n            color: histogram.color,\n        }\n    })\n    return series\n}\n\nfunction dovetailSequences(series: { values: { xidx: number, y: number, name: string }[], color: string }[]): { xidxLeft: number, xidxRight: number, y: number, color: string }[] {\n    const seriesSingle: { xidxLeft: number, xidxRight: number, y: number, color: string }[] = []\n    for (let i = 0; i < series.length; i++) {\n        const s = series[i]\n        const width = 1 / (series.length) * 0.8\n        const off = (i - (series.length - 1) / 2) * width\n        seriesSingle.push(...s.values\n            .map(v => ({\n                xidxLeft: v.xidx + off, xidxRight: v.xidx + off + width,\n                y: v.y, color: s.color, name: v.name,\n            })),\n        )\n    }\n    return seriesSingle\n}\n\nfunction maxSequences(series: { values: { xidx: number, y: number, name: string }[] }[]): { xidx: number, y: number, names: string[], ys: number[] }[] {\n    const seriesMax: { xidx: number, y: number, names: string[], ys: number[] }[] = []\n    for (let i = 0; i < series[0].values.length; i++) {\n        seriesMax.push({\n            xidx: series[0].values[i].xidx,\n            y: Math.max(...series.map(s => s.values[i].y)),\n            names: series.map(s => s.values[i].name),\n            ys: series.map(s => s.values[i].y),\n        })\n    }\n    return seriesMax\n}\n\nfunction xAxis(xidxs: number[], binSize: number, binMin: number, useImperial: boolean, transpose: boolean): [Plot.Markish[], (x: number) => string] {\n    const xKeypoints: number[] = []\n    for (const xidx of xidxs) {\n        let lastDigit = xidx % 10\n        if (useImperial) {\n            lastDigit = (lastDigit + 4) % 10\n        }\n        if (lastDigit === 0 || lastDigit === 3 || lastDigit === 7) {\n            xKeypoints.push(xidx)\n        }\n    }\n    const adjustment = useImperial ? Math.log10(1.60934) * 2 : 0\n\n    let axis = Plot.axisX\n    let grid = Plot.gridX\n    if (transpose) {\n        axis = Plot.axisY\n        grid = Plot.gridY\n    }\n    return [\n        [\n            axis(xKeypoints, { tickFormat: d => renderPow10(d * binSize + binMin + adjustment) }),\n            grid(xKeypoints),\n        ],\n        x => `${renderNumberHighlyRounded(Math.pow(10, x * binSize + binMin + adjustment), 2)}/${useImperial ? 'mi' : 'km'}Â²`,\n    ]\n}\n\nfunction yAxis(maxValue: number, transpose: boolean): (Plot.CompoundMark | Plot.RuleY)[] {\n    const minNYTicks = 5\n    const idealTickGap = maxValue / minNYTicks\n    const log10TickGapTimes3 = Math.floor(Math.log10(idealTickGap) * 3)\n    const tickGapOom = Math.pow(10, Math.floor(log10TickGapTimes3 / 3))\n    const tickGapMantissa = log10TickGapTimes3 % 3 === 0 ? 1 : log10TickGapTimes3 % 3 === 1 ? 2 : 5\n    const tickGap = tickGapMantissa * tickGapOom\n    const maxValueRounded = Math.ceil(maxValue / tickGap) * tickGap\n    const yKeypoints = Array.from({ length: Math.floor(maxValueRounded / tickGap) + 1 }, (_, i) => i * tickGap)\n        .filter((_, i) => !transpose || i % 2 === 0) // If transpose, remove every other keypoint\n\n    let axis = Plot.axisY\n    let grid = Plot.gridY\n    if (transpose) {\n        axis = Plot.axisX\n        grid = Plot.gridX\n    }\n\n    return [\n        axis(yKeypoints, { tickFormat: (d: number) => renderNumberHighlyRounded(d, 1) }),\n        grid(yKeypoints),\n    ]\n}\n\nfunction pow10Moral(x: number): number {\n    // 10 ** x, but \"morally\" so, i.e., 10 ** 0.3 = 2\n    if (x < 0) {\n        return 1 / pow10Moral(-x)\n    }\n    if (x >= 1) {\n        return 10 ** Math.floor(x) * pow10Moral(x - Math.floor(x))\n    }\n    const x10 = x * 10\n    const errorRound = Math.abs(x10 - Math.round(x10))\n    if (errorRound > 0.2) {\n        return 10 ** x\n    }\n    if (Math.round(x10) === 0) {\n        return 1\n    }\n    if (Math.round(x10) === 3) {\n        return 2\n    }\n    if (Math.round(x10) === 7) {\n        return 5\n    }\n    return 10 ** x\n}\n\nfunction renderPow10(x: number): string {\n    const p10 = pow10Moral(x)\n\n    return renderNumberHighlyRounded(p10)\n}\n\nfunction renderNumberHighlyRounded(x: number, places = 0): string {\n    if (x < 1000) {\n        return x.toFixed(0)\n    }\n    if (x < 1e6) {\n        return `${(x / 1e3).toFixed(places)}k`\n    }\n    if (x < 1e9) {\n        return `${(x / 1e6).toFixed(places)}M`\n    }\n    if (x < 1e12) {\n        return `${(x / 1e9).toFixed(places)}B`\n    }\n    return x.toExponential(1)\n}\n\nfunction createHistogramMarks(\n    histograms: HistogramProps[], xidxs: number[],\n    histogramType: HistogramType, relative: boolean,\n    renderX: (x: number) => string,\n    renderY: (y: number) => string,\n    transpose: boolean,\n    colors: Colors,\n): [Plot.Markish[], number] {\n    const series = mulitipleSeriesConsistentLength(histograms, xidxs, relative, histogramType === 'Line (cumulative)')\n    const seriesSingle = dovetailSequences(series)\n\n    const maxValue = Math.max(...series.map(s => Math.max(...s.values.map(v => v.y))))\n    const tip = Plot.tip(\n        maxSequences(series),\n        (transpose ? Plot.pointerY : Plot.pointerX)({\n            x: transpose ? 'y' : 'xidx',\n            y: transpose ? 'xidx' : 'y',\n            title: (d: { names: string[], xidx: number, ys: number[] }) => {\n                let result = `Density: ${renderX(d.xidx)}\\n`\n                if (d.names.length > 1) {\n                    result += d.names.map((name: string, i: number) => `${name}: ${renderY(d.ys[i])}`).join('\\n')\n                }\n                else {\n                    result += `Frequency: ${renderY(d.ys[0])}`\n                }\n                return result\n            },\n            fill: colors.slightlyDifferentBackground,\n            stroke: colors.borderNonShadow,\n            textColor: colors.textMain,\n        }),\n    )\n    const color = histograms.length === 1 ? histograms[0].color : 'name'\n    const marks: Plot.Markish[] = []\n    if (histogramType === 'Line' || histogramType === 'Line (cumulative)') {\n        marks.push(\n            ...series.map(s => Plot.line(s.values, {\n                x: transpose ? 'y' : 'xidx', y: transpose ? 'xidx' : 'y', stroke: color, strokeWidth: 4,\n            })),\n        )\n    }\n    else {\n        marks.push(\n            (transpose\n                ? Plot.rectX(seriesSingle, {\n                    y1: 'xidxLeft',\n                    y2: 'xidxRight',\n                    x: 'y',\n                    fill: color,\n                })\n                : Plot.rectY(seriesSingle, {\n                    x1: 'xidxLeft',\n                    x2: 'xidxRight',\n                    y: 'y',\n                    fill: color,\n                })),\n        )\n    }\n    marks.push(tip)\n    return [marks, maxValue]\n}\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, ReactNode, useMemo } from 'react'\n\n// imort Observable plot\n\nimport { TimeSeriesExtraStat } from './load-article'\nimport { PlotComponent } from './plots-general'\n\nexport interface TimeSeriesPlotProps {\n    stat: TimeSeriesExtraStat\n    color: string\n    shortname: string\n}\n\nexport function TimeSeriesPlot(props: { stats: TimeSeriesPlotProps[] }): ReactNode {\n    // TODO this is largely unfinished. We need to make several improvements to this component\n    // for it to be production-ready.\n    // Including working with transposed comparisons\n    const settingsElement = (): ReactElement => <div></div>\n\n    const plotSpec = useMemo(\n        () => {\n            const marks = props.stats.map((stat) => {\n                const x = stat.stat.years\n                const y = stat.stat.timeSeries\n                return Plot.line(\n                    x.map((xval, i) => [xval, y[i]]),\n                    { stroke: stat.color, strokeWidth: 2 },\n                ) as Plot.Markish\n            })\n            marks.push(\n                Plot.axisX({\n                    label: 'Year',\n                    tickFormat: (d: number) => d.toString(),\n                }),\n            )\n            const xlabel = 'Year'\n            const ylabel = props.stats[0].stat.name\n            const ydomain = undefined\n            const legend = { legend: true, range: props.stats.map(stat => stat.color), domain: props.stats.map(stat => stat.shortname) }\n            return { marks, xlabel, ylabel, ydomain, legend }\n        },\n        [props.stats],\n    )\n\n    return (\n        <PlotComponent\n            plotSpec={() => plotSpec}\n            settingsElement={settingsElement}\n        />\n    )\n}\n","import React, { ReactNode } from 'react'\n\nimport { ExtraStat } from './load-article'\nimport { Histogram, transposeSettingsHeight } from './plots-histogram'\nimport { TimeSeriesPlot } from './plots-timeseries'\n\nexport interface PlotProps {\n    shortname: string\n    longname: string\n    extraStat?: ExtraStat\n    color: string\n    sharedTypeOfAllArticles?: string\n}\n\nexport function RenderedPlot({ statDescription, plotProps }: { statDescription: string, plotProps: PlotProps[] }): ReactNode {\n    const type = plotProps.reduce<undefined | 'histogram' | 'time_series'>((result, plot) => {\n        if (result === undefined) {\n            return plot.extraStat?.type\n        }\n        else if (plot.extraStat?.type !== undefined && plot.extraStat.type !== result) {\n            throw new Error('Rendering plots of differing types')\n        }\n        return result\n    }, undefined)\n    switch (type) {\n        case 'histogram':\n            return (\n                <Histogram\n                    statDescription={statDescription}\n                    histograms={plotProps.flatMap(\n                        (props) => {\n                            if (props.extraStat?.type !== 'histogram') {\n                                return []\n                            }\n                            return [\n                                {\n                                    shortname: props.shortname,\n                                    longname: props.longname,\n                                    histogram: props.extraStat,\n                                    color: props.color,\n                                    universeTotal: props.extraStat.universeTotal,\n                                },\n                            ]\n                        },\n                    )}\n                    sharedTypeOfAllArticles={plotProps[0]?.sharedTypeOfAllArticles}\n                />\n            )\n        case 'time_series':\n            return (\n                <TimeSeriesPlot\n                    stats={plotProps.map(\n                        (props) => {\n                            if (props.extraStat?.type !== 'time_series') {\n                                throw new Error('expected time_series')\n                            }\n                            return {\n                                shortname: props.shortname,\n                                stat: props.extraStat,\n                                color: props.color,\n                            }\n                        },\n                    )}\n                />\n            )\n        case undefined:\n            return null\n    }\n}\n\nexport function extraHeaderSpaceForVertical(spec: PlotProps): number {\n    switch (spec.extraStat?.type) {\n        case 'histogram':\n            return transposeSettingsHeight\n        case 'time_series':\n            return 0\n        case undefined:\n            return 0\n    }\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./table.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./table.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { useSortable } from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport React, { CSSProperties, ReactNode, useContext, useRef, useState } from 'react'\n\nimport { ArticleOrderingListInternal, loadOrdering } from '../load_json'\nimport './table.css'\nimport { Navigator } from '../navigation/Navigator'\nimport { statisticDescriptor } from '../navigation/links'\nimport { Colors } from '../page_template/color-themes'\nimport { colorFromCycle, useColors } from '../page_template/colors'\nimport { MobileArticlePointers, rowExpandedKey, useSetting, useSettings } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { useComparisonHeadStyle, useMobileLayout } from '../utils/responsive'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { displayType } from '../utils/text'\nimport { useTranspose } from '../utils/transpose'\n\nimport { Icon } from './Icon'\nimport { Percentile, Statistic } from './display-stats'\nimport { EditableNumber } from './editable-field'\nimport { ArticleRow, Disclaimer, FirstLastStatus } from './load-article'\nimport { PointerArrow, useSinglePointerCell } from './pointer-cell'\nimport { useScreenshotMode } from './screenshot'\nimport { SearchBox } from './search'\nimport { ArrowUpOrDown } from './statistic-panel'\nimport { Cell, CellSpec, ComparisonLongnameCellProps, TopLeftHeaderProps, StatisticNameCellProps } from './supertable'\n\nexport type ColumnIdentifier = 'statval' | 'statval_unit' | 'statistic_percentile' | 'statistic_ordinal' | 'pointer_in_class' | 'pointer_overall'\n\nexport const leftBarMargin = 0.02\n\nconst tableRowStyle: React.CSSProperties = {\n    display: 'flex',\n    flexDirection: 'row',\n}\n\nexport function TableHeaderContainer({ children }: { children: ReactNode }): ReactNode {\n    const colors = useColors()\n\n    const style = {\n        ...tableRowStyle,\n        borderTop: `1pt solid ${colors.textMain}`,\n        borderBottom: `1pt solid ${colors.textMain}`,\n        fontWeight: 500,\n        alignItems: 'center',\n    }\n    return (\n        <div\n            style={style}\n        >\n            {children}\n        </div>\n    )\n}\n\ninterface ColumnLayoutProps {\n    cells: {\n        columnIdentifier: ColumnIdentifier\n        widthPercentage: number\n        content: ReactNode\n        style: CSSProperties\n    }[]\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    totalWidth: number\n}\n\n// Lays out column content\nexport function ColumnLayout(props: ColumnLayoutProps): JSX.Element[] {\n    const cellPercentages: number[] = []\n    const cellContents = []\n    for (const { widthPercentage, columnIdentifier, content, style } of props.cells) {\n        if (props.onlyColumns && !props.onlyColumns.includes(columnIdentifier)) {\n            continue\n        }\n        cellPercentages.push(widthPercentage)\n        if (props.blankColumns?.includes(columnIdentifier)) {\n            cellContents.push({ content: <span></span>, style })\n        }\n        else {\n            cellContents.push({ content, style })\n        }\n    }\n\n    // normalize cell percentages\n    const sum = cellPercentages.reduce((a, b) => a + b, 0)\n    for (const i of cellPercentages.keys()) {\n        cellPercentages[i] = props.totalWidth * cellPercentages[i] / sum\n    }\n\n    const contents = cellContents.map(\n        ({ content, style }, i) => {\n            const sty: React.CSSProperties = { width: `${cellPercentages[i]}%`, padding: '1px', ...style }\n            return (\n                <div key={i} style={sty}>\n                    {content}\n                </div>\n            )\n        },\n    )\n    return contents\n}\n\nexport interface SuperHeaderHorizontalProps {\n    headerSpecs: (CellSpec & { highlightIndex?: number })[]\n    widthsEach: number[]\n    showBottomBar: boolean\n    leftSpacerWidth: number\n    groupNames?: (string | undefined)[]\n}\n\nexport function SuperHeaderHorizontal(props: SuperHeaderHorizontalProps): ReactNode {\n    const colors = useColors()\n    const barHeight = '5px'\n    const bars = (backgroundColor: (i: number) => string | undefined): ReactNode => {\n        return (\n            <div style={{ display: 'flex' }}>\n                <div style={{ width: `${props.leftSpacerWidth}%`, height: barHeight }} />\n                {Array.from({ length: props.headerSpecs.length }).map(\n                    (_, i) => (\n                        <div\n                            key={`bar_${i}`}\n                            style={{\n                                width: `${props.widthsEach[i]}%`,\n                                height: barHeight,\n                                backgroundColor: backgroundColor(i),\n                            }}\n                        />\n                    ),\n                )}\n            </div>\n        )\n    }\n\n    const getBarColor = (idx: number): string | undefined => {\n        const spec = props.headerSpecs[idx]\n        return spec.highlightIndex !== undefined ? colorFromCycle(colors.hueColors, spec.highlightIndex) : undefined\n    }\n    return (\n        <>\n            {props.groupNames && <SuperHeaderGroupNames leftSpacerWidth={props.leftSpacerWidth} groupNames={props.groupNames} widthsEach={props.widthsEach} />}\n            {bars(getBarColor)}\n            <div style={{ display: 'flex' }}>\n                <div style={{ width: `${props.leftSpacerWidth}%` }} />\n                {props.headerSpecs.map((cellSpec, idx) => <Cell key={idx} {...cellSpec} width={props.widthsEach[idx]} />)}\n            </div>\n            {props.showBottomBar && bars(getBarColor)}\n        </>\n    )\n}\n\nexport function SuperHeaderGroupNames(props: { leftSpacerWidth: number, groupNames: (string | undefined)[], widthsEach: number[] }): ReactNode {\n    if (props.groupNames.every(groupName => groupName === undefined)) {\n        return null\n    }\n    const sizes = []\n    const names: (string | undefined)[] = []\n    for (const [idx, groupName] of props.groupNames.entries()) {\n        if (idx === 0 || groupName !== props.groupNames[idx - 1]) {\n            sizes.push(props.widthsEach[idx])\n            names.push(groupName)\n        }\n        else {\n            sizes[sizes.length - 1] += props.widthsEach[idx]\n        }\n    }\n\n    return (\n        <div style={{ display: 'flex' }} className=\"serif value\">\n            <div style={{ width: `${props.leftSpacerWidth}%` }} />\n            {sizes.map((size, idx) => <div key={idx} style={{ width: `${size}%`, textAlign: 'center' }}>{names[idx]}</div>)}\n        </div>\n    )\n}\n\nexport function ComparisonTopLeftHeader(props: TopLeftHeaderProps & { width: number }): ReactNode {\n    return (\n        <>\n            <ComparisonColorBar key=\"color\" highlightIndex={undefined} />\n            <TopLeftHeader {...props} width={props.width - leftBarMargin * 100} />\n        </>\n    )\n}\n\nexport function TopLeftHeader(props: TopLeftHeaderProps & { width: number }): ReactNode {\n    return (\n        <div style={{ textAlign: 'center', display: 'flex', justifyContent: 'center', padding: '1px', width: `${props.width}%` }}>\n            <span className=\"serif value\" key=\"statistic\">\n                {props.statNameOverride ?? 'Statistic'}\n            </span>\n        </div>\n    )\n}\n\nexport function MainHeaderRow(props: {\n    topLeftSpec: CellSpec\n    topLeftWidth: number\n    columnWidth: number\n    onlyColumns: ColumnIdentifier[]\n    statNameOverride?: string\n    extraSpaceRight: number[]\n    simpleOrdinals: boolean\n}): ReactNode {\n    return (\n        <>\n            <Cell {...props.topLeftSpec} width={props.topLeftWidth} />\n            {props.extraSpaceRight.map((_, columnIndex) => (\n                <StatisticHeaderCells\n                    key={`headerCells_${columnIndex}`}\n                    onlyColumns={props.onlyColumns}\n                    simpleOrdinals={props.simpleOrdinals}\n                    totalWidth={props.columnWidth}\n                    extraSpaceRight={props.extraSpaceRight[columnIndex] ?? 0}\n                />\n            ))}\n        </>\n    )\n}\n\nexport function StatisticHeaderCells(props: { simpleOrdinals: boolean, totalWidth: number, onlyColumns?: ColumnIdentifier[], statNameOverride?: string, extraSpaceRight?: number }): ReactNode {\n    const colors = useColors()\n    const ordinalStyle: React.CSSProperties = {\n        fontSize: '14px',\n        fontWeight: 400,\n        color: colors.ordinalTextColor,\n        margin: 0,\n    }\n\n    const cells = [\n        {\n            columnIdentifier: 'statval',\n            widthPercentage: 15 + 10,\n            content: (\n                <span className=\"serif value\">\n                    Value\n                </span>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 7 : 17,\n            columnIdentifier: 'statistic_percentile',\n            content: (\n                <span className=\"serif\" key=\"ordinal\" style={ordinalStyle}>\n                    {\n                        (props.simpleOrdinals ? '%ile' : 'Percentile')\n\n                    }\n                </span>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: props.simpleOrdinals ? 'flex-end' : 'center', marginRight: props.simpleOrdinals ? '5px' : undefined },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 8 : 25,\n            columnIdentifier: 'statistic_ordinal',\n            content: (\n                <span className=\"serif\" key=\"statistic_ordinal\" style={ordinalStyle}>\n                    {\n                        (props.simpleOrdinals ? 'Ord' : 'Ordinal')\n                    }\n                </span>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: props.simpleOrdinals ? 'flex-end' : 'center', marginRight: props.simpleOrdinals ? '5px' : undefined },\n        },\n        ...PointerHeaderCells({ ordinalStyle }),\n    ] satisfies ColumnLayoutProps['cells']\n\n    return (\n        <>\n            <ColumnLayout\n                cells={cells}\n                totalWidth={props.totalWidth}\n                onlyColumns={props.onlyColumns}\n            />\n            <div style={{ width: `${props.extraSpaceRight ?? 0}%` }} />\n        </>\n    )\n}\n\nfunction PointerHeaderCells(props: { ordinalStyle: CSSProperties }): ColumnLayoutProps['cells'] {\n    const pointerInClassCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_in_class',\n        content: <span className=\"serif\" style={props.ordinalStyle}>Within Type</span>,\n        style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n\n    }\n    const pointerOverallCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_overall',\n        content: <span className=\"serif\" style={props.ordinalStyle}>Overall</span>,\n        style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n    }\n\n    // Must be outside branch because uses hooks\n    const selectorCell = PointerHeaderSelectorCell()\n\n    const screenshotMode = useScreenshotMode()\n    const singlePointerCell = useSinglePointerCell()\n\n    if (screenshotMode) {\n        return []\n    }\n    else if (singlePointerCell) {\n        return [selectorCell]\n    }\n    else {\n        return [pointerInClassCell, pointerOverallCell]\n    }\n}\n\nfunction PointerHeaderSelectorCell(): ColumnLayoutProps['cells'][number] {\n    const [preferredPointerCell, setPreferredPointerCell] = useSetting('mobile_article_pointers')\n\n    const selectWidth = 'clamp(45px, 100%, 65px)'\n    const arrowWidth = '12px'\n\n    const selectStyle: CSSProperties = {\n        height: '2lh',\n        whiteSpace: 'wrap',\n        width: selectWidth,\n        textAlign: 'left',\n        appearance: 'none',\n        padding: '0px 1px',\n    }\n\n    const arrowStyle: CSSProperties = {\n        position: 'absolute',\n        left: `calc((max(0px, 100% - ${selectWidth}) / 2) + ${selectWidth} - (${arrowWidth}))`,\n        pointerEvents: 'none',\n        height: arrowWidth,\n        width: arrowWidth,\n        fontSize: arrowWidth,\n        bottom: `5px`,\n    }\n\n    return {\n        widthPercentage: 8,\n        columnIdentifier: preferredPointerCell,\n        content: (\n            <>\n                <select\n                    style={selectStyle}\n                    value={preferredPointerCell}\n                    onChange={(e) => { setPreferredPointerCell(e.target.value as MobileArticlePointers) }}\n                    data-test-id=\"tablePointerSelect\"\n                >\n                    <option value=\"pointer_in_class\">Within Type</option>\n                    <option value=\"pointer_overall\">Overall</option>\n                </select>\n                <span style={arrowStyle}>\n                    {'â¼\\ufe0e'}\n                </span>\n            </>\n        ),\n        style: {\n            textAlign: 'center',\n            position: 'relative',\n        },\n    }\n}\n\nexport function StatisticRowCells(props: {\n    width: number\n    longname: string\n    statisticStyle?: CSSProperties\n    row: ArticleRow\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    onNavigate?: (newArticle: string) => void\n    simpleOrdinals: boolean\n    extraSpaceRight?: number\n}): ReactNode {\n    const colors = useColors()\n    const ordinalStyle: React.CSSProperties = {\n        fontSize: '14px',\n        fontWeight: 400,\n        color: colors.ordinalTextColor,\n        margin: 0,\n    }\n\n    const cells = [\n        {\n            widthPercentage: 15,\n            columnIdentifier: 'statval',\n            content: (\n                <span className=\"serif value testing-statistic-value\">\n                    <Statistic\n                        statname={props.row.statname}\n                        value={props.row.statval}\n                        isUnit={false}\n                        style={props.statisticStyle ?? {}}\n                    />\n                </span>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: 10,\n            columnIdentifier: 'statval_unit',\n            content: (\n                <div className=\"value_unit\">\n                    <span className=\"serif value\">\n                        <Statistic\n                            statname={props.row.statname}\n                            value={props.row.statval}\n                            isUnit={true}\n                        />\n                    </span>\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 7 : 17,\n            columnIdentifier: 'statistic_percentile',\n            content: (\n                <span className=\"serif\" style={ordinalStyle}>\n                    <Percentile\n                        ordinal={props.row.ordinal}\n                        total={props.row.totalCountInClass}\n                        percentileByPopulation={props.row.percentileByPopulation}\n                        simpleOrdinals={props.simpleOrdinals}\n                    />\n                </span>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 8 : 25,\n            columnIdentifier: 'statistic_ordinal',\n            content: (\n                <span className=\"serif\" style={ordinalStyle}>\n                    <Ordinal\n                        ordinal={props.row.ordinal}\n                        total={props.row.totalCountInClass}\n                        type={props.row.articleType}\n                        statpath={props.row.statpath}\n                        simpleOrdinals={props.simpleOrdinals}\n                        onNavigate={props.onNavigate}\n                    />\n                </span>\n            ),\n            style: { textAlign: 'right' },\n        },\n        ...PointerRowCells({ ordinalStyle, row: props.row, longname: props.longname }),\n    ] satisfies ColumnLayoutProps['cells']\n\n    return (\n        <>\n            <ColumnLayout\n                cells={cells}\n                totalWidth={props.width}\n                onlyColumns={props.onlyColumns}\n                blankColumns={props.blankColumns}\n            />\n            <div style={{ width: `${props.extraSpaceRight}%` }} />\n        </>\n    )\n}\n\nfunction PointerRowCells(props: { ordinalStyle: CSSProperties, row: ArticleRow, longname: string }): ColumnLayoutProps['cells'] {\n    const screenshotMode = useScreenshotMode()\n\n    const singlePointerCell = useSinglePointerCell()\n    const [preferredPointerCell] = useSetting('mobile_article_pointers')\n\n    const pointerInClassCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_in_class',\n        content: (\n            <span key=\"pointer_in_class\" className=\"serif\" style={{ display: 'flex', ...props.ordinalStyle }}>\n                <PointerButtonsIndex\n                    ordinal={props.row.ordinal}\n                    statpath={props.row.statpath}\n                    type={props.row.articleType}\n                    total={props.row.totalCountInClass}\n                    longname={props.longname}\n                />\n            </span>\n        ),\n        style: { textAlign: 'right' },\n    }\n\n    const pointerOverallCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_overall',\n        content: (\n            <span className=\"serif\" style={{ display: 'flex', ...props.ordinalStyle }}>\n                <PointerButtonsIndex\n                    statpath={props.row.statpath}\n                    type=\"overall\"\n                    total={props.row.totalCountOverall}\n                    longname={props.longname}\n                    overallFirstLast={props.row.overallFirstLast}\n                />\n            </span>\n        ),\n        style: { textAlign: 'right' },\n    }\n\n    if (screenshotMode) {\n        return []\n    }\n    else if (singlePointerCell) {\n        switch (preferredPointerCell) {\n            case 'pointer_in_class':\n                return [pointerInClassCell]\n            case 'pointer_overall':\n                return [pointerOverallCell]\n        }\n    }\n    else {\n        return [pointerInClassCell, pointerOverallCell]\n    }\n}\n\nfunction articleStatnameButtonStyle(colors: Colors): React.CSSProperties {\n    return {\n        cursor: 'pointer', border: `1px solid ${colors.textMain}`,\n        padding: 0, borderRadius: '3px', fontSize: '75%',\n        minWidth: '1.5em', minHeight: '1.5em', textAlign: 'center',\n        lineHeight: '1.2em',\n    }\n}\n\nconst manipulationButtonHeight = '24px'\n\nfunction ManipulationButton({ color: buttonColor, onClick, text, image }: { color: string, onClick: () => void, text: string, image: string }): ReactNode {\n    const isMobile = useMobileLayout()\n    const isTranspose = useTranspose()\n    const colors = useColors()\n\n    return (\n        <div\n            style={{\n                height: manipulationButtonHeight,\n                lineHeight: manipulationButtonHeight,\n                cursor: 'pointer',\n                paddingLeft: '0.5em', paddingRight: '0.5em',\n                borderRadius: '0.25em',\n                verticalAlign: 'middle',\n                backgroundColor: buttonColor,\n            }}\n            className={`serif manipulation-button-${text}`}\n            onClick={onClick}\n        >\n            {!(isMobile && isTranspose) ? text : <Icon src={image} size={manipulationButtonHeight} color={colors.textMain} />}\n        </div>\n    )\n}\n\nexport function HeadingDisplay({ longname, includeDelete, onDelete, onReplace, manipulationJustify, sharedTypeOfAllArticles }: {\n    longname: string\n    includeDelete: boolean\n    onDelete: () => void\n    onReplace: (q: string) => ReturnType<Navigator['link']>\n    manipulationJustify: CSSProperties['justifyContent']\n    sharedTypeOfAllArticles: string | null | undefined\n}): ReactNode {\n    const colors = useColors()\n    const [isEditing, setIsEditing] = React.useState(false)\n    const currentUniverse = useUniverse()\n    const comparisonHeadStyle = useComparisonHeadStyle()\n\n    const manipulationButtons = (\n        <div style={{ height: manipulationButtonHeight }}>\n            <div style={{ display: 'flex', justifyContent: manipulationJustify, height: '100%' }}>\n                <ManipulationButton color={colors.unselectedButton} onClick={() => { setIsEditing(!isEditing) }} text=\"replace\" image=\"/replace.png\" />\n                {!includeDelete\n                    ? null\n                    : (\n                            <>\n                                <div style={{ width: '5px' }} />\n                                <ManipulationButton color={colors.unselectedButton} onClick={onDelete} text=\"delete\" image=\"/close.png\" />\n                            </>\n                        )}\n                <div style={{ width: '5px' }} />\n            </div>\n        </div>\n    )\n\n    const screenshotMode = useScreenshotMode()\n\n    const navContext = useContext(Navigator.Context)\n\n    return (\n        <div>\n            {screenshotMode ? undefined : manipulationButtons}\n            <div style={{ height: '5px' }} />\n            <a\n                className=\"serif\"\n                {\n                    ...navContext.link({\n                        kind: 'article',\n                        longname,\n                        universe: currentUniverse,\n                    }, { scroll: { kind: 'position', top: 0 } })\n                }\n                style={{ textDecoration: 'none' }}\n            >\n                <div style={useComparisonHeadStyle()}>{longname}</div>\n            </a>\n            {isEditing\n                ? (\n                        <SearchBox\n                            autoFocus={true}\n                            style={{ ...comparisonHeadStyle, width: '100%' }}\n                            placeholder=\"Replacement\"\n                            onChange={() => {\n                                setIsEditing(false)\n                            }}\n                            link={onReplace}\n                            prioritizeArticleType={sharedTypeOfAllArticles ?? undefined}\n                        />\n                    )\n                : null}\n        </div>\n    )\n}\n\nexport function ComparisonLongnameCell(props: ComparisonLongnameCellProps & { width: number }): ReactNode {\n    const currentUniverse = useUniverse()\n    const navContext = useContext(Navigator.Context)\n\n    const haveColorbar = props.transpose && props.highlightIndex !== undefined\n    const width = props.width - (haveColorbar ? 2 * 100 * leftBarMargin : 0)\n\n    const bar = (): ReactNode => props.transpose && props.highlightIndex !== undefined && (\n        <ComparisonColorBar highlightIndex={props.highlightIndex} />\n    )\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging,\n    } = useSortable({ id: props.articleId ?? 'dummy' })\n\n    let extraStyle: CSSProperties = {}\n    let extraProps: React.HTMLAttributes<HTMLDivElement> & { ref?: (node: HTMLElement | null) => void } = { }\n    if (props.draggable && props.articleId) {\n        extraStyle = {\n            transform: CSS.Transform.toString(transform),\n            transition: isDragging ? transition : 'none',\n            opacity: isDragging ? 0.5 : 1,\n            touchAction: 'none',\n        }\n        extraProps = { ref: setNodeRef, ...attributes, ...listeners }\n    }\n\n    return (\n        <>\n            {bar()}\n            <div\n                key={`heading_${props.articleIndex}`}\n                style={{ width: `${width}%`, ...extraStyle }}\n                {...extraProps}\n            >\n                <HeadingDisplay\n                    longname={props.articles[props.articleIndex].longname}\n                    includeDelete={props.articles.length > 1}\n                    onDelete={() => {\n                        void navContext.navigate({\n                            kind: 'comparison',\n                            universe: currentUniverse,\n                            longnames: props.names.filter((_, index) => index !== props.articleIndex),\n                        }, { history: 'push', scroll: { kind: 'none' } })\n                    }}\n                    onReplace={x =>\n                        navContext.link({\n                            kind: 'comparison',\n                            universe: currentUniverse,\n                            longnames: props.names.map((value, index) => index === props.articleIndex ? x : value),\n                        }, { scroll: { kind: 'none' } })}\n                    manipulationJustify={props.transpose ? 'center' : 'flex-end'}\n                    sharedTypeOfAllArticles={props.sharedTypeOfAllArticles}\n                />\n            </div>\n            {bar()}\n        </>\n    )\n}\n\nexport function StatisticNameCell(props: StatisticNameCellProps & { width: number }): ReactNode {\n    const haveColorbar = !props.transpose && props.highlightIndex !== undefined\n    const width = props.width - (haveColorbar ? 100 * leftBarMargin : 0)\n\n    return (\n        <>\n            {haveColorbar && (\n                <ComparisonColorBar highlightIndex={props.highlightIndex} />\n            )}\n            <div\n                key={`statName_${props.row.statpath}`}\n                style={{ width: `${width}%`, padding: '1px', paddingLeft: props.isIndented ? '1em' : '1px', textAlign: props.center ? 'center' : undefined }}\n            >\n                <span className=\"serif value\" style={{ display: 'flex', alignItems: 'center', justifyContent: props.center ? 'center' : 'flex-start', gap: '0.25em' }}>\n                    <StatisticName\n                        row={props.row}\n                        longname={props.longname}\n                        currentUniverse={props.currentUniverse}\n                        center={props.center}\n                        displayName={props.displayName ?? props.row.renderedStatname}\n                    />\n                    {props.sortInfo && (\n                        <span\n                            style={{\n                                cursor: 'pointer',\n                                height: '16px',\n                                marginLeft: props.transpose ? '0' : 'auto',\n                            }}\n                            onClick={props.sortInfo.onSort}\n                        >\n                            <ArrowUpOrDown direction={props.sortInfo.sortDirection} shouldAppearInScreenshot={false} />\n                        </span>\n                    )}\n                </span>\n            </div>\n        </>\n    )\n}\n\nexport function StatisticName(props: {\n    row: ArticleRow\n    longname: string\n    currentUniverse: string\n    center?: boolean\n    displayName: string\n}): ReactNode {\n    const [expanded, setExpanded] = useSetting(rowExpandedKey(props.row.statpath))\n    const colors = useColors()\n    const navContext = useContext(Navigator.Context)\n\n    const link = (\n        <a\n            style={{ textDecoration: 'none', color: colors.textMain }}\n            {\n                ...navContext.link(statisticDescriptor({\n                    universe: props.currentUniverse,\n                    statname: props.row.statname,\n                    articleType: props.row.articleType,\n                    start: props.row.ordinal,\n                    amount: 20,\n                    order: 'descending',\n                    highlight: props.longname,\n                }), { scroll: { kind: 'position', top: 0 } })\n            }\n            data-test-id=\"statistic-link\"\n        >\n            {props.displayName}\n        </a>\n    )\n    const screenshotMode = useScreenshotMode()\n    const elements = [link]\n    if (props.row.extraStat !== undefined && !screenshotMode) {\n        elements.push(\n            <div\n                className=\"expand-toggle\"\n                onClick={() => { setExpanded(!expanded) }}\n                style={articleStatnameButtonStyle(colors)}\n            >\n                {expanded ? '-' : '+'}\n            </div>,\n        )\n    }\n    if (props.row.disclaimer !== undefined) {\n        elements.push(<StatisticNameDisclaimer disclaimer={props.row.disclaimer} />)\n    }\n    if (elements.length > 1) {\n        const paddedElements = [elements[0]]\n        for (let i = 1; i < elements.length; i++) {\n            paddedElements.push(<div key={i} style={{ marginLeft: '0.3em' }} />)\n            paddedElements.push(elements[i])\n        }\n        return (\n            <span style={{\n                display: 'flex',\n                alignItems: 'center',\n                flexDirection: 'row',\n                justifyContent: props.center ? 'center' : undefined,\n            }}\n            >\n                {...paddedElements}\n            </span>\n        )\n    }\n    return link\n}\n\nexport function ComparisonColorBar({ highlightIndex }: { highlightIndex: number | undefined }): ReactNode {\n    const colors = useColors()\n\n    return (\n        <div\n            key=\"color\"\n            style={{\n                width: `${100 * leftBarMargin}%`,\n                alignSelf: 'stretch',\n                position: 'relative',\n            }}\n        >\n            <div style={{\n                backgroundColor: highlightIndex === undefined ? colors.background : colorFromCycle(colors.hueColors, highlightIndex),\n                height: '100%',\n                width: '50%',\n                left: '25%',\n                position: 'absolute',\n            }}\n            />\n        </div>\n    )\n}\n\nfunction computeDisclaimerText(disclaimer: Disclaimer): string {\n    switch (disclaimer) {\n        case 'heterogenous-sources':\n            return 'This statistic is based on data from multiple sources, which may not be consistent with each other.'\n    }\n}\n\nfunction StatisticNameDisclaimer(props: { disclaimer: Disclaimer }): ReactNode {\n    // little disclaimer icon that pops up a tooltip when clicked\n    const [show, setShow] = useState(false)\n    const colors = useColors()\n    const tooltipStyle: React.CSSProperties = {\n        position: 'absolute',\n        backgroundColor: colors.slightlyDifferentBackgroundFocused,\n        color: colors.textMain,\n        padding: '0.5em',\n        borderRadius: '0.5em',\n        border: `1px solid ${colors.textMain}`,\n        zIndex: 100000,\n        display: show ? 'block' : 'none',\n    }\n    return (\n        <span>\n            <span\n                className=\"disclaimer-toggle\"\n                style={{ ...articleStatnameButtonStyle(colors), display: 'inline-block' }}\n                onClick={() => { setShow(!show) }}\n            >\n                !\n            </span>\n            <div\n                style={tooltipStyle}\n                onClick={() => { setShow(false) }}\n            >\n                {computeDisclaimerText(props.disclaimer)}\n            </div>\n        </span>\n    )\n}\n\nexport function TableRowContainer({ children, index, minHeight }: { children: React.ReactNode, index: number, minHeight?: string }): React.ReactNode {\n    const colors = useColors()\n    const style: React.CSSProperties = {\n        ...tableRowStyle,\n        backgroundColor: index % 2 === 1 ? colors.slightlyDifferentBackground : undefined,\n        alignItems: 'last baseline',\n        minHeight,\n    }\n    return (\n        <div\n            className=\"for-testing-table-row\"\n            style={style}\n        >\n            {children}\n        </div>\n    )\n}\n\nfunction Ordinal(props: {\n    ordinal: number\n    total: number\n    type: string\n    statpath: string\n    simpleOrdinals: boolean\n    onNavigate?: (newArticle: string) => void\n}): ReactNode {\n    const currentUniverse = useUniverse()\n    const onNewNumber = async (number: number): Promise<void> => {\n        let num = number\n        if (num < 0) {\n            // -1 -> props.total, -2 -> props.total - 1, etc.\n            num = props.total + 1 + num\n        }\n        if (num > props.total) {\n            num = props.total\n        }\n        if (num <= 0) {\n            num = 1\n        }\n        const data = await loadOrdering(currentUniverse, props.statpath, props.type)\n        props.onNavigate?.(data.longnames[num - 1])\n    }\n    const ordinal = props.ordinal\n    const total = props.total\n    const type = props.type\n    if (ordinal > total) {\n        return <span></span>\n    }\n    const en = (\n        <EditableNumber\n            number={ordinal}\n            onNewNumber={onNewNumber}\n        />\n    )\n    return (\n        <div className=\"serif\" style={{ textAlign: 'right', marginRight: props.simpleOrdinals ? '5px' : 0 }}>\n            {en}\n            {props.simpleOrdinals\n                ? <></>\n                : (\n                        <>\n                            {' of '}\n                            {total}\n                            {' '}\n                            {displayType(currentUniverse, type)}\n                        </>\n                    )}\n\n        </div>\n    )\n}\n\n;\n\n// Lacks some customization since its column is not show in the comparison view\nfunction PointerButtonsIndex(props: { ordinal?: number, statpath: string, type: string, total: number, longname: string, overallFirstLast?: FirstLastStatus }): ReactNode {\n    const currentUniverse = useUniverse()\n    const getData = async (): Promise<ArticleOrderingListInternal> => await loadOrdering(currentUniverse, props.statpath, props.type)\n    return (\n        <span style={{ margin: 'auto', whiteSpace: 'nowrap' }}>\n            <PointerButtonIndex\n                getData={getData}\n                originalPos={props.ordinal}\n                direction={-1}\n                total={props.total}\n                longname={props.longname}\n                disable={props.overallFirstLast?.isFirst}\n            />\n            <PointerButtonIndex\n                getData={getData}\n                originalPos={props.ordinal}\n                direction={+1}\n                total={props.total}\n                longname={props.longname}\n                disable={props.overallFirstLast?.isLast}\n            />\n        </span>\n    )\n}\n\nfunction PointerButtonIndex(props: {\n    getData: () => Promise<ArticleOrderingListInternal>\n    originalPos?: number // 1-indexed\n    direction: -1 | 1\n    total: number\n    longname: string\n    disable?: boolean\n}): ReactNode {\n    const universe = useUniverse()\n    const colors = useColors()\n    const navigation = useContext(Navigator.Context)\n    const showSettings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const onClick = async (): Promise<void> => {\n        /* eslint-disable no-console -- Debugging test failure */\n        console.log(`Click on pointer button! props=${JSON.stringify(props)}`)\n        const data = await props.getData()\n        let pos = data.longnames.indexOf(props.longname) + props.direction\n        console.log(`Starting position=${pos}`)\n        while (pos >= 0 && pos < props.total) {\n            const name = data.longnames[pos]\n            const type = data.typeIndices[pos]\n            console.log(`name=${name}`)\n            if (!isAllowedToBeShown(type, showSettings)) {\n                pos += props.direction\n                continue\n            }\n            console.log(`navigate to ${name}`)\n            void navigation.navigate({\n                kind: 'article',\n                longname: name,\n                universe,\n            }, { history: 'push', scroll: { kind: 'element', element: buttonRef.current! } })\n            return\n        }\n        /* eslint-enable no-console */\n    }\n\n    const buttonStyle: React.CSSProperties = {\n        fontFamily: 'Jost, Arial, sans-serif',\n        fontSize: '8pt',\n        fontWeight: 500,\n        textDecoration: 'none',\n        color: colors.textPointer,\n        padding: '2px 6px 2px 6px',\n        borderRadius: '5px',\n        borderTop: `1px solid ${colors.borderNonShadow}`,\n        borderRight: `1px solid ${colors.borderShadow}`,\n        borderBottom: `1px solid ${colors.borderShadow}`,\n        borderLeft: `1px solid ${colors.borderNonShadow}`,\n        backgroundColor: 'transparent',\n    }\n\n    let disabled: boolean = props.disable ?? false\n    if (props.originalPos !== undefined) {\n        disabled = props.originalPos + props.direction < 1 || props.originalPos + props.direction > props.total\n    }\n\n    const buttonRef = useRef<HTMLButtonElement>(null) // Need the ref otherwise the mouse enter and leave events can be sent to the wrong elem\n\n    return (\n        <button\n            disabled={disabled}\n            style={buttonStyle}\n            onClick={onClick}\n            data-test-id={props.direction}\n            ref={buttonRef}\n            onMouseEnter={() => {\n                buttonRef.current!.style.backgroundColor = colors.slightlyDifferentBackgroundFocused\n            }}\n            onMouseLeave={() => {\n                buttonRef.current!.style.backgroundColor = 'transparent'\n            }}\n        >\n            <PointerArrow direction={props.direction} disabled={disabled} />\n        </button>\n    )\n}\n","import React, { CSSProperties, Fragment, ReactNode } from 'react'\n\nimport { Article } from '../utils/protos'\n\nimport { ArticleRow } from './load-article'\nimport { extraHeaderSpaceForVertical, PlotProps, RenderedPlot } from './plots'\nimport { ColumnIdentifier, MainHeaderRow, ComparisonLongnameCell, ComparisonTopLeftHeader, SuperHeaderHorizontal, StatisticNameCell, StatisticRowCells, TableHeaderContainer, TableRowContainer, TopLeftHeader } from './table'\n\nexport interface PlotSpec {\n    statDescription: string\n    plotProps: PlotProps[]\n}\n\nexport interface SuperHeaderSpec {\n    headerSpecs: CellSpec[]\n    showBottomBar: boolean\n    groupNames?: (string | undefined)[]\n}\n\nexport interface LeftHeaderSpec {\n    leftHeaderSpecs: CellSpec[]\n    groupNames?: (string | undefined)[]\n}\n\nexport interface TableContentsProps {\n    superHeaderSpec?: SuperHeaderSpec\n    leftHeaderSpec: LeftHeaderSpec\n    rowSpecs: CellSpec[][]\n    horizontalPlotSpecs: (PlotSpec | undefined)[]\n    verticalPlotSpecs: (PlotSpec | undefined)[]\n    topLeftSpec: CellSpec\n    widthLeftHeader: number\n    columnWidth: number\n    onlyColumns: ColumnIdentifier[]\n    simpleOrdinals: boolean\n}\n\nexport function TableContents(props: TableContentsProps): ReactNode {\n    const headerHeight = props.verticalPlotSpecs.flatMap(p => p === undefined ? [] : p.plotProps).map(p => extraHeaderSpaceForVertical(p)).reduce((a, b) => Math.max(a, b), 0)\n    const contentHeight = '379.5px'\n\n    const shouldSetMinHeight = props.verticalPlotSpecs.some(p => p !== undefined)\n    const overallMinHeight = shouldSetMinHeight ? `calc(${headerHeight}px + ${contentHeight})` : undefined\n    const rowMinHeight = shouldSetMinHeight ? `calc(${contentHeight} / ${props.leftHeaderSpec.leftHeaderSpecs.length})` : undefined\n\n    // should be 1 column, unless there are header specs. only use header specs if we can't infer from the cells.\n    const ncols = props.rowSpecs.length !== 0 ? props.rowSpecs[0].length : props.superHeaderSpec?.headerSpecs.length ?? 1\n\n    const extraSpaceRight = Array.from({ length: ncols }).map((_, i) => (props.verticalPlotSpecs[i] === undefined ? 0 : props.columnWidth))\n    const columnFullWidths = extraSpaceRight.map(extra => props.columnWidth + extra)\n\n    return (\n        <>\n            {props.superHeaderSpec !== undefined && (\n                <SuperHeaderHorizontal\n                    {...props.superHeaderSpec}\n                    leftSpacerWidth={props.widthLeftHeader}\n                    widthsEach={columnFullWidths}\n                />\n            )}\n\n            <div style={{ position: 'relative', minHeight: overallMinHeight }}>\n                <TableHeaderContainer>\n                    <MainHeaderRow\n                        columnWidth={props.columnWidth}\n                        topLeftSpec={props.topLeftSpec}\n                        topLeftWidth={props.widthLeftHeader}\n                        onlyColumns={props.onlyColumns}\n                        extraSpaceRight={extraSpaceRight}\n                        simpleOrdinals={props.simpleOrdinals}\n                    />\n                </TableHeaderContainer>\n                {props.rowSpecs.map((rowSpecsForItem, rowIndex) => {\n                    const plotSpec = props.horizontalPlotSpecs[rowIndex]\n                    return (\n                        <SuperTableRow\n                            key={`TableRowContainer_${rowIndex}`}\n                            rowIndex={rowIndex}\n                            rowMinHeight={rowMinHeight}\n                            cellSpecs={rowSpecsForItem}\n                            extraSpaceRight={extraSpaceRight}\n                            plotSpec={plotSpec}\n                            leftHeaderSpec={props.leftHeaderSpec.leftHeaderSpecs[rowIndex]}\n                            widthLeftHeader={props.widthLeftHeader}\n                            columnWidth={props.columnWidth}\n                            groupName={props.leftHeaderSpec.groupNames?.[rowIndex]}\n                            prevGroupName={rowIndex > 0 ? props.leftHeaderSpec.groupNames?.[rowIndex - 1] : undefined}\n                        />\n                    )\n                })}\n                {props.verticalPlotSpecs.map((plotSpec, statIndex) => plotSpec\n                    ? (\n                            <div key={`statPlot_${statIndex}`} style={{ position: 'absolute', top: 0, left: `${props.widthLeftHeader + Array.from({ length: statIndex }).reduce((acc: number, unused, i) => acc + columnFullWidths[i], props.columnWidth)}%`, bottom: 0, width: `${props.columnWidth}%` }}>\n                                <RenderedPlot statDescription={plotSpec.statDescription} plotProps={plotSpec.plotProps} />\n                            </div>\n                        )\n                    : null,\n                )}\n            </div>\n        </>\n    )\n}\n\nexport function SuperTableRow(props: {\n    rowIndex: number\n    leftHeaderSpec: CellSpec\n    cellSpecs: CellSpec[]\n    plotSpec?: PlotSpec\n    widthLeftHeader: number\n    columnWidth: number\n    rowMinHeight?: string\n    groupName?: string\n    prevGroupName?: string\n    extraSpaceRight: number[]\n}): ReactNode {\n    return (\n        <div>\n            {props.groupName !== undefined && (props.groupName !== props.prevGroupName) && (\n                <TableRowContainer index={props.rowIndex}>\n                    <div style={{ width: '100%', padding: '1px' }}>\n                        <span className=\"serif value\">\n                            <span>{props.groupName}</span>\n                        </span>\n                    </div>\n                </TableRowContainer>\n            )}\n            <TableRowContainer index={props.rowIndex} minHeight={props.rowMinHeight}>\n                <Cell {...props.leftHeaderSpec} width={props.widthLeftHeader} />\n                {props.cellSpecs.map((spec, colIndex) => (\n                    <Fragment key={`cells_${colIndex}_${props.rowIndex}`}>\n                        <Cell {...spec} width={props.columnWidth} />\n                        <div style={{ width: `${props.extraSpaceRight[colIndex]}%` }}></div>\n                    </Fragment>\n                ))}\n            </TableRowContainer>\n            {props.plotSpec && (\n                <div style={{ width: '100%', position: 'relative' }}>\n                    <RenderedPlot statDescription={props.plotSpec.statDescription} plotProps={props.plotSpec.plotProps} />\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport type CellSpec = ({ type: 'comparison-longname' } & ComparisonLongnameCellProps) |\n    ({ type: 'statistic-name' } & StatisticNameCellProps) |\n    ({ type: 'statistic-row' } & StatisticRowCellProps) |\n    ({ type: 'comparison-top-left-header' } & TopLeftHeaderProps) |\n    ({ type: 'top-left-header' } & TopLeftHeaderProps)\n\nexport function Cell(props: CellSpec & { width: number }): ReactNode {\n    switch (props.type) {\n        case 'comparison-longname':\n            return <ComparisonLongnameCell {...props} width={props.width} />\n        case 'statistic-name':\n            return <StatisticNameCell {...props} width={props.width} />\n        case 'statistic-row':\n            return <StatisticRowCells {...props} width={props.width} />\n        case 'comparison-top-left-header':\n            return <ComparisonTopLeftHeader {...props} width={props.width} />\n        case 'top-left-header':\n            return <TopLeftHeader {...props} width={props.width} />\n    }\n}\n\nexport interface ComparisonLongnameCellProps {\n    articleIndex: number\n    articles: Article[]\n    names: string[]\n    transpose: boolean\n    sharedTypeOfAllArticles: string | null | undefined\n    highlightIndex?: number\n    draggable?: boolean\n    articleId?: string\n}\n\nexport interface StatisticNameCellProps {\n    row: ArticleRow\n    longname: string\n    currentUniverse: string\n    center?: boolean\n    highlightIndex?: number\n    transpose?: boolean\n    isIndented?: boolean\n    displayName?: string\n    sortInfo?: {\n        sortDirection: 'up' | 'down' | 'both'\n        onSort: () => void\n    }\n}\n\nexport interface StatisticRowCellProps {\n    longname: string\n    statisticStyle?: CSSProperties\n    row: ArticleRow\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    onNavigate?: (newArticle: string) => void\n    simpleOrdinals: boolean\n    extraSpaceRight?: number\n}\n\nexport interface TopLeftHeaderProps {\n    statNameOverride?: string\n}\n","import { useEffect, useState } from 'react'\n\nexport class Property<T> {\n    private _value: T\n    readonly observers = new Set<() => void>()\n\n    readonly id = Math.random().toString(36).substring(2)\n\n    constructor(value: T) {\n        this._value = value\n    }\n\n    get value(): T {\n        return this._value\n    }\n\n    set value(newValue: T) {\n        this._value = newValue\n        this.observers.forEach((observer) => { observer() })\n    }\n\n    /* eslint-disable react-hooks/rules-of-hooks -- Custom hook method */\n    use(): T {\n        const [, setCounter] = useState(0)\n        useEffect(() => {\n            const observer = (): void => {\n                setCounter(counter => counter + 1)\n            }\n            this.observers.add(observer)\n            return () => {\n                this.observers.delete(observer)\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- Needs this as the property can change around the effect\n        }, [this])\n        return this.value\n    }\n    /* eslint-enable react-hooks/rules-of-hooks */\n}\n","import { createContext, useContext } from 'react'\n\n// eslint-disable-next-line no-restricted-syntax -- Context declaration\nexport const TransposeContext = createContext(false)\n\nexport function useTranspose(): boolean {\n    return useContext(TransposeContext)\n}\n"],"names":["ArticleWarnings","screenshotMode","useScreenshotMode","selectedGroups","useSelectedGroups","groupsMissingYearSelection","useGroupsMissingYearSelection","availableYears","useAvailableYears","dataSourceCheckboxes","useDataSourceCheckboxes","settings","useSettings","groupYearKeys","allUncheckedSourceGroups","category","checkboxSpecs","name","forcedOn","sourceEnabledKey","warnings","groupOrCategory","HierarchicalName","YearList","year","checkboxCategoryName","WarningBox","param","colors","useColors","warning","key","years","Icon","size","color","src","style","ArticleMap","props","articleType","related","longname","relatedCheckboxSettings","mapRef","useRef","features","useArticleFeatures","relatedSettingsKeys","useMemo","getRelated","x","relateds","relatedShapes","result","i","isAllowedToBeShown","relationshipKey","randomColor","polygonFeatureCollection","readyFeatures","notWaiting","useZoomFirstFeature","CommonMaplibreMap","PolygonFeatureCollection","FullscreenControl","ExternalLinks","elementsEach","metadata","meta","foundMetadata","m","undefined","ExternalLink","sv","assert","computeLinkSuffix","normalizer","imageURLFor","site","useRelatedColor","rowType","colorIntensity","typeCategory","type_to_type_category","colorsEach","Object","relatedButtonColors","typ","mixWithBackground","RelatedButton","currentUniverse","useUniverse","navContext","useContext","Navigator","useMobileLayout","Label","RelationshipGroup","backgroundColor","txt","row","Row","settingKey","checkId","useId","universe","CheckboxSetting","displayType","Array","relationshipType","regions","Related","showSettings","buttons","DefaultMap","_iteratorError","_iteratorError1","button","buttonKeys","a","b","type_ordering_idx","buttonKey","elements","ArticlePanel","article","rows","headersRef","tableRef","headerTextClass","useHeaderTextClass","subHeaderTextClass","useSubHeaderTextClass","comparisonHeadStyle","useComparisonHeadStyle","filteredRows","csvData","generateCSVDataForArticles","csvFilename","sanitize","QuerySettingsConnection","PageTemplate","ArticleTable","ComparisonSearchBox","computeNameSpecsWithGroups","nameSpecs","updatedNameSpecs","groupNames","_statParent_source","_statParent_indentedName","spec","statParent","statParents","groupRows","s","_statParents_get","groupSize","groupHasMultipleSources","groupSourcesSet","Set","source","sourceName","displayName","simpleOrdinals","isMobile","widthLeftHeader","expandedSettings","rowExpandedKey","expandedEach","_useSetting","_useWidths","nonPointerColumns","columnWidth","_computeNameSpecsWithGroups","leftHeaderSpecs","onlyColumns","cellSpecs","newArticle","plotSpecs","expanded","index","TableContents","StatisticHeader","type","SearchBox","EditableString","contentEditable","html","setCounter","_useState","useEffect","count","handleSubmit","content","ContentEditable","evt","e","setTimeout","range","document","selection","window","EditableNumber","number","parseInt","Number","PlotComponent","transpose","useTranspose","plotRef","plotSpec","plotConfig","useCallback","transposeConfig","_plotSpec","marks","xlabel","ylabel","ydomain","legend","plot","Plot","transposeTopMargin","div","Histogram","histogramType","useImperial","_useSetting1","relative","_useSetting2","binMin","binSize","histogram","Error","systemColors","maxValue","log10TickGapTimes3","tickGapOom","tickGap","yKeypoints","axis","grid","title","h","shortnames","renderY","y","renderNumberHighlyRounded","_histogramBounds","histograms","_Math","_Math1","xIdxEnd","zerosAtFront","arr","xIdxStart","xidxs","_","_xAxis","xKeypoints","xidx","lastDigit","adjustment","Math","d","pow10Moral","x10","errorRound","xAxisMarks","renderX","_createHistogramMarks","isCumulative","sumEach","series","histogramIdx","counts","seriesSingle","dovetailSequences","width","off","_seriesSingle","v","tip","maxSequences","seriesMax","_marks","maxValueRounded","tickGapMantissa","makePlot","HistogramSettings","setHistogramType","showSearchBox","setShowSearchBox","createScreenshot","regionName","places","TimeSeriesPlot","stat","xval","RenderedPlot","_plotProps_","statDescription","plotProps","_plot_extraStat","_plot_extraStat1","_props_extraStat","tableRowStyle","TableHeaderContainer","children","ColumnLayout","cellPercentages","cellContents","_props_blankColumns","widthPercentage","columnIdentifier","sum","sty","SuperHeaderHorizontal","bars","getBarColor","idx","colorFromCycle","SuperHeaderGroupNames","cellSpec","Cell","groupName","sizes","names","ComparisonTopLeftHeader","ComparisonColorBar","TopLeftHeader","leftBarMargin","_props_statNameOverride","MainHeaderRow","columnIndex","_props_extraSpaceRight_columnIndex","StatisticHeaderCells","preferredPointerCell","setPreferredPointerCell","selectWidth","arrowWidth","arrowStyle","pointerInClassCell","pointerOverallCell","selectorCell","singlePointerCell","_props_extraSpaceRight","ordinalStyle","cells","useSinglePointerCell","StatisticRowCells","_props_statisticStyle","Statistic","Percentile","Ordinal","PointerRowCells","PointerButtonsIndex","articleStatnameButtonStyle","manipulationButtonHeight","ManipulationButton","buttonColor","onClick","text","image","isTranspose","HeadingDisplay","includeDelete","onDelete","onReplace","manipulationJustify","sharedTypeOfAllArticles","_React_useState","isEditing","setIsEditing","manipulationButtons","ComparisonLongnameCell","_props_articleId","haveColorbar","bar","_useSortable","attributes","listeners","setNodeRef","transform","transition","isDragging","extraStyle","extraProps","CSS","value","StatisticNameCell","_props_displayName","StatisticName","ArrowUpOrDown","setExpanded","link","statisticDescriptor","StatisticNameDisclaimer","paddedElements","highlightIndex","show","setShow","tooltipStyle","computeDisclaimerText","disclaimer","TableRowContainer","minHeight","ordinal","total","en","num","data","loadOrdering","_props_overallFirstLast","_props_overallFirstLast1","getData","PointerButtonIndex","_props_disable","navigation","buttonStyle","disabled","buttonRef","pos","console","JSON","PointerArrow","_props_superHeaderSpec_headerSpecs_length","headerHeight","p","_spec_extraStat","contentHeight","shouldSetMinHeight","overallMinHeight","rowMinHeight","extraSpaceRight","columnFullWidths","extra","rowSpecsForItem","rowIndex","_props_leftHeaderSpec_groupNames","_props_leftHeaderSpec_groupNames1","SuperTableRow","statIndex","acc","unused","colIndex","Fragment","Property","newValue","observer","use","counter","t","TransposeContext","createContext"],"mappings":"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"}