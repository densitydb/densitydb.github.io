"use strict";(self.webpackChunkassets=self.webpackChunkassets||[]).push([["193"],{9844:function(t,e,r){r.d(e,{Z:()=>l});var n=r(63694),a=r.n(n),o=r(9369),i=r.n(o)()(a());i.push([t.id,`.histogram-svg-panel svg {
    max-height: 100%;
}
`,"",{version:3,sources:["webpack://./src/components/plots.css"],names:[],mappings:"AAAA;IACI,gBAAgB;AACpB",sourcesContent:[".histogram-svg-panel svg {\n    max-height: 100%;\n}\n"],sourceRoot:""}]);let l=i},78773:function(t,e,r){r.d(e,{Q:()=>s});var n=r(72668),a=r(44852),o=r(27281),i=r(82074),l=r(65547);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){var t=(0,l.Lm)(),e=(0,i.E0)(),r=(0,i.ky)(),a=(0,i.e5)(),u=(0,i.z0)(),s=(0,o.rV)((0,i.fX)()),d=u.filter(function(t){var e=t.category;return t.checkboxSpecs.every(function(t){var r=t.name;return!t.forcedOn&&!s[(0,o.sm)({category:e,name:r})]})});if(t)return null;var p=0===e.length?[n.createElement("b",{key:"noneSelected"},"No Statistic Categories are selected")]:c(r.map(function(t){return n.createElement(n.Fragment,null,"To see"," ",n.createElement("b",null,n.createElement(f,{groupOrCategory:t}))," statistics, select ",n.createElement(h,{years:a.filter(function(e){return t.years.has(e)})}),".")})).concat(c(d.map(function(t){var e=t.category;return n.createElement(n.Fragment,null,"All statistics from the"," ",n.createElement("b",null,(0,o.NI)(e))," ","are disabled.")})));return 0===p.length?null:n.createElement(m,{warnings:p})}function m(t){var e=t.warnings,r=(0,a.cI)();return n.createElement("div",{style:{backgroundColor:r.slightlyDifferentBackgroundFocused,borderRadius:"5px"},"data-test-id":"article-warnings"},n.createElement("ul",{style:{paddingTop:"1em",paddingBottom:"1em"}},e.map(function(t,e){return n.createElement("li",{key:e},t)})))}function f(t){var e=t.groupOrCategory;switch(e.kind){case"Group":return"".concat(e.parent.name," > ").concat(e.name);case"Category":return e.name}}function h(t){var e=t.years;switch(e.length){case 0:return null;case 1:return n.createElement("b",null,e[0]);case 2:return n.createElement(n.Fragment,null,n.createElement("b",null,e[0])," or ",n.createElement("b",null,e[1]));case 3:return n.createElement(n.Fragment,null,n.createElement("b",null,e[0]),", ",n.createElement("b",null,e[1]),", or ",n.createElement("b",null,e[2]));default:return n.createElement(n.Fragment,null,n.createElement("b",null,e[0]),", ",n.createElement(h,{years:e.slice(1)}))}}},58769:function(t,e,r){r.d(e,{t:()=>E});var n=r(70749),a=r(72668),o=r(11625),i=r(65547),l=r(93379),u=r.n(l),c=r(7795),s=r.n(c),m=r(90569),f=r.n(m),h=r(3565),d=r.n(h),p=r(19216),v=r.n(p),y=r(44589),g=r.n(y),b=r(9844),x={};function E(t){var e=(0,o.T)(),r=(0,a.useRef)(null),l=t.plotSpec,u=(0,a.useCallback)(function(t){var e=l(t),r=e.marks,n=e.xlabel,a=e.ylabel,o=e.ydomain,i={marks:r,x:{label:n},y:{label:a,domain:o},grid:!1,width:t?void 0:1e3,height:t?1e3:void 0,style:{fontSize:t?"2em":"1em",fontFamily:"Jost, Arial, sans-serif"},marginTop:80,marginBottom:t?80:40,marginLeft:80,color:e.legend};return t&&(i.x={label:a,domain:o},i.y={label:n,reverse:!0}),i},[l]);(0,a.useEffect)(function(){if(r.current){var t=n.g(u(e));r.current.innerHTML="",r.current.appendChild(t)}},[t.plotSpec,e,u]);var c=(0,i.Lm)(),s="35px";return a.createElement(a.Fragment,null,a.createElement("div",{className:"histogram-svg-panel",ref:r,style:{width:"100%",height:e?"calc(100% - ".concat(s,")"):void 0,position:e?"relative":void 0,top:e?s:void 0}}),c?void 0:a.createElement("div",{style:{zIndex:1e3,position:"absolute",top:0,right:0,left:e?0:void 0}},t.settingsElement(function(){var t=n.g(u(!1)),e=document.createElement("div");return e.style.width="1000px",e.style.height="500px",e.appendChild(t),e})))}x.styleTagTransform=g(),x.setAttributes=d(),x.insert=f().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=v(),u()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals},85954:function(t,e,r){r.d(e,{B:()=>g,b:()=>y});var n=r(70749),a=r(72668),o=r(44852),i=r(27281),l=r(22712),u=r(11625),c=r(58769),s=r(65547),m=r(98234);function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e,r,n,a,o,i){try{var l=t[o](i),u=l.value}catch(t){r(t);return}l.done?e(u):Promise.resolve(u).then(n,a)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r,n,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(t);!(i=(r=a.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){l=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,e)||v(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}}function y(t){var e=d((0,i.yu)("histogram_type"),1)[0],r=d((0,i.yu)("use_imperial"),1)[0],l=d((0,i.yu)("histogram_relative"),1)[0],u=t.histograms[0].histogram.binMin,s=t.histograms[0].histogram.binSize,m=!0,f=!1,h=void 0;try{for(var v,y=t.histograms[Symbol.iterator]();!(m=(v=y.next()).done);m=!0){var g=v.value;if(g.histogram.binMin!==u||g.histogram.binSize!==s)throw Error("histograms have different binMin or binSize")}}catch(t){f=!0,h=t}finally{try{m||null==y.return||y.return()}finally{if(f)throw h}}var E=(0,o.cI)(),k=(0,a.useCallback)(function(a){var o,i,c,m,f,h,v,y,g=1===t.histograms.length?t.histograms[0].shortname:"",b=t.histograms.map(function(t){return t.color}),k=t.histograms.map(function(t){return t.shortname}),S=l?function(t){return"".concat(t.toFixed(2),"%")}:function(t){return x(t,2)},M=d(function(t){var e,r,n=(e=Math).max.apply(e,p(t.map(function(t){return t.histogram.counts.length})));n+=1;var a=function(t){for(var e=0;e<t.length&&0===t[e];)e++;return e},o=(r=Math).min.apply(r,p(t.map(function(t){return a(t.histogram.counts)})));for(o>0&&o--;o%10!=0&&o%10!=3&&o%10!=7;)o--;for(;n%10!=0&&n%10!=3&&n%10!=7;)n++;return[o,n]}(t.histograms),2),w=M[0],A=Array.from({length:M[1]-w},function(t,e){return e+w}),C=d(function(t,e,r,a,o){var i=[],l=!0,u=!1,c=void 0;try{for(var s,m=t[Symbol.iterator]();!(l=(s=m.next()).done);l=!0){var f=s.value,h=f%10;a&&(h=(h+4)%10),(0===h||3===h||7===h)&&i.push(f)}}catch(t){u=!0,c=t}finally{try{l||null==m.return||m.return()}finally{if(u)throw c}}var d=a?2*Math.log10(1.60934):0,p=n.lU,v=n.A;return o&&(p=n.Me,v=n.Hh),[[p(i,{tickFormat:function(t){return x(function t(e){if(e<0)return 1/t(-e);if(e>=1)return Math.pow(10,Math.floor(e))*t(e-Math.floor(e));var r=10*e;return Math.abs(r-Math.round(r))>.2?Math.pow(10,e):0===Math.round(r)?1:3===Math.round(r)?2:7===Math.round(r)?5:Math.pow(10,e)}(t*e+r+d))}}),v(i)],function(t){return"".concat(x(Math.pow(10,t*e+r+d),2),"/").concat(a?"mi":"km","\xb2")}]}(A,s,u,r,a),2),I=C[0],T=C[1],F=d(function(t,e,r,a,o,i,l,u){var c,s,m,f,h=(c="Line (cumulative)"===r,s=t.map(function(t){return t.histogram.counts.reduce(function(t,e){return t+e},0)}),t.map(function(t,r){var n=p(t.histogram.counts);if(c)for(var o=n.length-2;o>=0;o--)n[o]+=n[o+1];return{values:e.map(function(e){return{name:t.shortname,xidx:e,y:(e>=n.length?0:n[e]/s[r])*(a?100:t.universeTotal)}}),color:t.color}})),d=function(t){for(var e=[],r=0;r<t.length;r++)!function(r){var n=t[r],a=1/t.length*.8,o=(r-(t.length-1)/2)*a;e.push.apply(e,p(n.values.map(function(t){return{xidxLeft:t.xidx+o,xidxRight:t.xidx+o+a,y:t.y,color:n.color,name:t.name}})))}(r);return e}(h),v=(f=Math).max.apply(f,p(h.map(function(t){return(m=Math).max.apply(m,p(t.values.map(function(t){return t.y})))}))),y=n.IE(function(t){for(var e=function(e){var n;r.push({xidx:t[0].values[e].xidx,y:(n=Math).max.apply(n,p(t.map(function(t){return t.values[e].y}))),names:t.map(function(t){return t.values[e].name}),ys:t.map(function(t){return t.values[e].y})})},r=[],n=0;n<t[0].values.length;n++)e(n);return r}(h),(l?n.NF:n.TT)({x:l?"y":"xidx",y:l?"xidx":"y",title:function(t){var e="Density: ".concat(o(t.xidx),"\n");return t.names.length>1?e+=t.names.map(function(e,r){return"".concat(e,": ").concat(i(t.ys[r]))}).join("\n"):e+="Frequency: ".concat(i(t.ys[0])),e},fill:u.slightlyDifferentBackground,stroke:u.borderNonShadow,textColor:u.textMain})),g=1===t.length?t[0].color:"name",b=[];return"Line"===r||"Line (cumulative)"===r?b.push.apply(b,p(h.map(function(t){return n.jv(t.values,{x:l?"y":"xidx",y:l?"xidx":"y",stroke:g,strokeWidth:4})}))):b.push(l?n.ex(d,{y1:"xidxLeft",y2:"xidxRight",x:"y",fill:g}):n.aM(d,{x1:"xidxLeft",x2:"xidxRight",y:"y",fill:g})),b.push(y),[b,v]}(t.histograms,A,e,l,T,S,a,E),2),j=F[0],L=F[1];return j.push.apply(j,p(I).concat(p((o=L,i=a,m=Math.pow(10,Math.floor((c=Math.floor(3*Math.log10(o/5)))/3)),h=Array.from({length:Math.floor(Math.ceil(o/(f=(c%3==0?1:c%3==1?2:5)*m))*f/f)+1},function(t,e){return e*f}).filter(function(t,e){return!i||e%2==0}),v=n.Me,y=n.Hh,i&&(v=n.lU,y=n.A),[v(h,{tickFormat:function(t){return x(t,1)}}),y(h)])))),j.push(n.fL([g],{frameAnchor:"top",dy:-40})),{marks:j,xlabel:"".concat(t.statDescription," (/").concat(r?"mi":"km","\xb2)"),ylabel:l?"% of total":"Population",ydomain:[-(.025*L),1.025*L],legend:1===t.histograms.length?void 0:{legend:!a,range:b,domain:k}}},[t.histograms,u,s,l,e,r,E,t.statDescription]);return a.createElement(c.t,{plotSpec:k,settingsElement:function(e){return a.createElement(b,{makePlot:e,shortnames:t.histograms.map(function(t){return t.shortname})})}})}var g="30.5px";function b(t){var e=(0,l.jg)(),r=d((0,i.yu)("histogram_type"),2),n=r[0],c=r[1],f=(0,o.cI)(),p=(0,u.T)();return a.createElement("div",{className:"serif",style:{backgroundColor:p?void 0:f.background,padding:p?void 0:"0.5em",border:p?void 0:"1px solid ".concat(f.textMain),display:"flex",gap:"0.5em",height:p?g:void 0,alignItems:p?"center":void 0,justifyContent:p?"center":void 0}},a.createElement("img",{src:"/download.png",onClick:function(){var r;return(r=function(){var r;return function(t,e){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(u){var c=[l,u];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return r=t.makePlot(),document.body.appendChild(r),[4,(0,s.Y2)({path:"".concat(t.shortnames.join("_"),"_histogram"),overallWidth:2*r.offsetWidth,elementsToRender:[r],heightMultiplier:1.2},e,f)];case 1:return n.sent(),r.remove(),[2]}})},function(){var t=this,e=arguments;return new Promise(function(n,a){var o=r.apply(t,e);function i(t){h(o,n,a,i,l,"next",t)}function l(t){h(o,n,a,i,l,"throw",t)}i(void 0)})})()},width:"20",height:"20"}),a.createElement("select",{value:n,style:{backgroundColor:f.background,color:f.textMain},onChange:function(t){c(t.target.value)},className:"serif","data-test-id":"histogram_type"},a.createElement("option",{value:"Line"},"Line"),a.createElement("option",{value:"Line (cumulative)"},"Line (cumulative)"),a.createElement("option",{value:"Bar"},"Bar")),a.createElement(m.tG,{name:p?"Relative":"Relative Histograms",settingKey:"histogram_relative",testId:"histogram_relative"}))}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t<1e3?t.toFixed(0):t<1e6?"".concat((t/1e3).toFixed(e),"k"):t<1e9?"".concat((t/1e6).toFixed(e),"M"):t<1e12?"".concat((t/1e9).toFixed(e),"B"):t.toExponential(1)}},85620:function(t,e,r){r.d(e,{G:()=>u});var n=r(72668),a=r(85954),o=r(70749),i=r(58769);function l(t){var e=(0,n.useMemo)(function(){var e=t.stats.map(function(t){var e=t.stat.years,r=t.stat.timeSeries;return o.jv(e.map(function(t,e){return[t,r[e]]}),{stroke:t.color,strokeWidth:2})});return e.push(o.lU({label:"Year",tickFormat:function(t){return t.toString()}})),{marks:e,xlabel:"Year",ylabel:t.stats[0].stat.name,ydomain:void 0,legend:{legend:!0,range:t.stats.map(function(t){return t.color}),domain:t.stats.map(function(t){return t.shortname})}}},[t.stats]);return n.createElement(i.t,{plotSpec:function(){return e},settingsElement:function(){return n.createElement("div",null)}})}function u(t){var e=t.statDescription,r=t.plotProps;switch(r.reduce(function(t,e){var r,n;if(void 0===t)return null==(n=e.extraStat)?void 0:n.type;if((null==(r=e.extraStat)?void 0:r.type)!==void 0&&e.extraStat.type!==t)throw Error("Rendering plots of differing types");return t},void 0)){case"histogram":return n.createElement(a.b,{statDescription:e,histograms:r.flatMap(function(t){var e;return(null==(e=t.extraStat)?void 0:e.type)!=="histogram"?[]:[{shortname:t.shortname,histogram:t.extraStat,color:t.color,universeTotal:t.extraStat.universeTotal}]})});case"time_series":return n.createElement(l,{stats:r.map(function(t){var e;if((null==(e=t.extraStat)?void 0:e.type)!=="time_series")throw Error("expected time_series");return{shortname:t.shortname,stat:t.extraStat,color:t.color}})});case void 0:return null}}},11625:function(t,e,r){r.d(e,{T:()=>o,v:()=>a});var n=r(72668),a=(0,n.createContext)(!1);function o(){return(0,n.useContext)(a)}}}]);
//# sourceMappingURL=193.js.map