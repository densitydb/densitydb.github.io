{"version":3,"file":"123.js","sources":["webpack://assets/./src/components/statistic-panel.tsx","webpack://assets/./src/utils/useOrderedResolve.ts"],"sourcesContent":["import React, { ChangeEvent, ReactNode, useContext, useEffect, useMemo, useRef, useState } from 'react'\n\nimport explanation_pages from '../data/explanation_page'\nimport stats from '../data/statistic_list'\nimport names from '../data/statistic_name_list'\nimport paths from '../data/statistic_path_list'\nimport universes_ordered from '../data/universes_ordered'\nimport { loadStatisticsPage } from '../load_json'\nimport { Navigator } from '../navigation/Navigator'\nimport { sanitize, statisticDescriptor } from '../navigation/links'\nimport { RelativeLoader } from '../navigation/loading'\nimport { useColors } from '../page_template/colors'\nimport { StatName } from '../page_template/statistic-tree'\nimport { PageTemplate } from '../page_template/template'\nimport '../common.css'\nimport './article.css'\nimport { useUniverse } from '../universe'\nimport { useHeaderTextClass, useSubHeaderTextClass } from '../utils/responsive'\nimport { displayType } from '../utils/text'\nimport { UnitType } from '../utils/unit'\nimport { useOrderedResolve } from '../utils/useOrderedResolve'\n\nimport { CountsByUT } from './countsByArticleType'\nimport { CSVExportData } from './csv-export'\nimport { forType, StatCol, StatisticCellRenderingInfo } from './load-article'\nimport { PointerArrow } from './pointer-cell'\nimport { createScreenshot, ScreencapElements } from './screenshot'\nimport { TableContents, CellSpec, SuperHeaderSpec } from './supertable'\n\nexport interface StatisticDescriptor {\n    type: 'simple-statistic'\n    statname: StatName\n}\n\ninterface StatisticCommonProps {\n    start: number\n    amount: number | 'All'\n    order: 'ascending' | 'descending'\n    articleType: string\n    highlight: string | undefined\n    counts: CountsByUT\n    universe: string\n}\n\nexport interface StatisticPanelProps extends StatisticCommonProps {\n    descriptor: StatisticDescriptor\n}\n\ninterface StatisticData {\n    data: { value: number[], populationPercentile: number[] }\n    articleNames: string[]\n    renderedStatname: string\n    statcol?: StatCol\n    explanationPage?: string\n    totalCountInClass: number\n    totalCountOverall: number\n    unit?: UnitType\n}\n\ntype StatisticDataOutcome = (\n    { type: 'success' } & StatisticData\n    | { type: 'error', error: string }\n    | { type: 'loading' }\n)\n\nasync function loadStatisticsData(universe: string, statname: StatName, articleType: string, counts: CountsByUT): Promise<StatisticDataOutcome> {\n    const statIndex = names.indexOf(statname)\n    const [data, articleNames] = await loadStatisticsPage(universe, paths[statIndex], articleType)\n    const totalCountInClass = forType(counts, universe, stats[statIndex], articleType)\n    const totalCountOverall = forType(counts, universe, stats[statIndex], 'overall')\n    return {\n        type: 'success',\n        data,\n        articleNames,\n        renderedStatname: statname,\n        statcol: stats[statIndex],\n        explanationPage: explanation_pages[statIndex],\n        totalCountInClass,\n        totalCountOverall,\n    }\n}\n\nexport function StatisticPanel(props: StatisticPanelProps): ReactNode {\n    const headersRef = useRef<HTMLDivElement>(null)\n    const tableRef = useRef<HTMLDivElement>(null)\n    const [loadedData, setLoadedData] = useState<StatisticData | undefined>(undefined)\n\n    const universesFiltered = useMemo(() => {\n        if (loadedData?.statcol === undefined) {\n            return universes_ordered\n        }\n        return universes_ordered.filter(\n            universe => forType(props.counts, universe, loadedData.statcol!, props.articleType) > 0,\n        )\n    }, [loadedData?.statcol, props.counts, props.articleType])\n\n    const csvExportData = useMemo((): CSVExportData | undefined => {\n        if (loadedData === undefined) {\n            return undefined\n        }\n        const headerRow = ['Rank', 'Name', 'Value', 'Percentile']\n        const dataRows: string[][] = []\n\n        for (let i = 0; i < loadedData.articleNames.length; i++) {\n            const rank = i + 1\n            const name = loadedData.articleNames[i]\n            const value = loadedData.data.value[i]\n            const percentile = loadedData.data.populationPercentile[i]\n\n            const formattedValue = value.toLocaleString()\n\n            dataRows.push([\n                rank.toString(),\n                name,\n                formattedValue,\n                percentile.toFixed(1),\n            ])\n        }\n\n        return {\n            csvData: [headerRow, ...dataRows],\n            csvFilename: `${sanitize(loadedData.renderedStatname)}.csv`,\n        }\n    }, [loadedData])\n\n    const screencapElements = useMemo((): (() => ScreencapElements) | undefined => {\n        if (loadedData === undefined) {\n            return undefined\n        }\n        return () => ({\n            path: `${sanitize(loadedData.renderedStatname)}.png`,\n            overallWidth: tableRef.current!.offsetWidth * 2,\n            elementsToRender: [headersRef.current!, tableRef.current!],\n        })\n    }, [loadedData])\n\n    const headerTextClass = useHeaderTextClass()\n\n    const content = <SimpleStatisticPanel {...props} descriptor={props.descriptor} onDataLoaded={setLoadedData} tableRef={tableRef} />\n\n    return (\n        <PageTemplate\n            screencap={screencapElements ? (universe, templateColors) => createScreenshot(screencapElements(), universe, templateColors) : undefined}\n            csvExportData={csvExportData}\n            hasUniverseSelector={true}\n            universes={universesFiltered}\n        >\n            <div ref={headersRef}>\n                <div className={headerTextClass}>{loadedData?.renderedStatname ?? 'Table'}</div>\n                <StatisticPanelSubhead\n                    articleType={props.articleType}\n                    renderedOther={props.order}\n                />\n            </div>\n            <div style={{ marginBlockEnd: '16px' }}></div>\n            {content}\n        </PageTemplate>\n    )\n}\n\ninterface SimpleStatisticPanelProps extends StatisticCommonProps {\n    descriptor: { type: 'simple-statistic', statname: StatName }\n    onDataLoaded: (data: StatisticData) => void\n    tableRef: React.RefObject<HTMLDivElement>\n}\n\nfunction SimpleStatisticPanel(props: SimpleStatisticPanelProps): ReactNode {\n    const { onDataLoaded, tableRef, ...restProps } = props\n    const promise = useMemo(\n        () => loadStatisticsData(restProps.universe, restProps.descriptor.statname, restProps.articleType, restProps.counts),\n        [restProps.universe, restProps.descriptor.statname, restProps.articleType, restProps.counts],\n    )\n    const data = useOrderedResolve(promise)\n\n    useEffect(() => {\n        if (data.result?.type === 'success') {\n            onDataLoaded(data.result)\n        }\n    }, [data.result, onDataLoaded])\n\n    if (data.result === undefined) {\n        return <RelativeLoader loading={true} />\n    }\n\n    if (data.result.type === 'error') {\n        return (\n            <div>\n                Error:\n                {data.result.error}\n            </div>\n        )\n    }\n\n    if (data.result.type === 'success') {\n        return <StatisticPanelOnceLoaded {...restProps} {...data.result} statDesc={restProps.descriptor} tableRef={tableRef} />\n    }\n\n    return <RelativeLoader loading={true} />\n}\n\ntype StatisticPanelLoadedProps = StatisticCommonProps & StatisticData & { statDesc: StatisticDescriptor, tableRef: React.RefObject<HTMLDivElement> }\n\nfunction StatisticPanelOnceLoaded(props: StatisticPanelLoadedProps): ReactNode {\n    const colors = useColors()\n    const navContext = useContext(Navigator.Context)\n\n    const isAscending = props.order === 'ascending'\n\n    const count = props.data.value.filter(x => !isNaN(x)).length\n\n    const amount = props.amount === 'All' ? count : props.amount\n\n    const indexRange = useMemo(() => {\n        if (count === 0) {\n            return []\n        }\n        const start = props.start - 1\n        let end = start + amount\n        if (end + amount > count) {\n            end = count\n        }\n        const total = count\n        const result = Array.from({ length: end - start }, (_, i) => {\n            if (isAscending) {\n                return total - start - i - 1\n            }\n            return start + i\n        })\n        return result\n    }, [props.start, amount, count, isAscending])\n\n    const swapAscendingDescending = (currentUniverse: string | undefined): void => {\n        const newOrder = isAscending ? 'descending' : 'ascending'\n        void navContext.navigate(statisticDescriptor({\n            universe: currentUniverse,\n            statDesc: props.statDesc,\n            articleType: props.articleType,\n            start: 1,\n            amount,\n            order: newOrder,\n        }), {\n            history: 'push',\n            scroll: { kind: 'none' },\n        })\n    }\n\n    const getRowBackgroundColor = (rowIdx: number): string => {\n        const nameAtIdx = props.articleNames[indexRange[rowIdx]]\n        if (nameAtIdx === props.highlight) {\n            return colors.highlight\n        }\n        if (rowIdx % 2 === 0) {\n            return colors.slightlyDifferentBackground\n        }\n        return colors.background\n    }\n\n    const widthLeftHeader = 50\n\n    return (\n        <div>\n            <div className=\"serif\" ref={props.tableRef}>\n                <StatisticPanelTable\n                    indexRange={indexRange}\n                    props={props}\n                    isAscending={isAscending}\n                    swapAscendingDescending={swapAscendingDescending}\n                    getRowBackgroundColor={getRowBackgroundColor}\n                    widthLeftHeader={widthLeftHeader}\n                    columnWidth={(100 - widthLeftHeader) / 1}\n                    data={props.data}\n                    articleNames={props.articleNames}\n                />\n            </div>\n            <div style={{ marginBlockEnd: '1em' }}></div>\n            <Pagination\n                {...props}\n                count={count}\n                amount={amount}\n            />\n        </div>\n    )\n}\n\nfunction StatisticPanelTable(props: {\n    indexRange: number[]\n    props: StatisticPanelLoadedProps\n    isAscending: boolean\n    swapAscendingDescending: (currentUniverse: string | undefined) => void\n    getRowBackgroundColor: (rowIdx: number) => string\n    widthLeftHeader: number\n    columnWidth: number\n    data: { value: number[], populationPercentile: number[] }\n    articleNames: string[]\n}): ReactNode {\n    const currentUniverse = useUniverse()\n\n    const articleRows: StatisticCellRenderingInfo[] = props.indexRange.map((i) => {\n        return {\n            statval: props.data.value[i],\n            ordinal: i + 1,\n            percentileByPopulation: props.data.populationPercentile[i],\n            statname: props.props.renderedStatname,\n            articleType: props.props.articleType,\n            totalCountInClass: props.props.totalCountInClass,\n            totalCountOverall: props.props.totalCountOverall,\n            overallFirstLast: { isFirst: false, isLast: false },\n            unit: props.props.unit,\n        } satisfies StatisticCellRenderingInfo\n    })\n\n    const leftHeaderSpecs: CellSpec[] = props.articleNames.map((row, rowIdx) => {\n        const articleName = props.articleNames[props.indexRange[rowIdx]]\n        return {\n            type: 'statistic-panel-longname',\n            longname: articleName,\n            currentUniverse,\n        } satisfies CellSpec\n    })\n\n    const rowSpecs: CellSpec[][] = articleRows.map((row, rowIdx) => {\n        const articleName = props.articleNames[props.indexRange[rowIdx]]\n        return [{\n            type: 'statistic-row',\n            longname: articleName,\n            row,\n            onlyColumns: ['statval', 'statval_unit', 'statistic_ordinal', 'statistic_percentile'],\n            simpleOrdinals: true,\n            onNavigate: undefined,\n        } satisfies CellSpec]\n    })\n\n    const topLeftSpec: CellSpec = {\n        type: 'top-left-header',\n        statNameOverride: 'Name',\n    }\n\n    const headerSpecs: CellSpec[] = articleRows.length > 0\n        ? [{\n                type: 'statistic-name',\n                // row: articleRows[0],\n                renderedStatname: props.props.renderedStatname,\n                longname: props.props.renderedStatname,\n                currentUniverse,\n                sortInfo: {\n                    onSort: () => {\n                        props.swapAscendingDescending(currentUniverse)\n                    },\n                    sortDirection: props.isAscending ? 'up' : 'down',\n                },\n                center: true,\n                transpose: true, // This is a header not on the left, so it's in \"transpose\" mode\n            }]\n        : []\n    const superHeaderSpec: SuperHeaderSpec = {\n        headerSpecs,\n        showBottomBar: false,\n    }\n\n    const highlightRowIndex = props.indexRange.indexOf(props.articleNames.indexOf(props.props.highlight ?? ''))\n\n    return (\n        <TableContents\n            leftHeaderSpec={{ leftHeaderSpecs }}\n            rowSpecs={rowSpecs}\n            horizontalPlotSpecs={[]}\n            verticalPlotSpecs={[]}\n            topLeftSpec={topLeftSpec}\n            superHeaderSpec={superHeaderSpec}\n            widthLeftHeader={props.widthLeftHeader}\n            columnWidth={props.columnWidth}\n            onlyColumns={['statval', 'statval_unit', 'statistic_ordinal', 'statistic_percentile']}\n            simpleOrdinals={true}\n            highlightRowIndex={highlightRowIndex}\n        />\n    )\n}\n\nfunction Pagination(props: {\n    start: number\n    count: number\n    amount: number\n    explanationPage?: string\n    statDesc: StatisticDescriptor\n    articleType: string\n    order: 'ascending' | 'descending'\n}): ReactNode {\n    // next and previous buttons, along with the current range (editable to jump to a specific page)\n    // also a button to change the number of items per page\n\n    const currentUniverse = useUniverse()\n\n    const navContext = useContext(Navigator.Context)\n\n    const changeStart = (newStart: number): void => {\n        void navContext.navigate(statisticDescriptor({\n            universe: currentUniverse,\n            ...props,\n            start: newStart,\n        }), {\n            history: 'push',\n            scroll: { kind: 'none' },\n        })\n    }\n\n    const changeAmount = (newAmount: string | number): void => {\n        let start = props.start\n        let newAmountNum: number\n        if (newAmount === 'All') {\n            start = 1\n            newAmountNum = props.count\n        }\n        else if (typeof newAmount === 'string') {\n            newAmountNum = parseInt(newAmount)\n        }\n        else {\n            newAmountNum = newAmount\n        }\n        if (start > props.count - newAmountNum) {\n            start = props.count - newAmountNum + 1\n        }\n        void navContext.navigate(statisticDescriptor({\n            universe: currentUniverse,\n            statDesc: props.statDesc,\n            articleType: props.articleType,\n            start,\n            amount: newAmount === 'All' ? 'All' : newAmountNum,\n            order: props.order,\n        }), {\n            history: 'push',\n            scroll: { kind: 'none' },\n        })\n    }\n\n    const current = props.start\n    const total = props.count\n    const perPage = props.amount\n    const prev = Math.max(1, current - perPage)\n    const maxPages = Math.max(Math.floor(total / perPage), 1)\n    const maxPageStart = (maxPages - 1) * perPage + 1\n    const next = Math.min(maxPageStart, current + perPage)\n    const currentPage = Math.ceil(current / perPage)\n\n    useEffect(() => {\n        const goToPage = (newPage: number): void => {\n            void navContext.navigate(statisticDescriptor({\n                universe: currentUniverse,\n                statDesc: props.statDesc,\n                articleType: props.articleType,\n                amount: props.amount,\n                order: props.order,\n                start: (newPage - 1) * perPage + 1,\n            }), {\n                history: 'replace',\n                scroll: { kind: 'none' },\n            })\n        }\n\n        if (currentPage > maxPages) {\n            goToPage(maxPages)\n        }\n        else if (currentPage < 1) {\n            goToPage(1)\n        }\n    }, [currentPage, maxPages, currentUniverse, perPage, props.statDesc, props.articleType, props.amount, props.order, navContext])\n\n    const selectPage = (\n        <SelectPage\n            changeStart={(newStart) => { changeStart(newStart) }}\n            currentPage={currentPage}\n            maxPages={maxPages}\n            prevPage={prev}\n            nextPage={next}\n            perPage={perPage}\n        />\n    )\n\n    const explanationCredit = props.explanationPage !== undefined\n        ? (\n                <div style={{ margin: 'auto', textAlign: 'center' }}>\n                    <a\n                        {...navContext.link(\n                            { kind: 'dataCredit', hash: `#explanation_${sanitize(props.explanationPage)}` },\n                            { scroll: { kind: 'none' } },\n                        )}\n                    >\n                        Data Explanation and Credit\n                    </a>\n                </div>\n            )\n        : <div></div>\n\n    // align the entire div to the center. not flex.\n    return (\n        <div style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            flexDirection: 'row',\n            margin: '1em',\n        }}\n        >\n            <div style={{ width: '25%' }}>\n                {explanationCredit}\n            </div>\n            <div style={{ width: '50%' }}>\n                <div style={{ margin: 'auto', textAlign: 'center' }}>\n                    {selectPage}\n                </div>\n            </div>\n            <div style={{ width: '25%' }}>\n                <PerPageSelector\n                    perPage={perPage}\n                    total={total}\n                    changeAmount={(newAmount) => { changeAmount(newAmount) }}\n                />\n            </div>\n        </div>\n    )\n}\n\nfunction PerPageSelector(props: {\n    perPage: number\n    total: number\n    changeAmount: (targetValue: string) => void\n}): ReactNode {\n    const colors = useColors()\n    return (\n        <div style={{ margin: 'auto', textAlign: 'center' }}>\n            <span>\n                <select\n                    style={{ backgroundColor: colors.background, color: colors.textMain }}\n                    defaultValue={\n                        props.perPage === props.total ? 'All' : props.perPage\n                    }\n                    onChange={(e) => { props.changeAmount(e.target.value) }}\n                    className=\"serif\"\n                >\n                    <option value=\"10\">10</option>\n                    <option value=\"20\">20</option>\n                    <option value=\"50\">50</option>\n                    <option value=\"100\">100</option>\n                    <option value=\"All\">All</option>\n                </select>\n                {' '}\n                per page\n            </span>\n        </div>\n    )\n}\n\nfunction SelectPage(props: {\n    prevPage: number\n    currentPage: number\n    maxPages: number\n    perPage: number\n    changeStart: (newStart: number) => void\n    nextPage: number\n}): ReactNode {\n    // low-key style for the buttons\n    const buttonStyle = {\n        margin: '0.5em',\n    }\n\n    const [pageNumber, setPageNumber] = useState(props.currentPage.toString())\n\n    const pageField = useRef<HTMLInputElement>(null)\n\n    useEffect(() => {\n        setPageNumber(props.currentPage.toString())\n        if (document.activeElement === pageField.current) {\n            pageField.current!.select()\n        }\n    }, [props.currentPage])\n\n    const handleSubmit = (): void => {\n        let newPage = parseInt(pageNumber)\n        if (newPage < 1) {\n            newPage = 1\n        }\n        if (newPage > props.maxPages) {\n            newPage = props.maxPages\n        }\n        const newStart = (newPage - 1) * props.perPage + 1\n        props.changeStart(newStart)\n    }\n\n    const disabled = {\n        left: props.currentPage === 1,\n        right: props.currentPage === props.maxPages,\n    }\n\n    return (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n            <button\n                onClick={() => { props.changeStart(props.prevPage) }}\n                className=\"serif\"\n                style={{ ...buttonStyle, visibility: disabled.left ? 'hidden' : 'visible' }}\n                disabled={disabled.left}\n                data-test-id=\"-1\"\n            >\n                <PointerArrow direction={-1} disabled={disabled.left} />\n            </button>\n            <div>\n                <span>Page: </span>\n                <input\n                    ref={pageField}\n                    type=\"text\"\n                    pattern=\"[0-9]*\"\n                    style={{ width: '3em', textAlign: 'right', fontSize: '16px' }}\n                    className=\"serif\"\n                    value={pageNumber}\n                    onKeyDown={(e) => {\n                        if (e.key === 'Enter') {\n                            handleSubmit()\n                        }\n                    }}\n                    onFocus={(e) => {\n                        setTimeout(() => {\n                            e.target.select()\n                        }, 0)\n                    }}\n                    onBlur={handleSubmit}\n                    onChange={(e: ChangeEvent<HTMLInputElement>) => { setPageNumber(e.target.value) }}\n                />\n                <span>\n                    {' of '}\n                    {props.maxPages}\n                </span>\n            </div>\n            <button\n                onClick={() => { props.changeStart(props.nextPage) }}\n                className=\"serif\"\n                style={{ ...buttonStyle, visibility: disabled.right ? 'hidden' : 'visible' }}\n                disabled={disabled.right}\n                data-test-id=\"1\"\n            >\n                <PointerArrow direction={1} disabled={disabled.right} />\n            </button>\n        </div>\n    )\n}\n\nfunction StatisticPanelSubhead(props: { articleType: string, renderedOther: string }): ReactNode {\n    const currentUniverse = useUniverse()\n    const subHeaderTextClass = useSubHeaderTextClass()\n    return (\n        <div className={subHeaderTextClass}>\n            {displayType(currentUniverse, props.articleType)}\n        </div>\n    )\n}\n","import { useEffect, useState } from 'react'\n\nimport { TestUtils } from './TestUtils'\n\nexport interface ResolveState<T> {\n    promise: Promise<T>\n    result: T | undefined\n    loading: boolean\n}\n\nexport function useOrderedResolve<T>(promise: Promise<T>): ResolveState<T> {\n    const [state, setState] = useState<ResolveState<T>>({ promise, result: undefined, loading: true })\n\n    useEffect(() => {\n        setState(prevState => ({ promise, result: prevState.result, loading: true }))\n        TestUtils.shared.startLoading()\n        void promise.then(\n            (result) => {\n                setState(prevState => prevState.promise === promise ? ({ promise, result, loading: false }) : prevState)\n            },\n            () => {\n                setState(prevState => prevState.promise === promise ? ({ promise, result: undefined, loading: false }) : prevState)\n            },\n        ).finally(() => { void TestUtils.shared.finishLoading() })\n    }, [promise])\n\n    return state\n}\n"],"names":["StatisticPanel","props","_loadedData_renderedStatname","headersRef","useRef","tableRef","_useState","undefined","loadedData","setLoadedData","universesFiltered","useMemo","universes_ordered","universe","forType","csvExportData","dataRows","i","rank","name","value","percentile","formattedValue","sanitize","screencapElements","headerTextClass","useHeaderTextClass","content","SimpleStatisticPanel","PageTemplate","templateColors","createScreenshot","StatisticPanelSubhead","onDataLoaded","restProps","promise","statname","articleType","counts","statIndex","_ref","data","articleNames","totalCountInClass","totalCountOverall","names","loadStatisticsPage","paths","stats","explanation_pages","useOrderedResolve","useEffect","_data_result","RelativeLoader","StatisticPanelOnceLoaded","colors","useColors","navContext","useContext","Navigator","isAscending","count","x","isNaN","amount","indexRange","start","end","Array","_","total","StatisticPanelTable","currentUniverse","newOrder","statisticDescriptor","rowIdx","nameAtIdx","Pagination","_props_props_highlight","useUniverse","articleRows","leftHeaderSpecs","row","rowSpecs","headerSpecs","highlightRowIndex","TableContents","changeStart","newStart","changeAmount","newAmount","newAmountNum","parseInt","current","perPage","prev","Math","maxPages","next","currentPage","goToPage","newPage","selectPage","SelectPage","explanationCredit","PerPageSelector","e","buttonStyle","pageNumber","setPageNumber","pageField","document","handleSubmit","disabled","PointerArrow","setTimeout","subHeaderTextClass","useSubHeaderTextClass","displayType","state","setState","prevState","TestUtils","result"],"mappings":"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"}