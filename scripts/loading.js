(()=>{"use strict";var e,t={},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.rv=()=>"1.3.15",r.ruid="bundler=rspack@1.3.15";var a={blue:"#5a7dc3",orange:"#f7aa41",brown:"#af6707",purple:"#975ac3",red:"#f96d6d",grey:"#8e8e8e",darkGrey:"#4e525a",pink:"#c767b0",yellow:"#b8a32f",green:"#8ac35a",cyan:"#07a5af"};function o(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,c,"next",e)}function c(e){o(i,r,a,l,c,"throw",e)}l(void 0)})}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){var s=[l,c];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var s=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");l(this,"isTesting",void 0!==window["%hammerhead%"]),l(this,"testIterationId",void 0),l(this,"testSyncing",!1),l(this,"maps",new Map),l(this,"clickableMaps",new Map),l(this,"loadingCounter",0),l(this,"loadingCallbacks",[]);var e=localStorage.getItem("testIterationId");null===e&&this.isTesting&&(e=crypto.randomUUID(),localStorage.setItem("testIterationId",e)),null===e||this.isTesting||(e=null,localStorage.removeItem("testIterationId")),this.testIterationId=null!=e?e:void 0}return e=[{key:"safeClearLocalStorage",value:function(){var e=localStorage.getItem("enable_auth_features");localStorage.clear(),void 0!==this.testIterationId&&localStorage.setItem("testIterationId",this.testIterationId),null!==e&&localStorage.setItem("enable_auth_features",e)}},{key:"startLoading",value:function(){this.loadingCounter++}},{key:"eventLoopIters",value:function(e){return i(function(){return c(this,function(t){switch(t.label){case 0:if(!(e>0))return[3,3];return[4,new Promise(function(e){return setTimeout(e,0)})];case 1:t.sent(),t.label=2;case 2:return e--,[3,0];case 3:return[2]}})})()}},{key:"finishLoading",value:function(){return i(function(){return c(this,function(e){switch(e.label){case 0:return[4,this.eventLoopIters(10)];case 1:return e.sent(),this.loadingCounter--,0===this.loadingCounter&&(this.loadingCallbacks.forEach(function(e){e()}),this.loadingCallbacks=[]),[2]}})}).call(this)}},{key:"waitForLoading",value:function(){return i(function(){var e;return c(this,function(t){switch(t.label){case 0:return e=this,[4,this.eventLoopIters(10)];case 1:if(t.sent(),0===this.loadingCounter)return[2,Promise.resolve()];return[2,new Promise(function(t){e.loadingCallbacks.push(t)})]}})}).call(this)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();l(s,"shared",new s),window.testUtils=s.shared;var u=localStorage.getItem("settings"),f=JSON.parse(null!=u?u:"{}");switch(f.theme){case"Dark Mode":case"Light Mode":e=f.theme;break;default:e=window.matchMedia("(prefers-color-scheme: dark)").matches?"Dark Mode":"Light Mode"}var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},{"Light Mode":{background:"#fff8f0",cleanBackground:"#ffffff",slightlyDifferentBackground:"#f7f1e8",cleanSlightlyDifferentBackground:"#faf7f2",slightlyDifferentBackgroundFocused:"#ffe0e0",highlight:"#d4b5e2",textMain:"#000000",textMainOpposite:"#ffffff",textPointer:"#222222",borderShadow:"#333333",borderNonShadow:"#cccccc",ordinalTextColor:"#444444",unselectedButton:"#e6e9ef",selectedButton:"#4e525a",selectedButtonText:"#ffffff",blueLink:"#22f",mapInsetBorderColor:"#000000",buttonTextWhite:"#ffffff",bannerURL:"/banner.png",mixPct:70,hueColors:a,screenshotFooterUrl:"screenshot_footer.svg",pencilIcon:"/pencil-light.png",wikidataURL:"/wikidata-light.svg",mapperBannerURL:"/mapper-banner.png"},"Dark Mode":{background:"#00060f",cleanBackground:"#000000",slightlyDifferentBackground:"#080e17",cleanSlightlyDifferentBackground:"#080e17",slightlyDifferentBackgroundFocused:"#3d2900",highlight:"#3b1d49",textMain:"#dddddd",textMainOpposite:"#000000",textPointer:"#dddddd",borderShadow:"#cccccc",borderNonShadow:"#333333",ordinalTextColor:"#bbbbbb",unselectedButton:"#303030",selectedButton:"#a2a6ae",selectedButtonText:"#000000",blueLink:"#aaaaff",mapInsetBorderColor:"#000000",buttonTextWhite:"#ffffff",bannerURL:"/banner-dark.png",mixPct:50,hueColors:a,screenshotFooterUrl:"screenshot_footer_dark.svg",pencilIcon:"/pencil-dark.png",wikidataURL:"/wikidata-dark.svg",mapperBannerURL:"/mapper-banner-dark.png"}}[e]);f.clean_background&&(d.background=d.cleanBackground,d.slightlyDifferentBackground=d.cleanSlightlyDifferentBackground),document.documentElement.style.setProperty("--loading-main",d.textMain),document.documentElement.style.setProperty("--loading-background",d.background)})();
//# sourceMappingURL=loading.js.map