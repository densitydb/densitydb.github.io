(self.webpackChunkassets=self.webpackChunkassets||[]).push([["327"],{53296:function(e,t,n){"use strict";n.d(t,{Z:()=>l});var r=n(63694),i=n.n(r),a=n(9369),o=n.n(a)()(i());o.push([e.id,`.quiz_clickable {
  display: block;
  border-radius: 1em;
  background-color: var(--quiz-plain-bg);
  margin: 0.25em;
  height: 100%;
}

@media (hover: hover) and (pointer: fine) {
  .quiz_clickable:hover {
    background-color: var(--quiz-selected-bg);
    color: var(--text-main-opposite);
  }
}

.quiz_correct {
  background-color: var(--quiz-correct);
  color: #000;
}

.quiz_correct:hover {
  background-color: var(--quiz-correct);
  color: #000;
}

.quiz_incorrect {
  background-color: var(--quiz-incorrect);
  color: #000;
}

.quiz_incorrect:hover {
  background-color: var(--quiz-incorrect);
  color: #000;
}

.quiz_results_question {
  text-align: center;
  display: table;
  margin: 0 auto;
  font-size: 1.25em;
}

.quiz_result_name_left {
  width: 35%;
  text-align: right;
  vertical-align: middle;
}

.quiz_result_value_left {
  width: 10%;
  text-align: right;
  font-weight: 500;
  vertical-align: middle;
}

.quiz_result_symbol {
  width: 5%;
  text-align: center;
  font-weight: 500;
  vertical-align: middle;
}

.quiz_result_value_right {
  width: 10%;
  text-align: left;
  font-weight: 500;
  vertical-align: middle;
}

.quiz_result_name_right {
  width: 35%;
  text-align: left;
  vertical-align: middle;
}

.quiz_summary {
  text-align: center;
  font-size: 2em;
  display: table;
  margin: 0 auto;
}

.quiz_footer {
  table-layout: fixed;
  width: 40%;
  margin-left: 30%;
  margin-right: 30%;
  height: 3em;
}

.quiz_barchart {
  margin: 0 auto;
}

.quiz_bar_td {
  height: 1.5em;
  vertical-align: middle;
  font-size: 1em;
}

.quiz_bar {
  padding-left: 0.5em;
  float: left;
  vertical-align: middle;
  height: 1.5em;
  font-size: 1em;
}

.quiz_stat {
  padding-left: 0.5em;
  float: left;
  vertical-align: middle;
  height: 1.5em;
  line-height: 1.5em;
  font-size: 1em;
}`,"",{version:3,sources:["webpack://./src/components/quiz.css"],names:[],mappings:"AAAA;EACE,cAAc;EACd,kBAAkB;EAClB,sCAAsC;EACtC,cAAc;EACd,YAAY;AACd;;AAEA;EACE;IACE,yCAAyC;IACzC,gCAAgC;EAClC;AACF;;AAEA;EACE,qCAAqC;EACrC,WAAW;AACb;;AAEA;EACE,qCAAqC;EACrC,WAAW;AACb;;AAEA;EACE,uCAAuC;EACvC,WAAW;AACb;;AAEA;EACE,uCAAuC;EACvC,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,UAAU;EACV,iBAAiB;EACjB,sBAAsB;AACxB;;AAEA;EACE,UAAU;EACV,iBAAiB;EACjB,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,SAAS;EACT,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,UAAU;EACV,gBAAgB;EAChB,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,UAAU;EACV,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,cAAc;EACd,cAAc;AAChB;;AAEA;EACE,mBAAmB;EACnB,UAAU;EACV,gBAAgB;EAChB,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,cAAc;AAChB;;AAEA;EACE,mBAAmB;EACnB,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,cAAc;AAChB;;AAEA;EACE,mBAAmB;EACnB,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,kBAAkB;EAClB,cAAc;AAChB",sourcesContent:[".quiz_clickable {\n  display: block;\n  border-radius: 1em;\n  background-color: var(--quiz-plain-bg);\n  margin: 0.25em;\n  height: 100%;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .quiz_clickable:hover {\n    background-color: var(--quiz-selected-bg);\n    color: var(--text-main-opposite);\n  }\n}\n\n.quiz_correct {\n  background-color: var(--quiz-correct);\n  color: #000;\n}\n\n.quiz_correct:hover {\n  background-color: var(--quiz-correct);\n  color: #000;\n}\n\n.quiz_incorrect {\n  background-color: var(--quiz-incorrect);\n  color: #000;\n}\n\n.quiz_incorrect:hover {\n  background-color: var(--quiz-incorrect);\n  color: #000;\n}\n\n.quiz_results_question {\n  text-align: center;\n  display: table;\n  margin: 0 auto;\n  font-size: 1.25em;\n}\n\n.quiz_result_name_left {\n  width: 35%;\n  text-align: right;\n  vertical-align: middle;\n}\n\n.quiz_result_value_left {\n  width: 10%;\n  text-align: right;\n  font-weight: 500;\n  vertical-align: middle;\n}\n\n.quiz_result_symbol {\n  width: 5%;\n  text-align: center;\n  font-weight: 500;\n  vertical-align: middle;\n}\n\n.quiz_result_value_right {\n  width: 10%;\n  text-align: left;\n  font-weight: 500;\n  vertical-align: middle;\n}\n\n.quiz_result_name_right {\n  width: 35%;\n  text-align: left;\n  vertical-align: middle;\n}\n\n.quiz_summary {\n  text-align: center;\n  font-size: 2em;\n  display: table;\n  margin: 0 auto;\n}\n\n.quiz_footer {\n  table-layout: fixed;\n  width: 40%;\n  margin-left: 30%;\n  margin-right: 30%;\n  height: 3em;\n}\n\n.quiz_barchart {\n  margin: 0 auto;\n}\n\n.quiz_bar_td {\n  height: 1.5em;\n  vertical-align: middle;\n  font-size: 1em;\n}\n\n.quiz_bar {\n  padding-left: 0.5em;\n  float: left;\n  vertical-align: middle;\n  height: 1.5em;\n  font-size: 1em;\n}\n\n.quiz_stat {\n  padding-left: 0.5em;\n  float: left;\n  vertical-align: middle;\n  height: 1.5em;\n  line-height: 1.5em;\n  font-size: 1em;\n}"],sourceRoot:""}]);let l=o},61258:function(e){"use strict";function t(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}e.exports=function e(n,r){if(n===r)return!0;if(n&&r&&(void 0===n?"undefined":t(n))=="object"&&(void 0===r?"undefined":t(r))=="object"){if(n.constructor!==r.constructor)return!1;if(Array.isArray(n)){if((i=n.length)!=r.length)return!1;for(a=i;0!=a--;)if(!e(n[a],r[a]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if((i=(o=Object.keys(n)).length)!==Object.keys(r).length)return!1;for(a=i;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=i;0!=a--;){var i,a,o,l=o[a];if(!e(n[l],r[l]))return!1}return!0}return n!=n&&r!=r}},53939:function(e,t,n){"use strict";var r=n(5139);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5860:function(e,t,n){e.exports=n(53939)()},5139:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},31007:function(e,t,n){"use strict";function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||r({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(n(72668)),m=d(n(61258)),p=c(n(5860));function y(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}t.default=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:f.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var r=n.innerHTML;if(t.props.onChange&&r!==t.lastHtml){var i=Object.assign({},e,{target:{value:r}});t.props.onChange(i)}t.lastHtml=r}},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,r=t.html,i=t.innerRef,a=s(t,["tagName","html","innerRef"]);return f.createElement(n||"div",o(o({},a),{ref:"function"==typeof i?function(t){i(t),e.el.current=t}:i||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||y(e.html)!==y(n.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!(0,m.default)(t.style,e.style)},t.prototype.componentDidUpdate=function(){var e=this.getEl();if(e){this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html;var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var i=window.getSelection();if(null!==i){var a=document.createRange();a.setStart(t,t.nodeValue.length),a.collapse(!0),i.removeAllRanges(),i.addRange(a)}r(e,HTMLElement)&&e.focus()}}},t.propTypes={html:p.string.isRequired,onChange:p.func,disabled:p.bool,tagName:p.string,className:p.string,style:p.object,innerRef:p.oneOfType([p.object,p.func])},t}(f.Component)},25486:function(e,t,n){"use strict";n.d(t,{T:()=>d,j:()=>f});var r=n(72668),i=n(76293),a=n(69610);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,u,"next",e)}function u(e){l(a,r,i,o,u,"throw",e)}o(void 0)})}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){var c=[l,u];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function d(e){var t,n,o,l=(0,a.cI)(),d=null!=(o=null==(t=(n=navigator).canShare)?void 0:t.call(n,{url:"https://juxtastat.org",text:"test"}))&&o,m=i.isMobile&&d&&!i.isFirefox;return r.createElement("button",{className:"serif",style:f(l.hueColors.green,l.buttonTextWhite),ref:e.buttonRef,onClick:function(){return u(function(){var t,n,r;function i(){return u(function(){return s(this,function(t){switch(t.label){case 0:return[4,navigator.clipboard.writeText("".concat(n,"\n").concat(r))];case 1:return t.sent(),e.buttonRef.current.textContent="Copied!",[2]}})})()}return s(this,function(a){switch(a.label){case 0:return[4,e.produceSummary()];case 1:if(n=(t=c.apply(void 0,[a.sent(),2]))[0],r=t[1],!m)return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,navigator.share({url:r,text:"".concat(n,"\n")})];case 3:case 5:return a.sent(),[3,6];case 4:return a.sent(),[4,i()];case 6:return[3,9];case 7:return[4,i()];case 8:a.sent(),a.label=9;case 9:return[2]}})})()}},r.createElement("div",null,m?"Share":"Copy"),r.createElement("div",{style:{marginInline:"0.25em"}}),r.createElement("img",{src:"/share.png",className:"icon",style:{width:"1em",height:"1em"}}))}function f(e,t){return{textAlign:"center",fontSize:"2em",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",margin:"0 auto",padding:"0.25em 1em",backgroundColor:e,borderRadius:"0.25em",border:"none",color:t}}},68431:function(e,t,n){"use strict";n.d(t,{J:()=>i});var r=n(72668);function i(e){var t=e.size,n=e.color,i=e.src,a=e.style;return r.createElement("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({backgroundColor:n,width:t,height:t,maskImage:"url(".concat(i,")"),maskRepeat:"no-repeat",maskSize:"contain",maskPosition:"center"},a)})}},64455:function(e,t,n){"use strict";n.d(t,{JZ:()=>s,gw:()=>d,$k:()=>c});var r=n(72668),i=n(69610),a=n(27281),o=n(59070);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){var t,n,i=u((0,a.yu)("use_imperial"),1)[0],l=u((0,a.yu)("temperature_unit"),1)[0],c=(function(e){switch(e){case"percentage":return{renderValue:function(e){return{value:r.createElement("span",null,(100*e).toFixed(2)),unit:r.createElement("span",null,"%")}}};case"fatalities":return{renderValue:function(e){return{value:r.createElement("span",null,(0,o.HT)(e.toFixed(0))),unit:r.createElement("span",null,"\xa0")}}};case"fatalitiesPerCapita":return{renderValue:function(e){return{value:r.createElement("span",null,(1e5*e).toFixed(2)),unit:r.createElement("span",null,"/100k")}}};case"density":return{renderValue:function(e,t){var n="km",i=e;t&&(n="mi",i*=2.5899752356);var a=2;return i>10?a=0:i>1&&(a=1),{value:r.createElement("span",null,(0,o.HT)(i.toFixed(a))),unit:r.createElement("span",null,"/\xa0",n,r.createElement("sup",null,"2"))}}};case"population":return{renderValue:function(e){return e>1e9?{value:r.createElement("span",null,(e/1e9).toPrecision(3)),unit:r.createElement("span",null,"B")}:e>1e6?{value:r.createElement("span",null,(e/1e6).toPrecision(3)),unit:r.createElement("span",null,"m")}:e>1e4?{value:r.createElement("span",null,(e/1e3).toPrecision(3)),unit:r.createElement("span",null,"k")}:{value:r.createElement("span",null,(0,o.HT)(e.toFixed(0))),unit:r.createElement("span",null,"\xa0")}}};case"area":return{renderValue:function(e,t){var n,i=e;t?(i/=2.5899752356)<1?(n=r.createElement("span",null,"acres"),i*=640):n=r.createElement("span",null,"mi",r.createElement("sup",null,"2")):i<.01?(i*=1e6,n=r.createElement("span",null,"m",r.createElement("sup",null,"2"))):n=r.createElement("span",null,"km",r.createElement("sup",null,"2"));var a=3;i>100?a=0:i>10?a=1:i>1&&(a=2);var l=i.toFixed(a);return 0===a&&(l=(0,o.HT)(l)),{value:r.createElement("span",null,l),unit:n}}};case"distanceInKm":return{renderValue:function(e,t){var n=r.createElement("span",null,"km"),i=e;return t&&(n=r.createElement("span",null,"mi"),i/=1.60934),{value:r.createElement("span",null,i.toFixed(2)),unit:n}}};case"distanceInM":return{renderValue:function(e,t){var n="m",i=e;return t&&(n="ft",i*=3.28084),{value:r.createElement("span",null,(0,o.HT)(i.toFixed(0))),unit:r.createElement("span",null,n)}}};case"democraticMargin":return{renderValue:function(e){return{value:r.createElement(s,{value:e}),unit:r.createElement("span",null,"%")}}};case"temperature":return{renderValue:function(e,t,n){var i=r.createElement("span",null,"\xb0F"),a=e;return"celsius"===n&&(i=r.createElement("span",null,"\xb0C"),a=5/9*(e-32)),{value:r.createElement("span",null,a.toFixed(1)),unit:i}}};case"time":return{renderValue:function(e){var t=Math.floor(e),n=Math.floor((e-t)*60);return{value:r.createElement("span",null,t,":",n.toString().padStart(2,"0")),unit:r.createElement("span",null,"\xa0")}}};case"distancePerYear":return{renderValue:function(e,t){var n=100*e,i="cm";return t&&(i="in",n/=2.54),{value:r.createElement("span",null,n.toFixed(1)),unit:r.createElement("span",null,i,"/yr")}}};case"contaminantLevel":return{renderValue:function(e){return{value:r.createElement("span",null,e.toFixed(2)),unit:r.createElement("span",null,"μg/m",r.createElement("sup",null,"3"))}}};case"number":return{renderValue:function(e){return{value:r.createElement("span",null,e.toFixed(3)),unit:r.createElement("span",null,"\xa0")}}};case"usd":return{renderValue:function(e){return e>1e9?{value:r.createElement("span",null,"$",(e/1e9).toPrecision(3)),unit:r.createElement("span",null,"B")}:e>1e6?{value:r.createElement("span",null,"$",(e/1e6).toPrecision(3)),unit:r.createElement("span",null,"m")}:e>1e3?{value:r.createElement("span",null,"$",(e/1e3).toPrecision(3)),unit:r.createElement("span",null,"k")}:{value:r.createElement("span",null,"$",(0,o.HT)(e.toFixed(0))),unit:r.createElement("span",null,"\xa0")}}};case"minutes":return{renderValue:function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return t>0?{value:r.createElement("span",null,t,":",n.toString().padStart(2,"0")),unit:r.createElement("span",null,"\xa0")}:{value:r.createElement("span",null,n),unit:r.createElement("span",null,"\xa0")}}}}})(null!=(n=e.unit)?n:(t=e.statname).includes("%")||t.includes("Change")||t.includes("(Grade)")?"percentage":t.includes("Total")&&t.includes("Fatalities")?"fatalities":t.includes("Fatalities Per Capita")?"fatalitiesPerCapita":t.includes("Density")?"density":t.includes("Elevation")?"distanceInM":t.startsWith("Population")?"population":"Area"===t?"area":t.includes("Mean distance")?"distanceInKm":t.includes("Election")||t.includes("Swing")?"democraticMargin":t.includes("high temp")||t.includes("low temp")||t.includes("high heat index")||t.includes("dewpt")?"temperature":"Mean sunny hours"===t?"time":"Rainfall"===t||"Snowfall [rain-equivalent]"===t?"distancePerYear":t.includes("Pollution")?"contaminantLevel":t.includes("(USD)")?"usd":t.includes("(min)")?"minutes":"number").renderValue(e.value,i,l),d=c.value,f=c.unit;return r.createElement("span",{style:e.style},e.isUnit?f:d)}function s(e){var t=(0,i.cI)();if(e.value!=e.value)return r.createElement("span",null,"N/A");var n=100*Math.abs(e.value),a=n>10?1:n>1?2:n>.1?3:4,o=n.toFixed(a),l=e.value>0?"D":"R",u=e.value>0?t.hueColors.blue:t.hueColors.red;return r.createElement("span",{style:{color:u,display:"flex",justifyContent:"flex-end"}},l,"+",o)}function d(e){if(e.ordinal>e.total)return r.createElement("span",null);var t=e.percentileByPopulation,n="".concat(t,"th percentile");return e.simpleOrdinals?n="".concat(t.toString(),"%"):t%10==1&&t%100!=11?n="".concat(t,"st percentile"):t%10==2&&t%100!=12?n="".concat(t,"nd percentile"):t%10==3&&t%100!=13&&(n="".concat(t,"rd percentile")),r.createElement("div",{className:"serif",style:{textAlign:"right",marginRight:e.simpleOrdinals?"5px":void 0}},n)}},42243:function(e,t,n){"use strict";n.d(t,{P:()=>l,t:()=>u});var r=n(72668),i=n(31007),a=n.n(i);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n=(0,r.useRef)(null),i=(0,r.useRef)(e.content.toString()),l=(t=(0,r.useState)(0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];(0,r.useEffect)(function(){i.current=e.content.toString(),l(function(e){return e+1})},[e.content]);var u=function(){var t=n.current.innerText;t!==e.content&&e.onNewContent(t)};return r.createElement(a(),{className:"editable_content",style:e.style,innerRef:n,html:i.current,disabled:!1,onChange:function(e){i.current=e.target.value},onKeyDown:function(e){"Enter"===e.key&&(u(),e.preventDefault())},onBlur:u,tagName:"span",inputMode:e.inputMode,onFocus:function(){setTimeout(function(){var e=document.createRange();e.selectNodeContents(n.current);var t=window.getSelection();null==t||t.removeAllRanges(),null==t||t.addRange(e)},0)}})}function u(e){return r.createElement(l,{content:e.number.toString(),onNewContent:function(t){var n=parseInt(t);Number.isNaN(n)||n===e.number||e.onNewNumber(n)},style:{minWidth:"2em",display:"inline-block"},inputMode:"decimal"})}},24531:function(e,t,n){"use strict";n.r(t),n.d(t,{OtherQuizzesButtons:()=>tE,JuxtastatInfiniteButton:()=>tb,QuizPanel:()=>tv});var r=n(72668),i=n(6381),a=n(8199),o=n(41623),l=n(69610),u=n(27281),c=n(8672);n(71540);var s=n(93379),d=n.n(s),f=n(7795),m=n.n(f),p=n(90569),y=n.n(p),h=n(3565),v=n.n(h),g=n(19216),b=n.n(g),E=n(44589),A=n.n(E),w=n(53296),x={};x.styleTagTransform=A(),x.setAttributes=v(),x.insert=y().bind(null,"head"),x.domAPI=m(),x.insertStyleElement=b(),d()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var S=n(62473),z=n(50751);function C(){var e=S.AuthenticationStateMachine.shared.useStartSignIn(),t=S.AuthenticationStateMachine.shared.useState();return r.createElement(z.T,null,r.createElement("h1",null,"You were signed out"),r.createElement("p",null,"Sign back in to"," ",r.createElement("b",null,t.email)," ","ensure your quiz progress continues syncing."),r.createElement("button",{style:{margin:"1em",padding:"0.5em 1em"},onClick:function(){null==e||e()}},"Sign In"),r.createElement("button",{style:{margin:"1em",padding:"0.5em 1em"},onClick:function(){S.AuthenticationStateMachine.shared.userSignOut()}},"Sign Out"))}var q=n(54194),k=n(72447),O=n(76293),_=n(45844),D=n(6135),j=n(56033),I=n(36195);function P(e){var t=e.quiz,n=(0,k.nameOfQuizKind)(t.kind);return"number"!=typeof t.name&&"infinite"!==t.kind&&(n+=" ".concat(t.name)),r.createElement("div",{className:(0,I.Kn)()},n)}function M(e){for(var t=(0,l.cI)(),n=(0,l.Rv)(),i=e.history.correct_pattern.map(function(e){return e?n.correct:n.incorrect});i.length<e.length;)i.push(t.unselectedButton);return r.createElement("table",{className:"quiz_footer"},r.createElement("tbody",null,r.createElement("tr",null,i.map(function(e,t){return r.createElement("td",{key:t,style:{backgroundColor:e}})}))))}function B(e){return r.createElement("div",{className:"centered_text serif"},function(){switch(e.quizKind){case"juxtastat":return"Select the geographical region answering the question. The questions get harder as you go on.";case"retrostat":return"Select the easier question. A question is considered easier if more people got it right.";case"custom":return"Select the geographical region answering the question.";case"infinite":return"Select the geographical region answering the question. You lose when you run out of lives."+" You gain lives by getting ".concat(q.juxtaInfiniteCorrectForBonus," questions right in a row.")}}()," ",N(),T())}function N(){var e=k.QuizModel.shared.uniquePersistentId.use();return r.createElement("div",null,"Your user id is ",r.createElement("span",{className:"juxtastat-user-id"},e),". ",r.createElement(F,null))}function F(){var e=S.AuthenticationStateMachine.shared.useState(),t=S.AuthenticationStateMachine.shared.useStartSignIn();return"signedOut"===e.state?r.createElement(r.Fragment,null,r.createElement("a",{href:"","data-test":"googleSignIn",onClick:function(e){e.preventDefault(),null==t||t()}},"Sign In with Google")," to sync your quiz history across devices."):r.createElement(r.Fragment,null,"Signed in with ".concat(e.email,". "),r.createElement("a",{href:"",onClick:function(e){e.preventDefault(),S.AuthenticationStateMachine.shared.userSignOut()}},"Sign Out"))}function T(){return r.createElement("div",{style:{marginTop:"5px"}},r.createElement("button",{onClick:function(){k.QuizModel.shared.exportQuizPersona()}},"Export Quiz History")," ",r.createElement("button",{onClick:function(){k.QuizModel.shared.importQuizPersona()}},"Import Quiz History"))}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){var t=e.longname,n=e.color,i=e.attribution,a=H((0,r.useState)(null),2),o=a[0],l=a[1],u=(0,r.useMemo)(function(){return(0,D.zo)([{name:t,fillOpacity:.5,weight:1,color:n,fillColor:n}])},[t,n]).use(),c=(0,r.useMemo)(function(){return u.filter(j.gh)},[u]);return(0,D.OU)(o,u),r.createElement(D.yq,{ref:l,attributionControl:!1},r.createElement(D.uy,{features:c,clickable:!1}),r.createElement(_.ot,{position:"top-left"}),i&&r.createElement(D.X3,{startShowingAttribution:!1}))}function V(e){switch(e.question.kind){case"retrostat":return r.createElement(K,W(Q({},e),{question:e.question}));case"juxtastat":return r.createElement(G,W(Q({},e),{question:e.question}));default:throw Error("Invalid question kind")}}function L(e){var t="quiz_clickable",n="quiz_clickable";if(e.waiting){var i=e.history.choices,a=e.history.correct_pattern,o=i[i.length-1],l=a[a.length-1]?" quiz_correct":" quiz_incorrect";"A"===o?t+=l:n+=l}var u=e.getQuestion(),c={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"0.5em"},s={display:"flex",justifyContent:"center",width:"90%",margin:"auto"},d=(0,I.wd)()?"quiztext_mobile":"quiztext";return e.nested&&(d+="_nested"),r.createElement("div",null,e.noHeader?void 0:r.createElement(P,{quiz:e.quiz}),r.createElement("div",{className:"centered_text ".concat(d)},u),r.createElement("div",{className:"gap"}),r.createElement("div",{style:s},r.createElement("div",{style:{width:"50%",padding:"0.5em"}},r.createElement("div",{role:"button",id:"quiz-answer-button-a",className:t,onClick:function(){e.onSelect("A")},style:c},r.createElement("span",{style:{margin:"auto"}},r.createElement("div",{className:"centered_text ".concat(d)},e.getOption("a"))))),r.createElement("div",{style:{width:"50%",padding:"0.5em"}},r.createElement("div",{role:"button",id:"quiz-answer-button-b",className:n,onClick:function(){e.onSelect("B")},style:c},r.createElement("span",{style:{margin:"auto"}},r.createElement("div",{className:"centered_text ".concat(d)},e.getOption("b")))))),r.createElement("div",{style:s},r.createElement("div",{style:{width:"50%",padding:"0.5em"}},e.getDemo("a")),r.createElement("div",{style:{width:"50%",padding:"0.5em"}},e.getDemo("b"))),e.noFooter?void 0:r.createElement(r.Fragment,null,"infinite"===e.quiz.kind?r.createElement(q.JuxtastatLivesDisplay,{correctPattern:e.history.correct_pattern.map(function(e){return!!e})}):void 0,r.createElement(M,{history:e.history,length:e.length}),r.createElement(B,{quizKind:e.quiz.kind})))}function K(e){return r.createElement(L,W(Q({},e),{getQuestion:function(){return"Which question was easier?"},getOption:function(e){return"Question ".concat(e.toUpperCase())},getDemo:function(t){var n=(0,k.aCorrect)(e.question[t])?"A":"B";return r.createElement("div",{style:{zoom:.5}},r.createElement(G,{question:e.question[t],history:{choices:[n],correct_pattern:[!0]},length:5,onSelect:function(){},waiting:!0,quiz:{kind:"juxtastat",name:"demo"},noHeader:!0,noFooter:!0,nested:O.isFirefox}))}}))}function G(e){var t=(0,l.cI)();return r.createElement(L,W(Q({},e),{getQuestion:function(){return $(e.question.question)},getOption:function(t){return e.question["longname_".concat(t)]},getDemo:function(n){return r.createElement(U,{longname:e.question["longname_".concat(n)],color:t.hueColors.blue,attribution:"b"===n})}}))}function Y(e){return e.startsWith("!FULL ")?e.slice(6):"Which has a ".concat(e,"?")}function $(e){if(e.includes("!TOOLTIP")){var t=H(e.split("!TOOLTIP "),2),n=t[0],i=t[1];return r.createElement("span",null,Y(n),r.createElement(J,{content:i}))}return Y(e)}function J(e){var t=H(r.useState(!1),2),n=t[0],i=t[1];return r.createElement("span",null,r.createElement("sup",null,r.createElement("div",{style:{cursor:"pointer",fontSize:"smaller",margin:"5px",fontWeight:"bold",border:"none",display:"unset",height:"unset",padding:"0px 5px"},onClick:function(){i(!n)},className:"quiz_clickable",role:"button"},"ⓘ︎")),n?r.createElement("div",{style:{fontSize:"20px"}},"(",e.content,")"):void 0)}var Z=n(25486),X=n(68431),ee=n(64455),et=n(98234),en=n(51329),er=n(15498),ei=n(4334),ea=n(20758),eo=n(14466),el=n(27093),eu=n(9429),ec=function(){return(ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},es=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},ed=(0,eu.i)("GridLoader","0% {transform: scale(1)} 50% {transform: scale(0.5); opacity: 0.7} 100% {transform: scale(1); opacity: 1}","grid"),ef=function(e){return Math.random()*e};let em=function(e){var t=e.loading,n=e.color,i=void 0===n?"#000000":n,a=e.speedMultiplier,o=void 0===a?1:a,l=e.cssOverride,u=e.size,c=void 0===u?15:u,s=e.margin,d=void 0===s?2:s,f=es(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=(0,el.h)(c),p=(0,el.h)(d),y=3*parseFloat(m.value.toString())+6*parseFloat(p.value.toString()),h=ec({width:"".concat(y).concat(m.unit),fontSize:0,display:"inline-block"},void 0===l?{}:l),v=function(e){return{display:"inline-block",backgroundColor:i,width:"".concat((0,el.E)(c)),height:"".concat((0,el.E)(c)),margin:(0,el.E)(d),borderRadius:"100%",animationFillMode:"both",animation:"".concat(ed," ").concat((e/100+.6)/o,"s ").concat(e/100-.2,"s infinite ease")}};return void 0===t||t?r.createElement("span",ec({style:h},f,{ref:function(e){e&&e.style.setProperty("width","".concat(y).concat(m.unit),"important")}}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))}),r.createElement("span",{style:v(ef(100))})):null};var ep=n(42243),ey=n(13736),eh=n(89533),ev=n(82359);function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eb(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function eE(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){eb(a,r,i,o,l,"next",e)}function l(e){eb(a,r,i,o,l,"throw",e)}o(void 0)})}}function eA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ew(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ex(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||ez(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eS(e){return function(e){if(Array.isArray(e))return eg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ez(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ez(e,t){if(e){if("string"==typeof e)return eg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eg(e,t)}}function eC(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){var c=[l,u];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function eq(e){var t=(0,l.cI)(),n=ex((0,r.useState)([]),2),i=n[0],a=n[1],o=ex((0,r.useState)([]),2),u=o[0],c=o[1],s=ex((0,r.useState)(!1),2),d=s[0],f=s[1],m=ex((0,r.useState)(void 0),2),p=m[0],y=m[1],h=ex((0,r.useState)("today"),2),v=h[0],g=h[1],b=k.QuizModel.shared.uniquePersistentId.use(),E=k.QuizModel.shared.uniqueSecureId.use();(0,r.useEffect)(function(){eE(function(){var t,n,r,i,o,l,u;return eC(this,function(s){var d,m,p,h;switch(s.label){case 0:f(!0),y(void 0),s.label=1;case 1:if(s.trys.push([1,9,10,11]),n=Object.fromEntries((t=e.quizFriends.filter(function(e){return null!==ex(e,1)[0]})).map(function(e){var t=ex(e,2),n=t[0];return[t[1],n]})),r=t.map(function(e){return e[1]}),"infinite"!==e.quizDescriptor.kind)return[3,3];return[4,(d=e.quizDescriptor,m=r,eE(function(){var e;return eC(this,function(t){switch(t.label){case 0:return[4,ei.G.POST("/juxtastat/infinite_results",{params:{header:k.QuizModel.shared.userHeaders()},body:{requesters:m,seed:d.seed,version:d.version}})];case 1:if(void 0===(e=t.sent().data))return[2,void 0];return[2,e.results.map(function(e){return e.friends?{friends:!0,result:e}:{friends:!1}})]}})})())];case 2:return o=s.sent(),[3,5];case 3:return[4,(p=e.quizDescriptor,h=r,eE(function(){var e,t;return eC(this,function(n){switch(n.label){case 0:return e=(0,ev.parseTimeIdentifier)(p.kind,p.name.toString()),[4,ei.G.POST("/juxtastat/todays_score_for",{params:{header:k.QuizModel.shared.userHeaders()},body:{date:e,requesters:h,quiz_kind:p.kind}})];case 1:if(void 0===(t=n.sent().data))return[2,void 0];return[2,t.results.map(function(e){return e.friends?{friends:!0,result:e}:{friends:!1}})]}})})())];case 4:o=s.sent(),s.label=5;case 5:if(void 0===(i=o))return[2];if(a(i.map(function(e,t){return eA({name:n[r[t]]},e)})),"infinite"===e.quizDescriptor.kind)return[3,7];return[4,ei.G.POST("/juxtastat/friend_summary_stats",{params:{header:k.QuizModel.shared.userHeaders()},body:{requesters:r,quiz_kind:e.quizDescriptor.kind}})];case 6:return c(null!=(u=null==(l=s.sent().data)?void 0:l.results)?u:[]),[3,8];case 7:c([]),s.label=8;case 8:return[3,11];case 9:return s.sent(),y("Network Error"),[3,11];case 10:return f(!1),[7];case 11:return[2]}})})()},[e.quizDescriptor,e.quizFriends,b,E]);var A=[e.myResult].concat(eS(i.flatMap(function(e){return e.friends?[e.result]:[]}))),w=r.createElement("div",null,r.createElement("div",{style:{margin:"auto",width:"100%"}},r.createElement("div",{className:"quiz_summary"},"Friends")),"infinite"!==e.quizDescriptor.kind?r.createElement(eO,{value:v,setValue:g,options:[{value:"today",label:"Today"},{value:"stats",label:"Mean Statistics"}]}):null,r.createElement(r.Fragment,null,"infinite"===e.quizDescriptor.kind&&"today"===v?r.createElement(e_,null):void 0,"stats"===v?r.createElement("div",{style:{display:"flex",flexDirection:"row",height:eD,alignItems:"center",borderBottom:"2px solid ".concat(t.background),marginBottom:"0.5em"}},r.createElement("div",{style:{width:"25%"}},"Friend"),r.createElement("div",{style:{width:"20%",textAlign:"center"}},"Mean Score"),r.createElement("div",{style:{width:"15%",textAlign:"center"}},"Plays"),r.createElement("div",{style:{width:"20%",textAlign:"center"}},"Current/Max Streak"),r.createElement("div",{style:{width:"20%",textAlign:"right"}})):null,"today"===v?r.createElement(eI,{result:e.myResult,otherResults:A}):null,"stats"===v&&void 0!==e.userStatistics?r.createElement(eP,{index:-1,friendScore:{name:"You",friends:!0,result:{corrects:null}},summaryStats:eA({friends:!0},e.userStatistics),quizFriends:e.quizFriends,setQuizFriends:e.setQuizFriends}):null,i.map(function(t,n){var i=function(){return eE(function(){var r;return eC(this,function(i){switch(i.label){case 0:return[4,ei.G.POST("/juxtastat/unfriend",{params:{header:k.QuizModel.shared.userHeaders()},body:{requestee:e.quizFriends[n][1]}})];case 1:return i.sent(),r=e.quizFriends.map(function(e){return e[0]===t.name?[null,e[1],Date.now()]:e}),e.setQuizFriends(r),[2]}})})()};return"today"===v?r.createElement(eM,{key:n,index:n,friendScore:t,quizFriends:e.quizFriends,setQuizFriends:e.setQuizFriends,otherResults:A,removeFriend:i}):r.createElement(eP,{key:n,index:n,friendScore:t,summaryStats:u[n],quizFriends:e.quizFriends,setQuizFriends:e.setQuizFriends,removeFriend:i})})),r.createElement("div",{style:{height:"1em"}}),r.createElement(eN,null)),x="78px";return r.createElement("div",{style:{position:"relative"}},r.createElement("div",{style:{opacity:d?.5:1,pointerEvents:d?"none":void 0}},r.createElement(eF,{content:w,error:p})),d?r.createElement(eo.Z,{size:x,color:t.textMain,cssOverride:{position:"absolute",left:"calc(50% - ".concat(x," / 2)"),top:"calc(50% - ".concat(x," / 2)")}}):null)}function ek(e){var t=(0,l.cI)(),n=e.currentValue===e.value;return r.createElement("button",{onClick:e.onClick,style:{backgroundColor:n?t.hueColors.blue:t.slightlyDifferentBackground,color:n?t.buttonTextWhite:t.textMain,border:"1px solid ".concat(n?t.hueColors.blue:t.textMain),padding:"0.5em 1em",cursor:"pointer"}},e.label)}function eO(e){return r.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"0.5em",marginBottom:"1em"}},e.options.map(function(t){return r.createElement(ek,{key:t.value,value:t.value,currentValue:e.value,onClick:function(){e.setValue(t.value)},label:t.label})}))}function e_(){return r.createElement("div",{style:{display:"flex",flexDirection:"row",height:eD,alignItems:"center"},className:"testing-friends-section"},r.createElement("div",{style:{width:"25%"}}),r.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"row"}},r.createElement("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"}},"On This Seed"),r.createElement("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"}},"Overall Best")),r.createElement("div",{style:{width:"25%"}}))}var eD="2em",ej="1.5em";function eI(e){return r.createElement("div",{style:{display:"flex",flexDirection:"row",height:eD,alignItems:"center"},className:"testing-friends-section"},r.createElement("div",{style:{width:"25%"}},"You"),r.createElement("div",{style:{width:"50%"}},r.createElement(eB,{result:e.result,friends:!0,otherResults:e.otherResults})),r.createElement("div",{style:{width:"25%",display:"flex",height:ej}},r.createElement("button",{onClick:function(){return eE(function(){var e,t,n,r;return eC(this,function(i){switch(i.label){case 0:if(null===(e=prompt("Enter your name:")))return[2];return n=(0,a.Sz)({kind:"quiz",id:null!=(t=S.AuthenticationStateMachine.shared.state.email)?t:k.QuizModel.shared.uniquePersistentId.value,name:e}).hash,r="https://juxtastat.org/".concat(n),[4,navigator.clipboard.writeText(r)];case 1:return i.sent(),alert("Link copied to clipboard!"),[2]}})})()},style:{marginLeft:"1em"},"data-test-id":"friend-link-button"},"Copy Link")))}function eP(e){var t,n,i,a,o=null!=(a=e.friendScore.name)?a:"Unknown",u=(0,l.cI)();return r.createElement("div",{style:{display:"flex",flexDirection:"row",height:eD,alignItems:"center",backgroundColor:e.index%2!=0?void 0:u.slightlyDifferentBackground},className:"testing-friends-section"},r.createElement("div",{style:{width:"25%"}},void 0===e.removeFriend?"You":r.createElement(ep.P,{content:o,onNewContent:function(t){var n=eS(e.quizFriends);n[e.index]=[t,e.quizFriends[e.index][1],Date.now()],e.setQuizFriends(n)},style:{width:"100%",height:"100%"},inputMode:"text"})),r.createElement("div",{style:{width:"20%",textAlign:"center"}},(null==(t=e.summaryStats)?void 0:t.friends)?e.summaryStats.meanScore.toFixed(2):"-"),r.createElement("div",{style:{width:"15%",textAlign:"center"}},(null==(n=e.summaryStats)?void 0:n.friends)?e.summaryStats.numPlays:"-"),r.createElement("div",{style:{width:"20%",textAlign:"center"}},(null==(i=e.summaryStats)?void 0:i.friends)?r.createElement(r.Fragment,null,e.summaryStats.currentStreak,"/",e.summaryStats.maxStreak):"-"),r.createElement("div",{style:{width:"20%",textAlign:"right"}},void 0!==e.removeFriend?r.createElement("button",{onClick:function(){var t;null==(t=e.removeFriend)||t.call(e)},style:{fontSize:"0.8em",padding:"0.2em 0.5em"}},"Remove"):null))}function eM(e){var t,n=(0,l.cI)(),i=ex((0,r.useState)(void 0),2),a=i[0],o=i[1],u=ex((0,r.useState)(!1),2),c=u[0],s=u[1],d=r.createElement("div",{style:{display:"flex",flexDirection:"row",height:eD,alignItems:"center"},className:"testing-friends-section"},r.createElement("div",{style:{width:"25%"}},r.createElement(ep.P,{content:null!=(t=e.friendScore.name)?t:"Unknown",onNewContent:function(t){if(""===t)return void o("Friend name cannot be empty");if(e.quizFriends.map(function(e){return e[0]}).includes(t))return void o("Friend name already exists");var n=eS(e.quizFriends);n[e.index]=[t,e.quizFriends[e.index][1],Date.now()],e.setQuizFriends(n),o(void 0)},style:{width:"100%",height:"100%"},inputMode:"text"})),r.createElement("div",{style:{width:"50%"}},r.createElement(eB,ew(eA({},e.friendScore),{otherResults:e.otherResults}))),r.createElement("div",{style:{width:"25%",display:"flex",height:ej}},r.createElement("button",{onClick:function(){return eE(function(){return eC(this,function(t){switch(t.label){case 0:s(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,e.removeFriend()];case 2:return t.sent(),[3,5];case 3:return t.sent(),o("Network Error"),[3,5];case 4:return s(!1),[7];case 5:return[2]}})})()},style:{marginLeft:"1em"},disabled:c},"Remove"),c?r.createElement(em,{color:n.textMain,size:"4px",cssOverride:{marginLeft:"10px"}}):null));return r.createElement(eF,{error:a,content:d})}function eB(e){var t=(0,l.cI)(),n=(0,l.Rv)(),a=(0,r.useContext)(i.C.Context),o="1px solid ".concat(t.background),u={backgroundColor:(0,ey.bt)(t.hueColors.orange,.5,t.background),width:"100%",height:eD,display:"flex",justifyContent:"center",alignItems:"center",border:o};if(!e.friends)return r.createElement("div",{style:u},"Ask\xa0",r.createElement("b",null,e.name),"\xa0to add you");if("forThisSeed"in e.result){var c,s,d,f,m=null===e.result.maxScoreSeed||null===e.result.maxScoreVersion?{href:void 0,onClick:function(){}}:a.link({kind:"quiz",mode:"infinite",seed:e.result.maxScoreSeed,v:e.result.maxScoreVersion},{scroll:{kind:"position",top:0}}),p=e.otherResults.filter(function(e){return"forThisSeed"in e}),y={width:"50%",border:o,display:"flex",justifyContent:"center",alignItems:"center",color:t.buttonTextWhite,fontWeight:"bold"},h=(c=Math).max.apply(c,eS(p.map(function(e){var t;return null!=(t=e.maxScore)?t:0})))===e.result.maxScore,v=(s=Math).max.apply(s,eS(p.map(function(e){var t;return null!=(t=e.forThisSeed)?t:0})))===e.result.forThisSeed;return r.createElement("div",{style:{display:"flex",flexDirection:"row",height:eD}},r.createElement("div",{style:ew(eA({},y),{backgroundColor:v?t.hueColors.green:t.hueColors.blue})},null!=(d=e.result.forThisSeed)?d:"-"),r.createElement("div",{style:ew(eA({},y),{backgroundColor:h?t.hueColors.green:t.hueColors.blue}),onClick:m.onClick},r.createElement("a",{style:{textDecoration:"none",color:t.buttonTextWhite},href:m.href},null!=(f=e.result.maxScore)?f:"-")))}if(null===e.result.corrects)return r.createElement("div",{style:u},"Not Done Yet");var g=e.result.corrects;return r.createElement("div",{className:"testing-friend-score",style:{display:"flex",flexDirection:"row",height:eD}},g.map(function(e,t){var i=e?n.correct:n.incorrect;return r.createElement("div",{className:e?"testing-friend-score-correct":"testing-friend-score-incorrect",key:t,style:{backgroundColor:i,color:i,width:"".concat(100/g.length,"%"),border:o}},e?"y":"n")}))}function eN(){var e=(0,l.cI)(),t=ex((0,r.useState)(""),2),n=t[0],i=t[1],a=ex((0,r.useState)(""),2),o=a[0],u=a[1],c=ex((0,r.useState)(void 0),2),s=c[0],d=c[1],f=ex((0,r.useState)(!1),2),m=f[0],p=f[1],y=r.createElement("div",{style:{display:"flex",flexDirection:"row",height:ej,alignItems:"center"}},r.createElement("div",{style:{width:"37.5%",padding:"0 0.2em"}},r.createElement("input",{type:"text",placeholder:"Friend Name",value:n,style:{width:"100%",height:"100%"},onChange:function(e){i(e.target.value)},disabled:m})),r.createElement("div",{style:{width:"37.5%",padding:"0 0.2em",height:ej}},r.createElement("input",{type:"text",placeholder:"Friend ID or Email",value:o,style:{width:"100%",height:"100%"},onChange:function(e){u(e.target.value)},disabled:m})),r.createElement("div",{style:{width:"25%",display:"flex",height:ej}},r.createElement("button",{onClick:function(){return eE(function(){var e,t,r;return eC(this,function(a){switch(a.label){case 0:return e=o.trim(),t=n.trim(),p(!0),[4,(0,eh.addFriend)(e,t)];case 1:return r=a.sent(),p(!1),void 0!==r?d(r.errorMessage):(d(void 0),i(""),u("")),[2]}})})()},style:{marginLeft:"1em",height:"100%"},disabled:m},"Add"),m?r.createElement(em,{color:e.textMain,size:"4px",cssOverride:{marginLeft:"10px"}}):null));return r.createElement(eF,{error:s,content:y})}function eF(e){var t=(0,l.cI)();return void 0!==e.error?r.createElement("div",null,e.content,r.createElement("div",{style:{backgroundColor:t.slightlyDifferentBackgroundFocused,padding:"0 0.5em",marginRight:"25%"}},e.error)):e.content}function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||eQ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eQ(e,t){if(e){if("string"==typeof e)return eT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,t)}}function eW(e){switch(e.quiz.kind){case"juxtastat":case"retrostat":return r.createElement(eU,{quiz:e.quiz,wholeHistory:e.wholeHistory});case"infinite":return r.createElement(eY,{quiz:e.quiz,wholeHistory:e.wholeHistory});case"custom":return}}function eH(e,t){for(var n,r=(0,ev.parseTimeIdentifier)(e.kind,e.name.toString()),i=Array(r+1).fill(-1),a=Array(6).fill(0),o=[],l=0;l<=r;l++){var u=function(n){switch(e.kind){case"juxtastat":return t[n];case"retrostat":return t["W".concat(n)]}}(l);if(void 0!==u){var c=u.correct_pattern.reduce(function(e,t){return e+ +!!t},0);i[l]=c,a[c]+=1,o.push(c)}}if(0===o.length)return{meanScore:0,numPlays:0,currentStreak:0,maxStreak:0,winRate:0,totalFrequency:0,frequencies:a};for(var s=Array(i.length).fill(0),d=0;d<s.length;d++)i[d]>=3&&(s[d]=(d>0?s[d-1]:0)+1);var f=(n=Math).max.apply(n,function(e){if(Array.isArray(e))return eT(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||eQ(s)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=s[r],p=o.reduce(function(e,t){return e+t},0)/o.length,y=o.filter(function(e){return e>=3}).length/o.length*100,h=a.reduce(function(e,t){return e+t},0);return{meanScore:p,numPlays:o.length,currentStreak:m,maxStreak:f,winRate:y,totalFrequency:h,frequencies:a}}function eU(e){var t=(0,l.cI)(),n=eH(e.quiz,e.wholeHistory),i=[{name:"Played",value:n.numPlays.toString()},{name:"Mean score",value:n.meanScore.toFixed(2)},{name:"Win Rate (3+)",value:"".concat(n.winRate.toFixed(0),"%")},{name:"Current Streak (3+)",value:n.currentStreak.toString()},{name:"Max Streak (3+)",value:n.maxStreak.toString()}];return r.createElement("div",null,r.createElement("div",{className:"serif quiz_summary"},"Your Statistics"),r.createElement(eL,{statistics:i}),r.createElement("div",{className:"gap_small"}),r.createElement("table",{className:"quiz_barchart"},r.createElement("tbody",null,n.frequencies.map(function(e,i){return r.createElement("tr",{key:i},r.createElement("td",{className:"quiz_bar_td serif",style:{color:t.textMain}},i,"/5"),r.createElement("td",{className:"quiz_bar_td serif"},r.createElement("span",{className:"quiz_bar",style:{width:"".concat(e/n.totalFrequency*20,"em"),backgroundColor:t.hueColors.blue}}),e>0?r.createElement("span",{className:"quiz_stat",style:{color:t.textMain}},e," ","(",(e/n.totalFrequency*100).toFixed(1),"%)"):void 0))}))))}function eV(e){var t=e.total,n=e.perQuestion,i=(0,l.Rv)();return r.createElement("div",{id:"quiz-audience-statistics"},r.createElement("div",{className:"serif quiz_summary"},"Question Difficulty"),r.createElement(eL,{statistics:n.map(function(e,n){return{name:"Q".concat(n+1," Correct"),value:"".concat((e/t*100).toFixed(0),"%"),addtl_class:"quiz-audience-statistics-displayed",color:e/t>.5?i.correct:i.incorrect}})}))}function eL(e){var t=e.statistics;return r.createElement("div",{className:"serif",style:{textAlign:"center",width:"100%",margin:"auto",fontSize:"1.5em",display:"flex",flexWrap:"wrap",justifyContent:"center"}},t.map(function(e,t){return r.createElement(eK,{key:t,number:e.value,name:e.name,additionalClass:e.additionalClass,color:e.color,onClick:e.onClick})}))}function eK(e){var t=e.number,n=e.name,i=e.additionalClass,a=e.color,o=e.onClick;return r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"0.3em"},onClick:o},r.createElement("div",{className:"serif ".concat(null!=i?i:""),style:{fontSize:"1.5em",color:a}},t),r.createElement("div",{className:"serif",style:{fontSize:"0.5em"}},n))}function eG(e,t){var n,r,i,a,o,l,u=eR((0,ev.getInfiniteQuizzes)(t,!0),2),c=u[0],s=u[1].map(function(e){return t[e].correct_pattern.reduce(function(e,t){return e+ +!!t},0)}),d=c.findIndex(function(t){var n=eR(t,2),r=n[0],i=n[1];return r===e.seed&&i===e.version}),f=eR(((n=Array.from(Array(s.length).keys())).sort(function(e,t){return s[t]-s[e]}),r=1,i=s[n[0]],o=(a=n.map(function(e){return s[e]!==i&&(i=s[e],r+=1),r})).map(function(e,t){return e<=3||n[t]===d}),l=n.filter(function(e,t){return o[t]}),[a.filter(function(e,t){return o[t]}),l]),2);return{ordinals:f[0],sortedIndices:f[1],seedVersions:c,numCorrects:s}}function eY(e){var t=(0,l.cI)(),n=(0,r.useContext)(i.C.Context),a=eG(e.quiz,e.wholeHistory),o=a.ordinals,u=a.sortedIndices,c=a.seedVersions,s=a.numCorrects;return r.createElement("div",{id:"your-best-scores"},r.createElement("div",{className:"serif quiz_summary"},"Your Best Scores"),r.createElement(eL,{statistics:u.map(function(r,i){return{name:"#".concat(o[i]),value:s[r].toString(),additionalClass:"quiz-audience-statistics-displayed",color:c[r][0]===e.quiz.seed?t.hueColors.green:t.hueColors.blue,onClick:function(){n.navigate({kind:"quiz",mode:"infinite",seed:c[r][0],v:c[r][1]},{history:"push",scroll:{kind:"none"}})}}})}))}function e$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eJ(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function eZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function eX(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function e0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||e2(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e1(e){return function(e){if(Array.isArray(e))return e$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e2(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e2(e,t){if(e){if("string"==typeof e)return e$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(e,t)}}function e5(e){var t,n,i,a,o,u,c,s=(0,r.useRef)(null),d=e0((0,r.useState)(null!=(c="custom"===e.quizDescriptor.kind||"infinite"===e.quizDescriptor.kind?void 0:(0,ev.getCachedPerQuestionStats)(e.quizDescriptor))?c:{total:0,per_question:[0,0,0,0,0]}),2),f=d[0],m=d[1],p=k.QuizModel.shared.friends.use();(0,r.useEffect)(function(){"custom"!==e.quizDescriptor.kind&&((0,ev.reportToServer)(e.wholeHistory,e.quizDescriptor.kind),"infinite"!==e.quizDescriptor.kind&&(0,ev.getPerQuestionStats)(e.quizDescriptor).then(m))},[e.wholeHistory,e.quizDescriptor]);var y=e.history.correct_pattern,h=k.QuizModel.shared.authenticationError.use(),v=null!==k.QuizModel.shared.dismissAuthNag.use(),g=S.AuthenticationStateMachine.shared.useState(),b=!v&&"signedOut"===g.state&&Object.keys(e.wholeHistory).length>=10,E=(0,l.cI)();return r.createElement("div",null,r.createElement(P,{quiz:e.quizDescriptor}),r.createElement("div",{className:"gap"}),h?r.createElement(e3,null,r.createElement("b",null,"Warning! Someone is possibly attempting to hijack your account. Please contact us at security@urbanstats.org, and send your persistent ID.")):void 0,b&&!h?r.createElement(e3,null,r.createElement("div",null,r.createElement(F,null)),r.createElement("div",{role:"button",title:"Dismiss",onClick:function(){return k.QuizModel.shared.dismissAuthNag.value=Date.now()}},r.createElement(X.J,{size:"1em",color:E.textMain,src:"/close.png",style:{display:"inline-block"}}))):void 0,r.createElement(e9,{correctPattern:y,quizKind:e.quizDescriptor.kind}),r.createElement("div",{className:"gap_small"}),r.createElement(e6,{buttonRef:s,todayName:e.todayName,correctPattern:y,quizKind:e.quizDescriptor.kind,medal:"infinite"===e.quizDescriptor.kind?function(e,t){var n=eG(e,t),r=n.ordinals,i=n.sortedIndices,a=n.seedVersions.findIndex(function(t){var n=eR(t,2),r=n[0],i=n[1];return r===e.seed&&i===e.version}),o=r[i.indexOf(a)];switch(o){case 1:case 2:case 3:return o;default:return}}(e.quizDescriptor,e.wholeHistory):void 0}),r.createElement("div",{className:"gap"}),r.createElement("div",{className:"gap"}),f.total>30?r.createElement("div",null,r.createElement(eV,{total:f.total,perQuestion:f.per_question}),r.createElement("div",{className:"gap"}),r.createElement("div",{className:"gap"})):void 0,"custom"===e.quizDescriptor.kind||"infinite"===e.quizDescriptor.kind?void 0:r.createElement(e8,{quiz:e.quizDescriptor}),"infinite"===e.quizDescriptor.kind?r.createElement(tb,null):void 0,r.createElement("div",{className:"gap"}),r.createElement(eW,{wholeHistory:e.wholeHistory,quiz:e.quizDescriptor}),r.createElement("div",{className:"gap"}),r.createElement("span",{className:"serif quiz_summary"},"Details (spoilers, don't share!)"),r.createElement("div",{className:"gap_small"}),e.quiz.map(function(t,n){return r.createElement(te,{question:t,key:n,index:n,choice:e.history.choices[n],correct:y[n]})}),r.createElement("div",{className:"gap_small"}),"custom"===e.quizDescriptor.kind?void 0:r.createElement("div",{style:{margin:"auto",width:"100%",maxWidth:"500px"}},r.createElement(eq,{quizFriends:p,quizDescriptor:e.quizDescriptor,setQuizFriends:function(e){k.QuizModel.shared.friends.value=e},myResult:"infinite"===e.quizDescriptor.kind?(i=(n=eG(t=e.quizDescriptor,e.wholeHistory)).sortedIndices,a=n.seedVersions,{forThisSeed:(o=n.numCorrects)[a.findIndex(function(e){var n=eR(e,2),r=n[0],i=n[1];return r===t.seed&&i===t.version})],maxScore:o[u=i[0]],maxScoreSeed:a[u][0],maxScoreVersion:a[u][1]}):{corrects:y},userStatistics:"infinite"===e.quizDescriptor.kind?void 0:eH(e.quizDescriptor,e.wholeHistory)})),r.createElement("div",{className:"gap_small"}),r.createElement("div",{className:"centered_text serif"},r.createElement(N,null),r.createElement(T,null)),r.createElement(tE,null))}function e3(e){var t=(0,l.cI)();return r.createElement(r.Fragment,null,r.createElement("div",{className:"serif",style:{backgroundColor:t.slightlyDifferentBackgroundFocused,width:"75%",margin:"auto",fontSize:"1.5em",padding:"0.5em",textAlign:"center",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"space-evenly"}},e.children),r.createElement("div",{className:"gap"}))}function e6(e){var t=e0((0,u.yu)("juxtastatCompactEmoji"),1)[0],n=r.createElement(e4,eX(eZ({},e),{compactRepr:t}));return e.correctPattern.length<=10?n:r.createElement("div",null,r.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.createElement(et.tG,{name:"Compact emoji representation",settingKey:"juxtastatCompactEmoji",testId:"juxtastatCompactEmoji"})),r.createElement("div",{className:"gap_small"}),n)}function e4(e){var t=e.buttonRef,n=e.todayName,i=e.correctPattern,a=e.quizKind,o=e.medal,u=e.compactRepr,c=(0,l.Rv)();return r.createElement(Z.T,{buttonRef:t,produceSummary:function(){var e,t,r,l,s,d,f;return e=c,t=n,r=i,l=a,s=o,d=u,(f=function(){var n,i,a,o,u,c;return function(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){var c=[l,u];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(f){switch(f.label){case 0:if(n=e0(e7(r,l),2)[1],i=(0,k.nameOfQuizKind)(l),void 0!==t&&(i+=" ".concat(t)),i+=" ".concat(n),i+="\n",i+="\n",i+=to(e,r,d).join("\n"),void 0!==s&&(i+="\n",i+="\n",i+=["\uD83E\uDD47 Personal Best!","\uD83E\uDD48 Personal 2nd Best!","\uD83E\uDD49 Personal 3rd Best!"][s-1]),i+="\n",a=window.location.hash,o="https://juxtastat.org".concat(""===a?"":"/".concat(a)),!(a.length>40))return[3,2];return u=window.location.href.substring(window.location.origin.length+1),[4,ei.G.POST("/shorten",{body:{full_text:u}})];case 1:if(void 0===(c=f.sent().data))throw Error("Error while shortening");o="https://s.urbanstats.org/s?c=".concat(c.shortened),f.label=2;case 2:return[2,[i,o]]}})},function(){var e=this,t=arguments;return new Promise(function(n,r){var i=f.apply(e,t);function a(e){eJ(i,n,r,a,o,"next",e)}function o(e){eJ(i,n,r,a,o,"throw",e)}a(void 0)})})()}})}function e8(e){var t,n=e.quiz,a=(0,l.cI)(),o=e0((0,r.useState)(0),2)[1];(0,r.useEffect)(function(){var e=setInterval(function(){o(function(e){return e+1})},1e3);return function(){clearInterval(e)}});var u={width:"juxtastat"===n.kind?"5em":"6.5em",margin:0,backgroundColor:a.hueColors.blue,textAlign:"center",fontSize:"2em",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",padding:"0.25em 0.25em",borderRadius:"0.25em",border:"none",color:a.buttonTextWhite},c=(0,r.useContext)(i.C.Context);return t=0>(0,ea.msRemaining)(n)&&"quiz"===c.currentDescriptor.kind?r.createElement("a",eX(eZ({},c.link({kind:"quiz",mode:"retrostat"===n.kind?"retro":void 0,date:void 0!==c.currentDescriptor.date?c.currentDescriptor.date+1:void 0},{scroll:{kind:"position",top:0}})),{style:{textDecoration:"none"}}),r.createElement("div",{className:"serif",style:eX(eZ({},u),{width:void 0,padding:"0.25em 1em"})},"Next Quiz")):r.createElement(r.Fragment,null,r.createElement("div",{className:"serif quiz_summary",style:{margin:"auto 0"}},"Next quiz in "),r.createElement("div",{className:"serif",style:u},r.createElement("span",null,(0,ea.renderTimeRemaining)(n)))),r.createElement("div",{style:{margin:"auto"},id:"quiz-timer"},r.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-center",flexWrap:"wrap",gap:"1em"}},t))}function e7(e,t){var n,r,i,a,o,l;switch(t){case"juxtastat":case"retrostat":case"custom":return a=(r=e.length)-(i=e.reduce(function(e,t){return e+ +!!t},0)),[0===i?"Impressively Bad Job! \uD83E\uDD37":0===a?"Perfect! \uD83D\uDD25":1===i?"No! No!! \uD83D\uDE20":1===a?"Excellent! \uD83D\uDE0A":2===a?"Good! \uD83D\uDE43":"Better luck next time! \uD83E\uDEE4","".concat(i,"/").concat(r)];case"infinite":return o=e.reduce(function(e,t){return e+ +!!t},0),l="".concat(o,"/∞"),o<10?["You can do better! \uD83E\uDD37",l]:o<20?["Not bad! \uD83E\uDEE4",l]:o<30?["Good job! \uD83D\uDE43",l]:o<40?["Great! \uD83D\uDE0A",l]:["Amazing! \uD83D\uDD25",l]}}function e9(e){var t=e0((0,u.yu)("juxtastatCompactEmoji"),1)[0],n=(0,l.Rv)(),i=e0(e7(e.correctPattern,e.quizKind),2),a=i[0],o=i[1],c="".concat(a," ").concat(o);return r.createElement("div",null,r.createElement("span",{className:"serif quiz_summary",id:"quiz-result-summary-words"},c),r.createElement("div",{id:"quiz-result-summary-emoji"},to(n,e.correctPattern,t).map(function(e,t){return r.createElement("div",{className:"serif quiz_summary",key:t},e)})))}function te(e){switch(e.question.kind){case"juxtastat":return r.createElement(tr,eX(eZ({},e),{question:e.question}));case"retrostat":return r.createElement(ti,eX(eZ({},e),{question:e.question}))}}function tt(e){var t=(0,l.cI)(),n=(0,l.Rv)(),i=(0,k.aCorrect)(e.question)?r.createElement("span",null,">"):r.createElement("span",null,"<"),a={},o={};"A"===e.choice?a={backgroundColor:t.selectedButton,color:t.selectedButtonText}:o={backgroundColor:t.selectedButton,color:t.selectedButtonText};var u=e.correct?n.correctEmoji:n.incorrectEmoji;return r.createElement("div",{key:e.index},e.getLabel(),r.createElement("table",{className:"stats_table",style:{width:"80%",marginLeft:"10%",marginRight:"10%",borderCollapse:"separate",borderSpacing:"0.1em",fontSize:"1.25em",backgroundColor:t.unselectedButton}},r.createElement("tbody",{style:{color:t.textMain}},r.createElement("tr",null,r.createElement("td",{className:"serif quiz_result_name_left",style:a},e.getOption("a")),r.createElement("td",{style:{fontWeight:400},className:"serif quiz_result_value_left"},e.getStat("a")),r.createElement("td",{className:"serif quiz_result_symbol quiz_result_comparison_symbol"},i),r.createElement("td",{style:{fontWeight:400},className:"serif quiz_result_value_right"},e.getStat("b")),r.createElement("td",{className:"serif quiz_result_name_right",style:o},e.getOption("b")),r.createElement("td",{className:"serif quiz_result_symbol"},u)))),r.createElement("div",{className:"gap_small"}))}function tn(e){var t=e.stat,n=e.statColumn;return r.createElement("span",null,r.createElement(ee.$k,{statname:n,value:t,isUnit:!1}),r.createElement(ee.$k,{statname:n,value:t,isUnit:!0}))}function tr(e){return r.createElement(ta,{question:e.question},r.createElement(tt,eX(eZ({},e),{getLabel:function(){return r.createElement("span",{className:"serif quiz_results_question"},e.question.stat_column)},getOption:function(t){return e.question["longname_".concat(t)]},getStat:function(t){return r.createElement(tn,{stat:e.question["stat_".concat(t)],statColumn:e.question.stat_column})}})))}function ti(e){return r.createElement(tt,eX(eZ({},e),{getLabel:function(){return r.createElement("span",{className:"serif quiz_results_question"},"Juxtastat Users Who Got This Question Right %")},getOption:function(t){var n=e.question[t];return r.createElement(ta,{question:n},r.createElement("div",{style:{zoom:.5}},r.createElement("div",null,$(n.question)),r.createElement("div",{style:"a"===t?{marginLeft:"20%"}:{marginRight:"20%"}},r.createElement("div",null,n.longname_a," ",r.createElement(tn,{stat:n.stat_a,statColumn:n.stat_column})),r.createElement("div",null,n.longname_b," ",r.createElement(tn,{stat:n.stat_b,statColumn:n.stat_column})))))},getStat:function(t){return r.createElement(tn,{stat:e.question["".concat(t,"_ease")],statColumn:"%"})}}))}function ta(e){var t=e.question,n=e.children,a=(0,r.useContext)(i.C.Context),o=(0,r.useContext)(u.Zr.Context),c=(0,l.cI)();return r.createElement("a",eX(eZ({},a.link({kind:"comparison",longnames:[t.longname_a,t.longname_b],s:(0,en.MM)(o,function(e){if(void 0!==e){var t=er.MH.get(e);if(void 0!==t){var n=t.group.parent.id,r=t.year;return Object.fromEntries(e1(er.U1.map(function(e){return["show_stat_group_".concat(e.id),e.parent.id===n]})).concat(e1(null!==r?er.tg.map(function(e){return["show_stat_year_".concat(e),e===r]}):[])))}}}(t.stat_path))},{scroll:{kind:"position",top:0}})),{style:{textDecoration:"none",color:c.textMain}}),n)}function to(e,t,n){if(n&&t.length>10)return function(e,t,n){var r=[[]],i=void 0,a=0,o=function(e,i){if(void 0!==e){var a=r[r.length-1];a.push(e?t:n),i>1&&a.push.apply(a,e1(function e(t){if(t>=10)return e1(e(Math.floor(t/10))).concat(e1(e(t%10)));switch(t){case 0:return["0️⃣"];case 1:return["1️⃣"];case 2:return["2️⃣"];case 3:return["3️⃣"];case 4:return["4️⃣"];case 5:return["5️⃣"];case 6:return["6️⃣"];case 7:return["7️⃣"];case 8:return["8️⃣"];case 9:return["9️⃣"]}throw Error("unexpected count ".concat(t))}(i))),a.length>=10&&r.push([])}},l=!0,u=!1,c=void 0;try{for(var s,d=e.map(function(e){return!!e})[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var f=s.value;f===i?a+=1:(o(i,a),i=f,a=1)}}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}return o(i,a),r.map(function(e){return e.join("")})}(t,e.correctEmoji,e.incorrectEmoji);if(t.length>10){for(var r=[],i=0;i<t.length;i+=10)r.push(to(e,t.slice(i,i+10),n)[0]);return r}return[t.map(function(t){return t?e.correctEmoji:e.incorrectEmoji}).join("")]}var tl=n(51647),tu=n(20110);function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ts(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){td(e,t,n[t])})}return e}function tm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||th(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ty(e){return function(e){if(Array.isArray(e))return tc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||th(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){if(e){if("string"==typeof e)return tc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tc(e,t)}}function tv(e){return r.createElement(tg,{key:e.todaysQuiz.uniqueKey,quizDescriptor:e.quizDescriptor,todayName:e.todayName,todaysQuiz:e.todaysQuiz})}function tg(e){var t,n,i,a=(0,I.Kn)(),u=(0,l.cI)(),s=k.QuizModel.shared.history.use(),d=tp((0,r.useState)({}),2),f=d[0],m=d[1];switch(e.quizDescriptor.kind){case"juxtastat":case"retrostat":case"infinite":t=s,n=function(e){return k.QuizModel.shared.history.value=e};break;case"custom":t=f,n=function(e){m(e)}}var p=tp((0,r.useState)(!1),2),y=p[0],h=p[1],v=tp((0,r.useState)(!1),2),g=v[0],b=v[1],E=tp((0,r.useState)([]),2),A=E[0],w=E[1],x=S.AuthenticationStateMachine.shared.useState();if("signedOut"===x.state&&null!==x.email)return r.createElement(C,null);if("infinite"===e.quizDescriptor.kind&&!q.validQuizInfiniteVersions.includes(e.quizDescriptor.version))return r.createElement(c.P,null,r.createElement("div",null,r.createElement("div",{className:a},"Quiz version mismatch"),r.createElement("div",{style:{width:"50%",margin:"auto",backgroundColor:u.slightlyDifferentBackgroundFocused,padding:"1em",fontWeight:"bold"}},"Juxtastat generation has been updated, so infinite Juxtastat you are trying to access is no longer available."),r.createElement("div",{style:{height:"1.5em"}}),r.createElement(tE,null)));var z=null!=(i=t[e.quizDescriptor.name])?i:{choices:[],correct_pattern:[]},O=e.todaysQuiz.isDone((0,k.getCorrectPattern)(t,e.quizDescriptor.name)),_=(O?z.choices.length:z.choices.length+1)-A.length,D=y||g||_>0;if(!g&&_>0){b(!0);var j=Array.from({length:_},function(t,n){return e.todaysQuiz.questionByIndex(A.length+n)});tl.k.shared.startLoading(),Promise.all(j).then(function(e){b(!1),w(ty(A).concat(ty(e.filter(function(e){return void 0!==e}))))}).catch(function(e){tu.error("Error fetching questions",e)}).finally(function(){return tl.k.shared.finishLoading()})}var P=function(r){var i=tm(tf({},t),td({},e.quizDescriptor.name,r));h(!0),n(i)},M=function(e){if(!D){var t=A[z.correct_pattern.length];z.choices.push(e),z.correct_pattern.push("A"===e===(0,k.aCorrect)(t)),P(z),setTimeout(function(){h(!1)},500)}};return r.createElement(c.P,null,function(){var n,i=e.todaysQuiz,l=z.choices.length;if(D&&(l-=1),!D&&O)return r.createElement(e5,{quiz:A,wholeHistory:t,history:z,todayName:e.todayName,quizDescriptor:e.quizDescriptor});if(l<0||l>=A.length){var u=l<0?"Loading quiz...":"Loading results...";return r.createElement("div",null,r.createElement("input",{type:"hidden","data-test-loading-quiz":!0}),r.createElement("div",{className:a},u),r.createElement(o.WU,null))}return r.createElement(V,{quiz:e.quizDescriptor,question:A[l],history:z,length:null!=(n=i.length)?n:z.choices.length,onSelect:M,waiting:D,nested:!1,noHeader:!1,noFooter:!1})}())}function tb(){var e=(0,l.cI)(),t=(0,r.useContext)(i.C.Context);return r.createElement("a",tf({style:tm(tf({},(0,Z.j)(e.hueColors.blue,e.buttonTextWhite)),{width:"30%",textDecoration:"none"})},t.link({kind:"quiz",mode:"infinite"},{scroll:{kind:"position",top:0}})),"Random Juxtastat Infinite")}function tE(){var e=(0,l.cI)(),t=(0,r.useContext)(i.C.Context),n=t.usePageState().current,o="quiz"===n.descriptor.kind?n.descriptor.mode:"notAQuiz",c=(0,r.useMemo)(function(){return[{kind:"quiz",mode:void 0},{kind:"quiz",mode:"retro"},{kind:"quiz",mode:"infinite"}].filter(function(e){return e.mode!==o})},[o]),s=tp((0,r.useState)([]),2),d=s[0],f=s[1];(0,r.useEffect)(function(){var e,t=!1;return tl.k.shared.startLoading(),(e=function(){var e;return function(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){var c=[l,u];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return[4,Promise.all(c.map(function(e){return(0,a.X_)(e,u.Zr.shared)}))];case 1:return e=n.sent(),t||f(e.filter(function(e){return"infinite"===e.newPageDescriptor.mode||!e.pageData.quiz.isDone((0,k.getCorrectPattern)(k.QuizModel.shared.history.value,e.pageData.quizDescriptor.name))})),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){ts(a,r,i,o,l,"next",e)}function l(e){ts(a,r,i,o,l,"throw",e)}o(void 0)})})().finally(function(){return tl.k.shared.finishLoading()}),function(){t=!0}},[c]);var m=tm(tf({},(0,Z.j)(e.hueColors.blue,e.buttonTextWhite)),{width:"30%",textDecoration:"none"});return 0===d.length?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"gap"}),r.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-center",flexWrap:"wrap",gap:"1em"}},d.map(function(e){return r.createElement("a",tf({key:e.pageData.quizDescriptor.kind,style:m},t.link(e.newPageDescriptor,{scroll:{kind:"position",top:0}})),"Play"," ",(0,k.nameOfQuizKind)(e.pageData.quizDescriptor.kind))})))}},20758:function(e,t,n){"use strict";n.r(t),n.d(t,{getDailyOffsetNumber:()=>u,getRetrostatOffsetNumber:()=>c,msRemaining:()=>p,renderTimeRemaining:()=>y});var r,i=new Date(2023,8,2),a=0,o=parseInt(null!=(r=localStorage.getItem("debug_quiz_transition"))?r:"0");if(o>0){var l=new Date;l.setHours(0,0,0,0),a=l.valueOf()+864e5-o-Date.now()}function u(){var e=new Date(Date.now()+a);e.setHours(0,0,0,0);var t=(e.valueOf()-i.valueOf())/864e5;return Math.round(t)}function c(){return Math.floor((u()-1)/7)-11}function s(e){var t=new Date(i);return t.setDate(t.getDate()+e),t}function d(e){var t;return(t=s(e)).setDate(t.getDate()+1),t.valueOf()-Date.now()-a}function f(e){var t;return(t=function(e){if(!e.startsWith("W"))throw Error("week_id must start with W");return s((parseInt(e.slice(1))+11)*7+1)}(e)).setDate(t.getDate()+7),t.valueOf()-Date.now()}function m(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60),i=(t%60).toString().padStart(2,"0"),a=(n%60).toString().padStart(2,"0"),o=(r%24).toString().padStart(2,"0");return"".concat(o,":").concat(a,":").concat(i)}function p(e){var t=e.kind,n=e.name;switch(t){case"juxtastat":return d(n);case"retrostat":return f(n)}}function y(e){var t,n,r,i=e.kind,a=e.name;switch(i){case"juxtastat":return m(d(a));case"retrostat":return n=Math.floor((t=f(a))/864e5),r=m(t%864e5),"".concat(n,"d ").concat(r)}}},89533:function(e,t,n){"use strict";n.r(t),n.d(t,{addFriend:()=>f,addFriendFromLink:()=>function e(t,n){return u(function(){var r,i;return d(this,function(a){switch(a.label){case 0:return[4,f(t,n)];case 1:if(void 0!==(r=a.sent()))return[3,2];return alert("Friend added: ".concat(n," !")),[3,6];case 2:if("friendName"!==r.problemDomain)return[3,5];if(null===(i=prompt("Could not add friend: ".concat(r.errorMessage,"\n\nPlease correct the friend name:"),n)))return[3,4];return[4,e(t,i.trim())];case 3:a.sent(),a.label=4;case 4:return[3,6];case 5:alert("Could not add friend: ".concat(r.errorMessage)),a.label=6;case 6:return[2]}})})()}});var r=n(4334),i=n(62473),a=n(72447);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,u,"next",e)}function u(e){l(a,r,i,o,u,"throw",e)}o(void 0)})}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw r}}return a}}(e,t)||s(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}function d(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){var c=[l,u];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function f(e,t){return u(function(){var n,l,u,f,m,p,y;return d(this,function(d){switch(d.label){case 0:if(n=a.QuizModel.shared.uniquePersistentId.value,l=i.AuthenticationStateMachine.shared.state.email,u="Friend ID or Email",""===e)return[2,{errorMessage:"".concat(u," cannot be empty"),problemDomain:"friendID"}];if(e===n)return[2,{errorMessage:"Friend ID cannot be your own ID",problemDomain:"friendID"}];if(e===l)return[2,{errorMessage:"Friend Email cannot be your own Email",problemDomain:"friendID"}];if(f=a.QuizModel.shared.friends.value.find(function(t){var n=c(t,2),r=n[0],i=n[1];return null!==r&&i===e}))return[2,{errorMessage:"".concat(u," ").concat(e," already exists as ").concat(f[0]),problemDomain:"friendID"}];if(""===t)return[2,{errorMessage:"Friend name cannot be empty",problemDomain:"friendName"}];if(a.QuizModel.shared.friends.value.map(function(e){return e[0]}).includes(t))return[2,{errorMessage:"Friend name already exists",problemDomain:"friendName"}];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.G.POST("/juxtastat/friend_request",{body:{requestee:e},params:{header:a.QuizModel.shared.userHeaders()}})];case 2:var h;if(p=(m=d.sent()).response,y=m.error,422===p.status)return[2,{errorMessage:"Invalid ".concat(u),problemDomain:"friendID"}];if(void 0!==y)return[2,{errorMessage:"Unknown Error",problemDomain:"other"}];return a.QuizModel.shared.friends.value=((function(e){if(Array.isArray(e))return o(e)})(h=a.QuizModel.shared.friends.value.filter(function(t){return c(t,2)[1]!==e}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||s(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([[t,e,Date.now()]]),[2,void 0];case 3:return d.sent(),[2,{errorMessage:"Network Error",problemDomain:"other"}];case 4:return[2]}})})()}}}]);
//# sourceMappingURL=327.js.map