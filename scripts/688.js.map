{"version":3,"file":"688.js","sources":["webpack://assets/./src/quiz/OauthCallbackPanel.tsx"],"sourcesContent":["import React, { ReactNode } from 'react'\n\nimport { ErrorBox } from '../ErrorBox'\nimport { PageData } from '../navigation/PageDescriptor'\nimport { useColors } from '../page_template/colors'\nimport { mixWithBackground } from '../utils/color'\n\nimport { AuthenticationStateMachine } from './AuthenticationStateMachine'\n\nexport function OauthCallbackPanel(props: Extract<PageData, { kind: 'oauthCallback' }>): ReactNode {\n    const colors = useColors()\n    const backgroundColor = mixWithBackground(props.result.success ? colors.hueColors.green : colors.hueColors.red, 0.5, colors.background)\n\n    const state = AuthenticationStateMachine.shared.useState()\n\n    return (\n        <ErrorBox color={backgroundColor}>\n            {props.result.success\n                ? (\n                        <>\n                            <h1>Signed In!</h1>\n                            <p>\n                                Sign in to your other devices\n                                { state.state === 'signedIn'\n                                    ? (\n                                            <>\n                                                {' with '}\n                                                <b>{state.email}</b>\n                                                {' '}\n                                            </>\n                                        )\n                                    : ' '}\n                                to sync your quiz progress.\n                            </p>\n                        </>\n                    )\n                : (\n                        <>\n                            <h1>Sign In Failed</h1>\n                            <p>\n                                Urban Stats encountered a problem when signing in.\n                                <br />\n                                <code>{props.result.error}</code>\n                            </p>\n                        </>\n                    )}\n            <button style={{ margin: '1em', padding: '0.5em 1em' }} onClick={() => { window.close() }}>\n                Close Window\n            </button>\n        </ErrorBox>\n    )\n}\n"],"names":["OauthCallbackPanel","props","colors","useColors","backgroundColor","mixWithBackground","state","AuthenticationStateMachine","ErrorBox","window"],"mappings":"4MASO,SAASA,EAAmBC,CAAmD,EAClF,IAAMC,EAASC,AAAAA,GAAAA,EAAAA,EAAAA,AAAAA,IACTC,EAAkBC,AAAAA,GAAAA,EAAAA,EAAAA,AAAAA,EAAkBJ,EAAM,MAAM,CAAC,OAAO,CAAGC,EAAO,SAAS,CAAC,KAAK,CAAGA,EAAO,SAAS,CAAC,GAAG,CAAE,GAAKA,EAAO,UAAU,EAEhII,EAAQC,EAAAA,0BAAAA,CAAAA,MAAAA,CAAAA,QAA0C,GAExD,OACI,gBAACC,EAAAA,CAAQA,CAAAA,CAAC,MAAOJ,C,EACZH,EAAM,MAAM,CAAC,OAAO,CAET,gCACI,gBAAC,UAAG,cACJ,gBAAC,SAAE,gCAEGK,AAAgB,aAAhBA,EAAM,KAAK,CAED,gCACK,SACD,gBAAC,SAAGA,EAAM,KAAK,EACd,KAGX,IAAI,gCAMlB,gCACI,gBAAC,UAAG,kBACJ,gBAAC,SAAE,qDAEC,gBAAC,WACD,gBAAC,YAAML,EAAM,MAAM,CAAC,KAAK,IAI7C,gBAAC,UAAO,MAAO,CAAE,OAAQ,MAAO,QAAS,WAAY,EAAG,QAAS,WAAQQ,OAAO,KAAK,EAAG,C,EAAG,gBAKvG,C"}