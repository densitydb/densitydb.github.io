{"version":3,"file":"61.js","sources":["webpack://assets/./src/dev/ScreenshotDiffViewerPanel.tsx","webpack://assets/./src/utils/useOrderedResolve.ts"],"sourcesContent":["import { Data64URIWriter, FileEntry, Reader, ZipReader } from '@zip.js/zip.js'\nimport React, { ReactNode, useContext, useEffect, useMemo } from 'react'\nimport { z } from 'zod'\n\nimport { Navigator } from '../navigation/Navigator'\nimport { LongLoad } from '../navigation/loading'\nimport { DefaultMap } from '../utils/DefaultMap'\nimport { useOrderedResolve } from '../utils/useOrderedResolve'\n\nexport function ScreenshotDiffViewerPanel({ hash, artifactId, index }: { hash: string, artifactId: string, index: number }): ReactNode {\n    const entriesPromise = useMemo(async () => {\n        const allEntries = await (zipReader(artifactId)).getEntries()\n        const fileEntries = allEntries.filter(e => !e.directory)\n        return fileEntries\n    }, [artifactId])\n\n    return (\n        <>\n            <style>\n                {`\n\n.wrapper {\n    container-type: size;\n    inset: 0;\n    position: absolute;\n}\n\n.container {\n    display: flex;\n    gap: 10px;\n}\n\n@container (aspect-ratio < 1) {\n    .container {\n        flex-direction: column;\n    }\n    \n    img {\n        max-height: 30vh;\n        max-width: 90vw;\n    }\n}\n\n@container (aspect-ratio >= 1) {\n    .container {\n        flex-direction: row;\n    }\n\n    img {\n        max-width: 30vw;\n        max-height: 90vh;\n    }\n}\n`}\n            </style>\n            <LazyNode node={entriesPromise.then(entries => <Entires hash={hash} entries={entries} index={index} artifactId={artifactId} />)} />\n        </>\n    )\n}\n\nfunction Entires({ hash, entries, index, artifactId }: { hash: string, entries: FileEntry[], index: number, artifactId: string }): ReactNode {\n    const changed = useMemo(() => entries\n        .map(entry => ({ entry, match: /changed_screenshots\\/([^\\/]+)\\/[^\\/]+\\/(.+)\\.png$/.exec(entry.filename) }))\n        .filter((item): item is { entry: FileEntry, match: RegExpExecArray } => item.match !== null)\n        .sort((a, b) => a.entry.filename.localeCompare(b.entry.filename))\n        .map(({ entry, match: [, test, file] }) => {\n            const delta = entries.find(e => e.filename === deltaPath(test, file))\n            return {\n                changed: imageFromEntry(entry),\n                delta: delta ? imageFromEntry(delta) : undefined,\n                test,\n                file,\n            }\n        }), [entries])\n\n    const navigator = useContext(Navigator.Context)\n\n    useEffect(() => {\n        const handleKeyDown = (event: KeyboardEvent): void => {\n            if (event.key === 'ArrowLeft') {\n                if (index > 0) {\n                    void navigator.navigate({ kind: 'screenshotDiffViewer', hash, artifactId, index: index - 1 }, { history: 'replace', scroll: { kind: 'position', top: 0 } })\n                }\n            }\n            else if (event.key === 'ArrowRight') {\n                if (index < changed.length - 1) {\n                    void navigator.navigate({ kind: 'screenshotDiffViewer', hash, artifactId, index: index + 1 }, { history: 'replace', scroll: { kind: 'position', top: 0 } })\n                }\n            }\n        }\n\n        window.addEventListener('keydown', handleKeyDown)\n        return () => { window.removeEventListener('keydown', handleKeyDown) }\n    }, [changed.length, navigator, artifactId, hash, index])\n\n    useEffect(() => {\n        const range = 2\n        changed.slice(Math.max(0, index - range), Math.min(changed.length, index + range + 1)).forEach((item) => {\n            item.changed.load()\n            item.delta?.load()\n        })\n    }, [changed, index])\n\n    if (changed.length === 0) {\n        return (\n            <div>\n                <h1>\n                    No Entries\n                </h1>\n            </div>\n        )\n    }\n\n    if (index >= changed.length || index < 0) {\n        return (\n            <div>\n                <h1>\n                    Out of Range\n                </h1>\n            </div>\n        )\n    }\n\n    return <Diff {...changed[index]} hash={hash} index={index} total={changed.length} />\n}\n\nfunction Diff({ test, file, hash, delta, changed, index, total }: { test: string, file: string, hash: string, changed: Delayed, delta?: Delayed, index: number, total: number }): ReactNode {\n    return (\n        <div className=\"wrapper\">\n            <div>\n                <h2>\n                    (\n                    {index + 1}\n                    {' '}\n                    /\n                    {' '}\n                    {total}\n                    )\n                    {' '}\n                    {test}\n                    {' '}\n                    /\n                    {' '}\n                    {file}\n                </h2>\n            </div>\n            <div className=\"container\">\n                {delta\n                    ? (\n                            <>\n                                <div>\n                                    <img src={githubImageUrl(hash, test, file)} />\n                                </div>\n                                <div>\n                                    <LazyNode node={delta.get} />\n                                </div>\n                            </>\n                        )\n                    : (\n                            <div>\n                                <h1>\n                                    New File\n                                </h1>\n                            </div>\n                        )}\n                <div>\n                    <LazyNode node={changed.get} />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction LazyNode({ node }: { node: Promise<ReactNode> }): ReactNode {\n    const { result, loading } = useOrderedResolve(node)\n\n    if (result === undefined || loading) {\n        return <LongLoad />\n    }\n    else {\n        return result\n    }\n}\n\nfunction getPAT(): string {\n    let result = localStorage.getItem('github-personal-access-token')\n    while (result === null) {\n        result = prompt('Github Personal Access Token')\n    }\n    localStorage.setItem('github-personal-access-token', result)\n    return result\n}\n\nfunction zipReader(artifactId: string): ZipReader<unknown> {\n    return new ZipReader(new CustomReader(artifactId))\n}\n\nclass CustomReader extends Reader<void> {\n    constructor(readonly artifactId: string) {\n        super()\n    }\n\n    override size = 0\n    url = ''\n\n    blockSize = 1_000_000\n\n    override async init(): Promise<void> {\n        await super.init?.()\n        const head = await fetch(`https://api.github.com/repos/kavigupta/urbanstats/actions/artifacts/${this.artifactId}/zip`, {\n            method: 'HEAD',\n            headers: {\n                Authorization: `Bearer ${getPAT()}`,\n            },\n        })\n        this.size = z.coerce.number().parse(head.headers.get('Content-Length'))\n        this.url = head.url\n    }\n\n    blocks = new DefaultMap<number, Promise<Uint8Array>>(async (blockIndex) => {\n        const start = blockIndex * this.blockSize\n        const end = Math.min(start + this.blockSize - 1, this.size - 1)\n        const response = await fetch(this.url, {\n            headers: {\n                Range: `bytes=${start}-${end}`,\n            },\n        })\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`)\n        }\n        return new Uint8Array(await response.arrayBuffer())\n    })\n\n    override async readUint8Array(index: number, length: number): Promise<Uint8Array> {\n        const result = new Uint8Array(length)\n        let resultOffset = 0\n\n        while (resultOffset < length) {\n            const currentIndex = index + resultOffset\n            const blockIndex = Math.floor(currentIndex / this.blockSize)\n            const blockOffset = currentIndex % this.blockSize\n\n            const block = await this.blocks.get(blockIndex)\n            const bytesToCopy = Math.min(length - resultOffset, this.blockSize - blockOffset, block.length - blockOffset)\n\n            result.set(block.slice(blockOffset, blockOffset + bytesToCopy), resultOffset)\n            resultOffset += bytesToCopy\n        }\n\n        return result\n    }\n}\n\nfunction deltaPath(test: string, file: string): string {\n    return `delta/${test}/Chrome/${file}.png`\n}\n\nfunction githubImageUrl(hash: string, test: string, file: string): string {\n    return encodeURI(`https://raw.githubusercontent.com/kavigupta/urbanstats/${hash}/reference_test_screenshots/${test}/Chrome/${file}.png`)\n}\n\ninterface Delayed { load: () => void, get: Promise<ReactNode> }\n\nfunction imageFromEntry(entry: FileEntry): Delayed {\n    let resolve: () => void\n    return {\n        load: () => {\n            resolve()\n        },\n        get: (async () => {\n            await new Promise<void>((r) => {\n                resolve = r\n            })\n            const writer = new Data64URIWriter('image/png')\n            await entry.getData(writer)\n            const imageStr = await writer.getData()\n            return <img src={imageStr} />\n        })(),\n    }\n}\n","import { useEffect, useState } from 'react'\n\nimport { TestUtils } from './TestUtils'\n\nexport interface ResolveState<T> {\n    promise: Promise<T>\n    result: T | undefined\n    loading: boolean\n}\n\nexport function useOrderedResolve<T>(promise: Promise<T>): ResolveState<T> {\n    const [state, setState] = useState<ResolveState<T>>({ promise, result: undefined, loading: true })\n\n    useEffect(() => {\n        setState(prevState => ({ promise, result: prevState.result, loading: true }))\n        TestUtils.shared.startLoading()\n        void promise.then(\n            (result) => {\n                setState(prevState => prevState.promise === promise ? ({ promise, result, loading: false }) : prevState)\n            },\n            () => {\n                setState(prevState => prevState.promise === promise ? ({ promise, result: undefined, loading: false }) : prevState)\n            },\n        ).finally(() => { void TestUtils.shared.finishLoading() })\n    }, [promise])\n\n    return state\n}\n"],"names":["ScreenshotDiffViewerPanel","param","hash","artifactId","index","entriesPromise","useMemo","zipReader","ZipReader","CustomReader","allEntries","e","LazyNode","entries","Entires","changed","entry","item","a","b","test","file","delta","imageFromEntry","undefined","navigator","useContext","Navigator","useEffect","handleKeyDown","event","window","Math","_item_delta","Diff","total","encodeURI","node","_useOrderedResolve","result","loading","LongLoad","DefaultMap","blockIndex","start","end","response","fetch","Error","Uint8Array","init","_super_init","head","getPAT","localStorage","prompt","z","readUint8Array","length","resultOffset","currentIndex","blockOffset","block","bytesToCopy","Reader","resolve","writer","imageStr","Promise","r","Data64URIWriter","useOrderedResolve","promise","_useState","state","setState","prevState","TestUtils"],"mappings":"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"}