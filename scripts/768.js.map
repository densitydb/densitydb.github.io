{"version":3,"file":"768.js","sources":["webpack://assets/./src/components/plots.css","webpack://assets/./src/components/table.css","webpack://assets/./src/components/Icon.tsx","webpack://assets/./src/components/editable-field.tsx","webpack://assets/./src/components/plots.css?871a","webpack://assets/./src/components/plots-general.tsx","webpack://assets/./src/components/plots-histogram.tsx","webpack://assets/./src/components/plots-timeseries.tsx","webpack://assets/./src/components/plots.tsx","webpack://assets/./src/components/table.css?1d6c","webpack://assets/./src/components/Modal.tsx","webpack://assets/./src/components/table.tsx","webpack://assets/./src/components/supertable.tsx","webpack://assets/./src/utils/transpose.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.histogram-svg-panel svg {\n    max-height: 100%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/plots.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;AACpB\",\"sourcesContent\":[\".histogram-svg-panel svg {\\n    max-height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.value_unit {\n    text-align: left;\n    padding-right: 1em;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/table.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;IAChB,kBAAkB;AACtB\",\"sourcesContent\":[\".value_unit {\\n    text-align: left;\\n    padding-right: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * This only uses the transparency of the icon image to display the specified color.\n */\n\nimport React, { CSSProperties, ReactNode } from 'react'\n\nexport function Icon({ size, color, src, style }: { size: string, color: string, src: string, style?: Partial<CSSProperties> }): ReactNode {\n    return (\n        <div style={{ backgroundColor: color, width: size, height: size, maskImage: `url(${src})`, maskRepeat: 'no-repeat', maskSize: 'contain', maskPosition: 'center', ...style }} />\n    )\n}\n","import React, { CSSProperties, ReactNode, useRef, useState, useEffect } from 'react'\nimport ContentEditable, { ContentEditableEvent } from 'react-contenteditable'\n\nexport function EditableString(props: { content: string, onNewContent: (content: string) => void, style: CSSProperties, inputMode: 'text' | 'decimal' }): ReactNode {\n    /*\n     * This code is weird because the `ContentEditable` needs to use refs.\n     * See https://www.npmjs.com/package/react-contenteditable\n     */\n    const contentEditable: React.Ref<HTMLElement> = useRef(null)\n    const html = useRef(props.content.toString())\n    // https://github.com/lovasoa/react-contenteditable/issues/161\n    const propsRef = useRef(props)\n    propsRef.current = props\n    const [, setCounter] = useState(0)\n\n    // Otherwise, this component can display the wrong number when props change\n    useEffect(() => {\n        html.current = props.content.toString()\n        setCounter(count => count + 1)\n    }, [props.content])\n\n    const handleChange = (evt: ContentEditableEvent): void => {\n        html.current = evt.target.value\n    }\n\n    const handleSubmit = (): void => {\n        const content = contentEditable.current!.innerText\n        if (content !== propsRef.current.content) {\n            propsRef.current.onNewContent(content)\n        }\n    }\n\n    const selectAll = (): void => {\n        setTimeout(() => {\n            const range = document.createRange()\n            range.selectNodeContents(contentEditable.current!)\n            const selection = window.getSelection()\n            selection?.removeAllRanges()\n            selection?.addRange(range)\n        }, 0)\n    }\n\n    return (\n        <ContentEditable\n            className=\"editable_content\"\n            style={props.style}\n            innerRef={contentEditable}\n            html={html.current}\n            disabled={false}\n            onChange={handleChange}\n            onKeyDown={(e: React.KeyboardEvent) => {\n                if (e.key === 'Enter') {\n                    handleSubmit()\n                    e.preventDefault()\n                }\n            }}\n            onBlur={handleSubmit}\n            tagName=\"span\" // Use a custom HTML tag (uses a div by default)\n            inputMode={props.inputMode}\n            onFocus={selectAll}\n        />\n    )\n}\n\nexport function EditableNumber(props: { number: number, onNewNumber: (number: number) => void }): ReactNode {\n    const onNewContent = (content: string): void => {\n        const number = parseInt(content)\n        if (!Number.isNaN(number) && number !== props.number) {\n            props.onNewNumber(number)\n        }\n    }\n    return (\n        <EditableString\n            content={props.number.toString()}\n            onNewContent={onNewContent}\n            style={{ minWidth: '2em', display: 'inline-block' }}\n            inputMode=\"decimal\"\n        />\n    )\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./plots.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./plots.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, useCallback, useEffect, useRef } from 'react'\n\nimport { useTranspose } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { useScreenshotMode } from './screenshot'\n\nimport './plots.css'\n\ninterface DetailedPlotSpec {\n    marks: Plot.Markish[]\n    xlabel: string\n    ylabel: string\n    ydomain?: [number, number]\n    legend?: { legend: boolean, range: string[], domain: string[] }\n}\n\nexport function PlotComponent(props: {\n    plotSpec: (transpose: boolean) => DetailedPlotSpec\n    settingsElement: (makePlot: () => HTMLElement) => ReactElement\n}): ReactElement {\n    const transpose = useTranspose()\n\n    const plotRef = useRef<HTMLDivElement>(null)\n\n    const plotSpec = props.plotSpec\n\n    const plotConfig = useCallback((transposeConfig: boolean): Plot.PlotOptions => {\n        const { marks, xlabel, ylabel, ydomain, legend } = plotSpec(transposeConfig)\n        const result: Plot.PlotOptions = {\n            marks,\n            x: {\n                label: xlabel,\n            },\n            y: {\n                label: ylabel,\n                domain: ydomain,\n            },\n            grid: false,\n            width: transposeConfig ? undefined : 1000,\n            height: transposeConfig ? 1000 : undefined,\n            style: {\n                fontSize: transposeConfig ? '2em' : '1em',\n                fontFamily: 'Jost, Arial, sans-serif',\n            },\n            marginTop: 80,\n            marginBottom: transposeConfig ? 80 : 40,\n            marginLeft: 80,\n            color: legend,\n        }\n        if (transposeConfig) {\n            result.x = {\n                label: ylabel,\n                domain: ydomain,\n            }\n            result.y = {\n                label: xlabel,\n                reverse: true,\n            }\n        }\n        return result\n    }, [plotSpec])\n\n    useEffect(() => {\n        if (plotRef.current) {\n            const plot = Plot.plot(plotConfig(transpose))\n            plotRef.current.innerHTML = ''\n            plotRef.current.appendChild(plot)\n        }\n    }, [props.plotSpec, transpose, plotConfig])\n\n    const screenshotMode = useScreenshotMode()\n\n    const transposeTopMargin = '35px'\n\n    // put a button panel in the top right corner\n    return (\n        <>\n            <div\n                className=\"histogram-svg-panel\" // tied to CSS\n                ref={plotRef}\n                style={\n                    {\n                        width: '100%',\n                        height: transpose ? `calc(100% - ${transposeTopMargin})` : undefined,\n                        position: transpose ? 'relative' : undefined,\n                        top: transpose ? transposeTopMargin : undefined,\n                    }\n                }\n            >\n            </div>\n            {screenshotMode\n                ? undefined\n                : (\n                        <div style={{ zIndex: zIndex.plotSettings, position: 'absolute', top: 0, right: 0, left: transpose ? 0 : undefined }}>\n                            {props.settingsElement(() => {\n                                const plot = Plot.plot(plotConfig(false))\n                                const div = document.createElement('div')\n                                div.style.width = '1000px'\n                                div.style.height = '500px'\n                                div.appendChild(plot)\n                                return div\n                            })}\n                        </div>\n                    )}\n        </>\n    )\n}\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, ReactNode, useCallback, useContext, useState } from 'react'\n\n// imort Observable plot\nimport { Navigator } from '../navigation/Navigator'\nimport { Colors } from '../page_template/color-themes'\nimport { useColors } from '../page_template/colors'\nimport { HistogramType, useSetting } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { assert } from '../utils/defensive'\nimport { IHistogram } from '../utils/protos'\nimport { useTranspose } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { PlotComponent } from './plots-general'\nimport { createScreenshot } from './screenshot'\nimport { SearchBox } from './search'\nimport { CheckboxSetting } from './sidebar'\n\nconst yPad = 0.025\n\nconst strokeDasharrays = ['1,0', '10,10', '2,5']\n\ninterface HistogramProps {\n    shortname: string\n    longname: string\n    histogram: IHistogram\n    color: string\n    universeTotal: number\n    subseriesName: string\n}\n\nfunction processHistogramType(histogramType: HistogramType, histograms: HistogramProps[]): HistogramType {\n    if (histogramType !== 'Bar') {\n        return histogramType\n    }\n    const subseriesNames = new Set<string>(histograms.map(h => h.subseriesName))\n    if (subseriesNames.size > 1) {\n        return 'Line'\n    }\n    return histogramType\n}\n\nexport function Histogram(props: { histograms: HistogramProps[], statDescription: string, sharedTypeOfAllArticles?: string }): ReactNode {\n    const [histogramTypeRaw] = useSetting('histogram_type')\n    const histogramType = processHistogramType(histogramTypeRaw, props.histograms)\n    const [useImperial] = useSetting('use_imperial')\n    const [relative] = useSetting('histogram_relative')\n    const binMin = props.histograms[0].histogram.binMin!\n    const binSize = props.histograms[0].histogram.binSize!\n    for (const histogram of props.histograms) {\n        if (histogram.histogram.binMin !== binMin || histogram.histogram.binSize !== binSize) {\n            throw new Error('histograms have different binMin or binSize')\n        }\n    }\n    const settingsElement = (makePlot: () => HTMLElement): ReactElement => (\n        <HistogramSettings makePlot={makePlot} shortnames={props.histograms.map(h => h.shortname)} longnames={props.histograms.map(h => h.longname)} sharedTypeOfAllArticles={props.sharedTypeOfAllArticles} />\n    )\n\n    const systemColors = useColors()\n\n    const plotSpec = useCallback(\n        (transpose: boolean) => {\n            const title = new Set(props.histograms.map(h => h.shortname)).size === 1 ? props.histograms[0].shortname : ''\n            const colors = props.histograms.map(h => h.color)\n            const shortnames = props.histograms.map(h => h.shortname)\n            const renderY = relative ? (y: number) => `${y.toFixed(2)}%` : (y: number) => renderNumberHighlyRounded(y, 2)\n\n            const [xIdxStart, xIdxEnd] = histogramBounds(props.histograms)\n            const xidxs = Array.from({ length: xIdxEnd - xIdxStart }, (_, i) => i + xIdxStart)\n            const [xAxisMarks, renderX] = xAxis(xidxs, binSize, binMin, useImperial, transpose)\n            const [marks, maxValue] = createHistogramMarks(props.histograms, xidxs, histogramType, relative, renderX, renderY, transpose, systemColors)\n            marks.push(\n                ...xAxisMarks,\n                ...yAxis(maxValue, transpose),\n            )\n            marks.push(Plot.text([title], { frameAnchor: 'top', dy: -40 }))\n            const xlabel = `${props.statDescription} (/${useImperial ? 'mi' : 'km'}²)`\n            const ylabel = relative ? '% of total' : 'Population'\n            const ydomain: [number, number] = [maxValue * (-yPad), maxValue * (1 + yPad)]\n            marks.push(...manualLegend(props.histograms, transpose, colors, shortnames, systemColors))\n            return { marks, xlabel, ylabel, ydomain }\n        },\n        [props.histograms, binMin, binSize, relative, histogramType, useImperial, systemColors, props.statDescription],\n    )\n\n    return (\n        <PlotComponent\n            plotSpec={plotSpec}\n            settingsElement={settingsElement}\n        />\n    )\n}\n\nfunction computeColorItems(shortnames: string[], colors: string[]): { label: string, color: string }[] {\n    const colorItems: { label: string, color: string }[] = []\n    for (let i = 0; i < shortnames.length; i++) {\n        // handles duplicate names by just putting them all in if they're different colors\n        const index = colorItems.findIndex(item => item.label === shortnames[i] && item.color === colors[i])\n        if (index === -1) {\n            colorItems.push({\n                label: shortnames[i],\n                color: colors[i],\n            })\n        }\n    }\n    if (colorItems.length <= 1) {\n        return []\n    }\n    return colorItems\n}\n\nfunction computeDashPatterns(histograms: HistogramProps[]): Map<string, { pattern: string, name: string }> {\n    const dashPatterns = new Map<string, { pattern: string, name: string }>()\n    const subseriesNames = new Set<string>()\n    histograms.forEach((histogram) => {\n        subseriesNames.add(histogram.subseriesName)\n    })\n    const subseriesNamesOrdered = Array.from(subseriesNames).sort()\n    assert(subseriesNamesOrdered.length <= strokeDasharrays.length, 'Too many subseries for dash patterns')\n    histograms.forEach((histogram) => {\n        const subId = subseriesNamesOrdered.indexOf(histogram.subseriesName)\n        if (!dashPatterns.has(histogram.subseriesName)) {\n            dashPatterns.set(histogram.subseriesName, {\n                pattern: strokeDasharrays[subseriesNamesOrdered.length - 1 - subId],\n                name: histogram.subseriesName,\n            })\n        }\n    })\n    return dashPatterns\n}\n\nfunction manualLegend(histograms: HistogramProps[], transpose: boolean, colors: string[], shortnames: string[], themeColors: Colors): Plot.Markish[] {\n    const colorItems = computeColorItems(shortnames, colors)\n\n    const dashPatterns = computeDashPatterns(histograms)\n\n    const dashPatternItems: { label: string, dashPattern: string }[] = []\n    if (dashPatterns.size > 1) {\n        const dashPatternsEnumerated = Array.from(dashPatterns.values()).sort((a, b) => a.name.localeCompare(b.name))\n        dashPatternsEnumerated.forEach(({ pattern, name }) => {\n            dashPatternItems.push({\n                label: name,\n                dashPattern: pattern,\n            })\n        })\n    }\n\n    const totalItems = colorItems.length + dashPatternItems.length\n    if (totalItems === 0) {\n        return []\n    }\n\n    const createLegend = (): SVGElement => {\n        const svgNS = 'http://www.w3.org/2000/svg'\n        const group = document.createElementNS(svgNS, 'g')\n        // Position on the left side, but offset enough to avoid the y-axis\n        const translateX = transpose ? 200 : 100\n        const translateY = 70\n        group.setAttribute('transform', `translate(${translateX} ${translateY})`)\n\n        const paddingX = 12\n        const paddingY = 10\n        const rowHeight = 22\n        const squareSize = 14\n        const lineLength = 36\n        const fontSize = 13\n        const textSpacing = 10\n\n        // Calculate width based on longest label\n        const allLabels = [...colorItems.map(item => item.label), ...dashPatternItems.map(item => item.label)]\n        let maxTextWidth = 0\n        if (allLabels.length > 0) {\n            // Use canvas to measure text width accurately\n            const canvas = document.createElement('canvas')\n            const context = canvas.getContext('2d')\n            if (context) {\n                context.font = `${fontSize}px serif`\n                allLabels.forEach((label) => {\n                    const textWidth = context.measureText(label).width\n                    if (textWidth > maxTextWidth) {\n                        maxTextWidth = textWidth\n                    }\n                })\n            }\n        }\n\n        // Width = paddingX (left) + max(squareSize/lineLength) + textSpacing + textWidth + paddingX (right)\n        const maxSymbolWidth = Math.max(squareSize, lineLength)\n        const width = paddingX + maxSymbolWidth + textSpacing + maxTextWidth + paddingX\n        const height = paddingY * 2 + rowHeight * totalItems\n\n        const background = document.createElementNS(svgNS, 'rect')\n        background.setAttribute('width', String(width))\n        background.setAttribute('height', String(height))\n        background.setAttribute('rx', '6')\n        background.setAttribute('fill', themeColors.slightlyDifferentBackground)\n        background.setAttribute('stroke', themeColors.borderNonShadow)\n        group.appendChild(background)\n\n        let rowIndex = 0\n\n        // Render color squares\n        colorItems.forEach((item) => {\n            const row = document.createElementNS(svgNS, 'g')\n            row.setAttribute('transform', `translate(${paddingX} ${paddingY + rowHeight * rowIndex})`)\n\n            const centerY = rowHeight / 2\n            const square = document.createElementNS(svgNS, 'rect')\n            square.setAttribute('x', '0')\n            square.setAttribute('y', String(centerY - squareSize / 2))\n            square.setAttribute('width', String(squareSize))\n            square.setAttribute('height', String(squareSize))\n            square.setAttribute('fill', item.color)\n            row.appendChild(square)\n\n            const text = document.createElementNS(svgNS, 'text')\n            text.setAttribute('x', String(squareSize + 10))\n            text.setAttribute('y', String(centerY))\n            text.setAttribute('font-size', `${fontSize}px`)\n            text.setAttribute('fill', themeColors.textMain)\n            text.setAttribute('dominant-baseline', 'middle')\n            text.setAttribute('text-anchor', 'start')\n            text.textContent = item.label\n            row.appendChild(text)\n\n            group.appendChild(row)\n            rowIndex++\n        })\n\n        // Render dash pattern lines\n        dashPatternItems.forEach((item) => {\n            const row = document.createElementNS(svgNS, 'g')\n            row.setAttribute('transform', `translate(${paddingX} ${paddingY + rowHeight * rowIndex})`)\n\n            const centerY = rowHeight / 2\n            const line = document.createElementNS(svgNS, 'line')\n            line.setAttribute('x1', '0')\n            line.setAttribute('x2', String(lineLength))\n            line.setAttribute('y1', String(centerY))\n            line.setAttribute('y2', String(centerY))\n            line.setAttribute('stroke', themeColors.textMain)\n            line.setAttribute('stroke-width', '3')\n            if (item.dashPattern !== '1,0') {\n                line.setAttribute('stroke-dasharray', item.dashPattern)\n            }\n            row.appendChild(line)\n\n            const text = document.createElementNS(svgNS, 'text')\n            text.setAttribute('x', String(lineLength + 10))\n            text.setAttribute('y', String(centerY))\n            text.setAttribute('font-size', `${fontSize}px`)\n            text.setAttribute('fill', themeColors.textMain)\n            text.setAttribute('dominant-baseline', 'middle')\n            text.setAttribute('text-anchor', 'start')\n            text.textContent = item.label\n            row.appendChild(text)\n\n            group.appendChild(row)\n            rowIndex++\n        })\n\n        return group\n    }\n\n    return [createLegend]\n}\n\nexport const transposeSettingsHeight = 30.5\n\nfunction HistogramSettings(props: {\n    shortnames: string[]\n    longnames: string[]\n    makePlot: () => HTMLElement\n    sharedTypeOfAllArticles?: string\n}): ReactNode {\n    const universe = useUniverse()\n    const [histogramType, setHistogramType] = useSetting('histogram_type')\n    const colors = useColors()\n    const transpose = useTranspose()\n    const navContext = useContext(Navigator.Context)\n    const [showSearchBox, setShowSearchBox] = useState(false)\n\n    // dropdown for histogram type\n    return (\n        <div\n            className=\"serif\"\n            style={{\n                backgroundColor: transpose ? undefined : colors.background,\n                padding: transpose ? undefined : '0.5em',\n                border: transpose ? undefined : `1px solid ${colors.textMain}`,\n                display: 'flex',\n                gap: '0.5em',\n                height: transpose ? `${transposeSettingsHeight}px` : undefined,\n                alignItems: transpose ? 'center' : undefined,\n                justifyContent: transpose ? 'center' : undefined,\n                position: 'relative',\n            }}\n        >\n            <img\n                src=\"/download.png\"\n                onClick={async () => {\n                    const plot = props.makePlot()\n                    document.body.appendChild(plot)\n                    const uniqueShortnames = deduplicate(props.shortnames)\n                    await createScreenshot(\n                        {\n                            path: `${uniqueShortnames.join('_')}_histogram`,\n                            overallWidth: plot.offsetWidth * 2,\n                            elementsToRender: [plot],\n                            heightMultiplier: 1.2,\n                        },\n                        universe,\n                        colors,\n                    )\n                    plot.remove()\n                }}\n                width=\"20\"\n                height=\"20\"\n            />\n            <div style={{ position: 'relative' }}>\n                <img\n                    src=\"/add.png\"\n                    onClick={() => { setShowSearchBox(!showSearchBox) }}\n                    width=\"20\"\n                    height=\"20\"\n                    style={{ cursor: 'pointer' }}\n                />\n                {showSearchBox && (\n                    <div\n                        style={{\n                            position: 'absolute',\n                            top: '25px',\n                            left: '0px',\n                            backgroundColor: colors.background,\n                            border: `1px solid ${colors.textMain}`,\n                            borderRadius: '4px',\n                            padding: '0.5em',\n                            zIndex: zIndex.plotSettings,\n                            minWidth: '200px',\n                        }}\n                    >\n                        <SearchBox\n                            style={{ width: '100%' }}\n                            placeholder=\"Add region...\"\n                            autoFocus={true}\n                            prioritizeArticleType={props.sharedTypeOfAllArticles}\n                            onChange={() => {\n                                setShowSearchBox(false)\n                            }}\n                            link={(regionName) => {\n                                return navContext.link({\n                                    kind: 'comparison',\n                                    universe: navContext.universe!,\n                                    longnames: [...deduplicate(props.longnames), regionName],\n                                }, { scroll: { kind: 'none' } })\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n            <select\n                value={histogramType}\n                style={{ backgroundColor: colors.background, color: colors.textMain }}\n                onChange={(e) => { setHistogramType(e.target.value as HistogramType) }}\n                className=\"serif\"\n                data-test-id=\"histogram_type\"\n            >\n                <option value=\"Line\">Line</option>\n                <option value=\"Line (cumulative)\">Line (cumulative)</option>\n                <option value=\"Bar\">Bar</option>\n            </select>\n            <CheckboxSetting name={transpose ? 'Relative' : 'Relative Histograms'} settingKey=\"histogram_relative\" testId=\"histogram_relative\" />\n        </div>\n    )\n}\n\nfunction deduplicate(arr: string[]): string[] {\n    return Array.from(new Set(arr))\n}\n\nfunction histogramBounds(histograms: HistogramProps[]): [number, number] {\n    let xIdxEnd = Math.max(...histograms.map(histogram => histogram.histogram.counts!.length))\n    xIdxEnd += 1\n    const zerosAtFront = (arr: number[]): number => {\n        let i = 0\n        while (i < arr.length && arr[i] === 0) {\n            i++\n        }\n        return i\n    }\n    let xIdxStart = Math.min(...histograms.map(histogram => zerosAtFront(histogram.histogram.counts!)))\n\n    if (xIdxStart > 0) {\n        xIdxStart--\n    }\n\n    // round x_idx_start down to the nearest number which, when divided by 10, has a remainder of 0, 3, or 7\n\n    while (xIdxStart % 10 !== 0 && xIdxStart % 10 !== 3 && xIdxStart % 10 !== 7) {\n        xIdxStart--\n    }\n\n    // same for x_idx_end\n    while (xIdxEnd % 10 !== 0 && xIdxEnd % 10 !== 3 && xIdxEnd % 10 !== 7) {\n        xIdxEnd++\n    }\n\n    return [xIdxStart, xIdxEnd]\n}\n\ninterface Series {\n    values: { name: string, xidx: number, y: number }[]\n    color: string\n    subseriesName: string\n}\n\nfunction mulitipleSeriesConsistentLength(histograms: HistogramProps[], xidxs: number[], relative: boolean, isCumulative: boolean): Series[] {\n    // Create a list of series, each with the same length\n    const sum = (arr: number[]): number => arr.reduce((a, b) => a + b, 0)\n    const sumEach = histograms.map(histogram => sum(histogram.histogram.counts!))\n    const series = histograms.map((histogram, histogramIdx) => {\n        const counts = [...histogram.histogram.counts!]\n        const afterVal = 0\n        if (isCumulative) {\n            for (let i = counts.length - 2; i >= 0; i--) {\n                counts[i] += counts[i + 1]\n            }\n        }\n        return {\n            values: xidxs.map(xidx => ({\n                name: histogram.shortname,\n                xidx,\n                y: (\n                    xidx >= counts.length\n                        ? afterVal\n                        : counts[xidx] / sumEach[histogramIdx]\n                ) * (relative ? 100 : histogram.universeTotal),\n            })),\n            color: histogram.color,\n            subseriesName: histogram.subseriesName,\n        }\n    })\n    return series\n}\n\nfunction dovetailSequences(series: { values: { xidx: number, y: number, name: string }[], color: string }[]): { xidxLeft: number, xidxRight: number, y: number, color: string }[] {\n    const seriesSingle: { xidxLeft: number, xidxRight: number, y: number, color: string }[] = []\n    for (let i = 0; i < series.length; i++) {\n        const s = series[i]\n        const width = 1 / (series.length) * 0.8\n        const off = (i - (series.length - 1) / 2) * width\n        seriesSingle.push(...s.values\n            .map(v => ({\n                xidxLeft: v.xidx + off, xidxRight: v.xidx + off + width,\n                y: v.y, color: s.color, name: v.name,\n            })),\n        )\n    }\n    return seriesSingle\n}\n\nfunction maxSequences(series: { values: { xidx: number, y: number, name: string }[] }[]): { xidx: number, y: number, names: string[], ys: number[] }[] {\n    const seriesMax: { xidx: number, y: number, names: string[], ys: number[] }[] = []\n    for (let i = 0; i < series[0].values.length; i++) {\n        seriesMax.push({\n            xidx: series[0].values[i].xidx,\n            y: Math.max(...series.map(s => s.values[i].y)),\n            names: series.map(s => s.values[i].name),\n            ys: series.map(s => s.values[i].y),\n        })\n    }\n    return seriesMax\n}\n\nfunction xAxis(xidxs: number[], binSize: number, binMin: number, useImperial: boolean, transpose: boolean): [Plot.Markish[], (x: number) => string] {\n    const xKeypoints: number[] = []\n    for (const xidx of xidxs) {\n        let lastDigit = xidx % 10\n        if (useImperial) {\n            lastDigit = (lastDigit + 4) % 10\n        }\n        if (lastDigit === 0 || lastDigit === 3 || lastDigit === 7) {\n            xKeypoints.push(xidx)\n        }\n    }\n    const adjustment = useImperial ? Math.log10(1.60934) * 2 : 0\n\n    let axis = Plot.axisX\n    let grid = Plot.gridX\n    if (transpose) {\n        axis = Plot.axisY\n        grid = Plot.gridY\n    }\n    return [\n        [\n            axis(xKeypoints, { tickFormat: d => renderPow10(d * binSize + binMin + adjustment) }),\n            grid(xKeypoints),\n        ],\n        x => `${renderNumberHighlyRounded(Math.pow(10, x * binSize + binMin + adjustment), 2)}/${useImperial ? 'mi' : 'km'}²`,\n    ]\n}\n\nfunction yAxis(maxValue: number, transpose: boolean): (Plot.CompoundMark | Plot.RuleY)[] {\n    const minNYTicks = 5\n    const idealTickGap = maxValue / minNYTicks\n    const log10TickGapTimes3 = Math.floor(Math.log10(idealTickGap) * 3)\n    const tickGapOom = Math.pow(10, Math.floor(log10TickGapTimes3 / 3))\n    const tickGapMantissa = log10TickGapTimes3 % 3 === 0 ? 1 : log10TickGapTimes3 % 3 === 1 ? 2 : 5\n    const tickGap = tickGapMantissa * tickGapOom\n    const maxValueRounded = Math.ceil(maxValue / tickGap) * tickGap\n    const yKeypoints = Array.from({ length: Math.floor(maxValueRounded / tickGap) + 1 }, (_, i) => i * tickGap)\n        .filter((_, i) => !transpose || i % 2 === 0) // If transpose, remove every other keypoint\n\n    let axis = Plot.axisY\n    let grid = Plot.gridY\n    if (transpose) {\n        axis = Plot.axisX\n        grid = Plot.gridX\n    }\n\n    return [\n        axis(yKeypoints, { tickFormat: (d: number) => renderNumberHighlyRounded(d, 1) }),\n        grid(yKeypoints),\n    ]\n}\n\nfunction pow10Moral(x: number): number {\n    // 10 ** x, but \"morally\" so, i.e., 10 ** 0.3 = 2\n    if (x < 0) {\n        return 1 / pow10Moral(-x)\n    }\n    if (x >= 1) {\n        return 10 ** Math.floor(x) * pow10Moral(x - Math.floor(x))\n    }\n    const x10 = x * 10\n    const errorRound = Math.abs(x10 - Math.round(x10))\n    if (errorRound > 0.2) {\n        return 10 ** x\n    }\n    if (Math.round(x10) === 0) {\n        return 1\n    }\n    if (Math.round(x10) === 3) {\n        return 2\n    }\n    if (Math.round(x10) === 7) {\n        return 5\n    }\n    return 10 ** x\n}\n\nfunction renderPow10(x: number): string {\n    const p10 = pow10Moral(x)\n\n    return renderNumberHighlyRounded(p10)\n}\n\nfunction renderNumberHighlyRounded(x: number, places = 0): string {\n    if (x < 1000) {\n        return x.toFixed(0)\n    }\n    if (x < 1e6) {\n        return `${(x / 1e3).toFixed(places)}k`\n    }\n    if (x < 1e9) {\n        return `${(x / 1e6).toFixed(places)}M`\n    }\n    if (x < 1e12) {\n        return `${(x / 1e9).toFixed(places)}B`\n    }\n    return x.toExponential(1)\n}\n\nfunction createHistogramMarks(\n    histograms: HistogramProps[], xidxs: number[],\n    histogramType: HistogramType, relative: boolean,\n    renderX: (x: number) => string,\n    renderY: (y: number) => string,\n    transpose: boolean,\n    colors: Colors,\n): [Plot.Markish[], number] {\n    const series = mulitipleSeriesConsistentLength(histograms, xidxs, relative, histogramType === 'Line (cumulative)')\n    const seriesSingle = dovetailSequences(series)\n\n    const maxValue = Math.max(...series.map(s => Math.max(...s.values.map(v => v.y))))\n    const tip = Plot.tip(\n        maxSequences(series),\n        (transpose ? Plot.pointerY : Plot.pointerX)({\n            x: transpose ? 'y' : 'xidx',\n            y: transpose ? 'xidx' : 'y',\n            title: (d: { names: string[], xidx: number, ys: number[] }) => {\n                let result = `Density: ${renderX(d.xidx)}\\n`\n                if (d.names.length > 1) {\n                    result += d.names.map((name: string, i: number) => `${name}: ${renderY(d.ys[i])}`).join('\\n')\n                }\n                else {\n                    result += `Frequency: ${renderY(d.ys[0])}`\n                }\n                return result\n            },\n            fill: colors.slightlyDifferentBackground,\n            stroke: colors.borderNonShadow,\n            textColor: colors.textMain,\n        }),\n    )\n    const marks: Plot.Markish[] = []\n    if (histogramType === 'Line' || histogramType === 'Line (cumulative)') {\n        const dashPatterns = computeDashPatterns(histograms)\n        marks.push(\n            ...series.map((s) => {\n                const strokeDasharray = dashPatterns.size > 1 ? dashPatterns.get(s.subseriesName)?.pattern : undefined\n                return Plot.line(s.values, {\n                    x: transpose ? 'y' : 'xidx', y: transpose ? 'xidx' : 'y', stroke: s.color,\n                    strokeWidth: strokeDasharray !== undefined ? 2 : 4,\n                    strokeDasharray,\n                })\n            }),\n        )\n    }\n    else {\n        marks.push(\n            (transpose\n                ? Plot.rectX(seriesSingle, {\n                    y1: 'xidxLeft',\n                    y2: 'xidxRight',\n                    x: 'y',\n                    fill: 'color',\n                })\n                : Plot.rectY(seriesSingle, {\n                    x1: 'xidxLeft',\n                    x2: 'xidxRight',\n                    y: 'y',\n                    fill: 'color',\n                })),\n        )\n    }\n    marks.push(tip)\n    return [marks, maxValue]\n}\n","import * as Plot from '@observablehq/plot'\nimport React, { ReactElement, ReactNode, useMemo } from 'react'\n\n// imort Observable plot\n\nimport { TimeSeriesExtraStat } from './load-article'\nimport { PlotComponent } from './plots-general'\n\nexport interface TimeSeriesPlotProps {\n    stat: TimeSeriesExtraStat\n    color: string\n    shortname: string\n}\n\nexport function TimeSeriesPlot(props: { stats: TimeSeriesPlotProps[] }): ReactNode {\n    // TODO this is largely unfinished. We need to make several improvements to this component\n    // for it to be production-ready.\n    // Including working with transposed comparisons\n    const settingsElement = (): ReactElement => <div></div>\n\n    const plotSpec = useMemo(\n        () => {\n            const marks = props.stats.map((stat) => {\n                const x = stat.stat.years\n                const y = stat.stat.timeSeries\n                return Plot.line(\n                    x.map((xval, i) => [xval, y[i]]),\n                    { stroke: stat.color, strokeWidth: 2 },\n                ) as Plot.Markish\n            })\n            marks.push(\n                Plot.axisX({\n                    label: 'Year',\n                    tickFormat: (d: number) => d.toString(),\n                }),\n            )\n            const xlabel = 'Year'\n            const ylabel = props.stats[0].stat.name\n            const ydomain = undefined\n            const legend = { legend: true, range: props.stats.map(stat => stat.color), domain: props.stats.map(stat => stat.shortname) }\n            return { marks, xlabel, ylabel, ydomain, legend }\n        },\n        [props.stats],\n    )\n\n    return (\n        <PlotComponent\n            plotSpec={() => plotSpec}\n            settingsElement={settingsElement}\n        />\n    )\n}\n","import React, { ReactNode } from 'react'\n\nimport { ExtraStat } from './load-article'\nimport { Histogram, transposeSettingsHeight } from './plots-histogram'\nimport { TimeSeriesPlot } from './plots-timeseries'\n\nexport interface PlotProps {\n    shortname: string\n    longname: string\n    extraStat?: ExtraStat\n    color: string\n    sharedTypeOfAllArticles?: string\n    subseriesName: string\n}\n\nexport function RenderedPlot({ statDescription, plotProps }: { statDescription: string, plotProps: PlotProps[] }): ReactNode {\n    const type = plotProps.reduce<undefined | 'histogram' | 'time_series'>((result, plot) => {\n        if (result === undefined) {\n            return plot.extraStat?.type\n        }\n        else if (plot.extraStat?.type !== undefined && plot.extraStat.type !== result) {\n            throw new Error('Rendering plots of differing types')\n        }\n        return result\n    }, undefined)\n    switch (type) {\n        case 'histogram':\n            return (\n                <Histogram\n                    statDescription={statDescription}\n                    histograms={plotProps.flatMap(\n                        (props) => {\n                            if (props.extraStat?.type !== 'histogram') {\n                                return []\n                            }\n                            return [\n                                {\n                                    shortname: props.shortname,\n                                    longname: props.longname,\n                                    histogram: props.extraStat,\n                                    color: props.color,\n                                    universeTotal: props.extraStat.universeTotal,\n                                    subseriesName: props.subseriesName,\n                                },\n                            ]\n                        },\n                    )}\n                    sharedTypeOfAllArticles={plotProps[0]?.sharedTypeOfAllArticles}\n                />\n            )\n        case 'time_series':\n            return (\n                <TimeSeriesPlot\n                    stats={plotProps.map(\n                        (props) => {\n                            if (props.extraStat?.type !== 'time_series') {\n                                throw new Error('expected time_series')\n                            }\n                            return {\n                                shortname: props.shortname,\n                                stat: props.extraStat,\n                                color: props.color,\n                            }\n                        },\n                    )}\n                />\n            )\n        case undefined:\n            return null\n    }\n}\n\nexport function extraHeaderSpaceForVertical(spec: PlotProps): number {\n    switch (spec.extraStat?.type) {\n        case 'histogram':\n            return transposeSettingsHeight\n        case 'time_series':\n            return 0\n        case undefined:\n            return 0\n    }\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./table.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./table.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { ReactNode } from 'react'\n\nimport { useColors } from '../page_template/colors'\nimport { useMobileLayout } from '../utils/responsive'\nimport { zIndex } from '../utils/zIndex'\n\nimport { useSidebarFontSize } from './sidebar'\n\nexport function Modal({ children, onClose, isOpen }: { children: ReactNode, onClose: () => void, isOpen: boolean }): ReactNode {\n    const colors = useColors()\n    const isMobileLayout = useMobileLayout()\n    const fontSize = useSidebarFontSize()\n\n    if (!isOpen) {\n        return null\n    }\n\n    return (\n        <div\n            className={isMobileLayout ? 'sidebar_mobile' : ''}\n            style={{ position: 'fixed', backgroundColor: `${colors.background}aa`, zIndex: zIndex.modal, inset: 0 }}\n            data-test-id=\"modal-background\"\n        >\n            <button style={{ position: 'absolute', top: 20, right: 35, fontSize }} onClick={onClose}>Done</button>\n            <style>{'body { overflow: hidden; }'}</style>\n            <div style={{\n                position: 'absolute',\n                inset: '10px',\n                height: 'fit-content',\n                maxHeight: 'calc(100% - 85px)',\n                margin: 'auto',\n                backgroundColor: colors.background,\n                padding: '20px',\n                borderRadius: 10,\n                marginTop: 70,\n                overflowY: 'scroll',\n                border: `1px solid ${colors.borderNonShadow}`,\n            }}\n            >\n                {children}\n            </div>\n        </div>\n    )\n}\n","import { useSortable } from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport React, { CSSProperties, ReactNode, useContext, useEffect, useRef, useState } from 'react'\n\nimport { ArticleOrderingListInternal, loadOrdering } from '../load_json'\nimport './table.css'\nimport { Navigator } from '../navigation/Navigator'\nimport { statisticDescriptor } from '../navigation/links'\nimport { Colors } from '../page_template/color-themes'\nimport { colorFromCycle, useColors } from '../page_template/colors'\nimport { MobileArticlePointers, rowExpandedKey, useSetting, useSettings } from '../page_template/settings'\nimport { useUniverse } from '../universe'\nimport { assert } from '../utils/defensive'\nimport { useComparisonHeadStyle, useMobileLayout } from '../utils/responsive'\nimport { isAllowedToBeShown } from '../utils/restricted-types'\nimport { displayType } from '../utils/text'\nimport { useTranspose } from '../utils/transpose'\nimport { zIndex } from '../utils/zIndex'\n\nimport { Icon } from './Icon'\nimport { Modal } from './Modal'\nimport { Percentile, percentileText, Statistic } from './display-stats'\nimport { EditableNumber } from './editable-field'\nimport { ArticleRow, Disclaimer, FirstLastStatus, StatisticCellRenderingInfo } from './load-article'\nimport { PointerArrow, useSinglePointerCell } from './pointer-cell'\nimport { useScreenshotMode } from './screenshot'\nimport { SearchBox } from './search'\nimport { MaybeStagingControlsSidebarSection, SettingsSidebarSection, SidebarForStatisticChoice, useSidebarFontSize, useSidebarSectionContentClassName } from './sidebar'\nimport { Cell, CellSpec, ComparisonLongnameCellProps, StatisticPanelLongnameCellProps, TopLeftHeaderProps, StatisticNameCellProps } from './supertable'\n\nexport type ColumnIdentifier = 'statval' | 'statval_unit' | 'statistic_percentile' | 'statistic_ordinal' | 'pointer_in_class' | 'pointer_overall'\n\nexport const leftBarMargin = 0.02\n\nconst tableRowStyle: React.CSSProperties = {\n    display: 'flex',\n    flexDirection: 'row',\n}\n\nexport function TableHeaderContainer({ children }: { children: ReactNode }): ReactNode {\n    const colors = useColors()\n\n    const style = {\n        ...tableRowStyle,\n        borderTop: `1pt solid ${colors.textMain}`,\n        borderBottom: `1pt solid ${colors.textMain}`,\n        fontWeight: 500,\n        alignItems: 'center',\n    }\n    return (\n        <div\n            style={style}\n        >\n            {children}\n        </div>\n    )\n}\n\nexport interface CommonLayoutInformation {\n    percentileColumnWidthEm: number\n    ordinalColumnWidthEm: number\n    ordinalColumnPadding: number\n}\n\ninterface ColumnLayoutProps {\n    cells: {\n        columnIdentifier: ColumnIdentifier\n        widthPercentage: number\n        content: ReactNode\n        style: CSSProperties\n    }[]\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    totalWidth: number\n}\n\n// Lays out column content\nexport function ColumnLayout(props: ColumnLayoutProps): JSX.Element[] {\n    const cellPercentages: number[] = []\n    const cellContents = []\n    for (const { widthPercentage, columnIdentifier, content, style } of props.cells) {\n        if (props.onlyColumns && !props.onlyColumns.includes(columnIdentifier)) {\n            continue\n        }\n        cellPercentages.push(widthPercentage)\n        if (props.blankColumns?.includes(columnIdentifier)) {\n            cellContents.push({ content: <span></span>, style })\n        }\n        else {\n            cellContents.push({ content, style })\n        }\n    }\n\n    // normalize cell percentages\n    const sum = cellPercentages.reduce((a, b) => a + b, 0)\n    for (const i of cellPercentages.keys()) {\n        cellPercentages[i] = props.totalWidth * cellPercentages[i] / sum\n    }\n\n    const contents = cellContents.map(\n        ({ content, style }, i) => {\n            const sty: React.CSSProperties = { width: `${cellPercentages[i]}%`, padding: '1px', ...style }\n            return (\n                <div key={i} style={sty}>\n                    {content}\n                </div>\n            )\n        },\n    )\n    return contents\n}\n\nexport interface SuperHeaderHorizontalProps {\n    headerSpecs: (CellSpec & { highlightIndex?: number })[]\n    widthsEach: number[]\n    showBottomBar: boolean\n    leftSpacerWidth: number\n    groupNames?: (string | undefined)[]\n}\n\nexport function SuperHeaderHorizontal(props: SuperHeaderHorizontalProps): ReactNode {\n    const colors = useColors()\n    const barHeight = '5px'\n    const bars = (backgroundColor: (i: number) => string | undefined): ReactNode => {\n        return (\n            <div style={{ display: 'flex' }}>\n                <div style={{ width: `${props.leftSpacerWidth}%`, height: barHeight }} />\n                {Array.from({ length: props.headerSpecs.length }).map(\n                    (_, i) => (\n                        <div\n                            key={`bar_${i}`}\n                            style={{\n                                width: `${props.widthsEach[i]}%`,\n                                height: barHeight,\n                                backgroundColor: backgroundColor(i),\n                            }}\n                        />\n                    ),\n                )}\n            </div>\n        )\n    }\n\n    const getBarColor = (idx: number): string | undefined => {\n        const spec = props.headerSpecs[idx]\n        return spec.highlightIndex !== undefined ? colorFromCycle(colors.hueColors, spec.highlightIndex) : undefined\n    }\n    return (\n        <>\n            {props.groupNames && <SuperHeaderGroupNames leftSpacerWidth={props.leftSpacerWidth} groupNames={props.groupNames} widthsEach={props.widthsEach} />}\n            {bars(getBarColor)}\n            <div style={{ display: 'flex' }}>\n                <div style={{ width: `${props.leftSpacerWidth}%` }} />\n                {props.headerSpecs.map((cellSpec, idx) => <Cell key={idx} {...cellSpec} width={props.widthsEach[idx]} />)}\n            </div>\n            {props.showBottomBar && bars(getBarColor)}\n        </>\n    )\n}\n\nexport function SuperHeaderGroupNames(props: { leftSpacerWidth: number, groupNames: (string | undefined)[], widthsEach: number[] }): ReactNode {\n    if (props.groupNames.every(groupName => groupName === undefined)) {\n        return null\n    }\n    const sizes = []\n    const names: (string | undefined)[] = []\n    for (const [idx, groupName] of props.groupNames.entries()) {\n        if (idx === 0 || groupName !== props.groupNames[idx - 1]) {\n            sizes.push(props.widthsEach[idx])\n            names.push(groupName)\n        }\n        else {\n            sizes[sizes.length - 1] += props.widthsEach[idx]\n        }\n    }\n\n    return (\n        <div style={{ display: 'flex' }} className=\"serif value\">\n            <div style={{ width: `${props.leftSpacerWidth}%` }} />\n            {sizes.map((size, idx) => <div key={idx} style={{ width: `${size}%`, textAlign: 'center' }}>{names[idx]}</div>)}\n        </div>\n    )\n}\n\nexport function ComparisonTopLeftHeader(props: TopLeftHeaderProps & { width: number }): ReactNode {\n    return (\n        <>\n            <ComparisonColorBar key=\"color\" highlightIndex={undefined} />\n            <TopLeftHeader {...props} width={props.width - leftBarMargin * 100} />\n        </>\n    )\n}\n\nexport function TopLeftHeader(props: TopLeftHeaderProps & { width: number }): ReactNode {\n    const isMobileLayout = useMobileLayout()\n    const isScreenshot = useScreenshotMode()\n    const isTranspose = useTranspose()\n\n    const [statsModalOpen, setStatsModalOpen] = useState(false)\n\n    const canHaveStatsModal = isMobileLayout && !isScreenshot && !isTranspose\n\n    useEffect(() => {\n        if (!canHaveStatsModal && statsModalOpen) {\n            setStatsModalOpen(false)\n        }\n    }, [canHaveStatsModal, statsModalOpen])\n\n    const sidebarSectionContent = useSidebarSectionContentClassName()\n\n    return (\n        <>\n            <div style={{ textAlign: 'center', display: 'flex', justifyContent: 'center', padding: '1px', width: `${props.width}%` }}>\n                {canHaveStatsModal\n                    ? (\n                            <button className=\"serif value\" style={{ padding: '2px 10px' }} onClick={() => { setStatsModalOpen(true) }}>\n                                {props.statNameOverride ?? 'Statistic'}\n                            </button>\n                        )\n                    : (\n                            <span className=\"serif value\">\n                                {props.statNameOverride ?? 'Statistic'}\n                            </span>\n                        )}\n            </div>\n            <Modal isOpen={statsModalOpen} onClose={() => { setStatsModalOpen(false) }}>\n                <ul className={sidebarSectionContent} style={{ fontSize: useSidebarFontSize() }}>\n                    <MaybeStagingControlsSidebarSection />\n                    <SidebarForStatisticChoice />\n                    <SettingsSidebarSection />\n                </ul>\n            </Modal>\n        </>\n    )\n}\n\nexport function MainHeaderRow(props: {\n    topLeftSpec: CellSpec\n    topLeftWidth: number\n    columnWidth: number\n    onlyColumns: ColumnIdentifier[]\n    statNameOverride?: string\n    extraSpaceRight: number[]\n    simpleOrdinals: boolean\n    columnWidthsInfo: (CommonLayoutInformation | undefined)[]\n}): ReactNode {\n    return (\n        <>\n            <Cell {...props.topLeftSpec} width={props.topLeftWidth} />\n            {props.extraSpaceRight.map((_, columnIndex) => (\n                <StatisticHeaderCells\n                    key={`headerCells_${columnIndex}`}\n                    onlyColumns={props.onlyColumns}\n                    simpleOrdinals={props.simpleOrdinals}\n                    totalWidth={props.columnWidth}\n                    extraSpaceRight={props.extraSpaceRight[columnIndex] ?? 0}\n                    columnWidthsInfo={props.columnWidthsInfo[columnIndex]}\n                />\n            ))}\n        </>\n    )\n}\n\nfunction makeOrdinalStyle(colors: Colors, isHeader: boolean, columnWidthsInfo?: CommonLayoutInformation): [React.CSSProperties, React.CSSProperties] {\n    const common = {\n        fontSize: '14px',\n        fontWeight: 400,\n        color: colors.ordinalTextColor,\n        margin: 'auto',\n    }\n    if (columnWidthsInfo === undefined) {\n        return [common, common]\n    }\n    const paddingLeft = isHeader ? columnWidthsInfo.ordinalColumnPadding : 0\n    return [\n        {\n            ...common,\n            maxWidth: `${columnWidthsInfo.ordinalColumnWidthEm - paddingLeft}em`,\n            paddingLeft: `${paddingLeft}em`,\n        },\n        { ...common,\n            maxWidth: `${columnWidthsInfo.percentileColumnWidthEm}em`,\n        },\n    ]\n}\n\nexport function StatisticHeaderCells(props: {\n    simpleOrdinals: boolean\n    totalWidth: number\n    onlyColumns?: ColumnIdentifier[]\n    statNameOverride?: string\n    extraSpaceRight?: number\n    columnWidthsInfo?: CommonLayoutInformation\n}): ReactNode {\n    const colors = useColors()\n    const [ordinalStyle, percentileStyle] = makeOrdinalStyle(colors, true, props.columnWidthsInfo)\n\n    const cells = [\n        {\n            columnIdentifier: 'statval',\n            widthPercentage: 15 + 10,\n            content: (\n                <span className=\"serif value\">\n                    Value\n                </span>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 7 : 17,\n            columnIdentifier: 'statistic_percentile',\n            content: (\n                <div className=\"serif\" key=\"ordinal\" style={percentileStyle}>\n                    {\n                        (props.simpleOrdinals ? '%ile' : 'Percentile')\n\n                    }\n                </div>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: props.simpleOrdinals ? 'flex-end' : 'center', marginRight: props.simpleOrdinals ? '5px' : undefined },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 8 : 25,\n            columnIdentifier: 'statistic_ordinal',\n            content: (\n                <div className=\"serif\" key=\"statistic_ordinal\" style={ordinalStyle}>\n                    {\n                        (props.simpleOrdinals ? 'Ord' : 'Ordinal')\n                    }\n                </div>\n            ),\n            style: { textAlign: 'center', display: 'flex', justifyContent: props.simpleOrdinals ? 'flex-end' : 'center', marginRight: props.simpleOrdinals ? '5px' : undefined },\n        },\n        ...PointerHeaderCells({ ordinalStyle }),\n    ] satisfies ColumnLayoutProps['cells']\n\n    return (\n        <>\n            <ColumnLayout\n                cells={cells}\n                totalWidth={props.totalWidth}\n                onlyColumns={props.onlyColumns}\n            />\n            <div style={{ width: `${props.extraSpaceRight ?? 0}%` }} />\n        </>\n    )\n}\n\nfunction PointerHeaderCells(props: { ordinalStyle: CSSProperties }): ColumnLayoutProps['cells'] {\n    const pointerInClassCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_in_class',\n        content: <span className=\"serif\" style={props.ordinalStyle}>Within Type</span>,\n        style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n\n    }\n    const pointerOverallCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_overall',\n        content: <span className=\"serif\" style={props.ordinalStyle}>Overall</span>,\n        style: { textAlign: 'center', display: 'flex', justifyContent: 'center' },\n    }\n\n    // Must be outside branch because uses hooks\n    const selectorCell = PointerHeaderSelectorCell()\n\n    const screenshotMode = useScreenshotMode()\n    const singlePointerCell = useSinglePointerCell()\n\n    if (screenshotMode) {\n        return []\n    }\n    else if (singlePointerCell) {\n        return [selectorCell]\n    }\n    else {\n        return [pointerInClassCell, pointerOverallCell]\n    }\n}\n\nfunction PointerHeaderSelectorCell(): ColumnLayoutProps['cells'][number] {\n    const [preferredPointerCell, setPreferredPointerCell] = useSetting('mobile_article_pointers')\n\n    const selectWidth = 'clamp(45px, 100%, 65px)'\n    const arrowWidth = '12px'\n\n    const selectStyle: CSSProperties = {\n        height: '2lh',\n        whiteSpace: 'wrap',\n        width: selectWidth,\n        textAlign: 'left',\n        appearance: 'none',\n        padding: '0px 1px',\n    }\n\n    const arrowStyle: CSSProperties = {\n        position: 'absolute',\n        left: `calc((max(0px, 100% - ${selectWidth}) / 2) + ${selectWidth} - (${arrowWidth}))`,\n        pointerEvents: 'none',\n        height: arrowWidth,\n        width: arrowWidth,\n        fontSize: arrowWidth,\n        bottom: `5px`,\n    }\n\n    return {\n        widthPercentage: 8,\n        columnIdentifier: preferredPointerCell,\n        content: (\n            <>\n                <select\n                    style={selectStyle}\n                    value={preferredPointerCell}\n                    onChange={(e) => { setPreferredPointerCell(e.target.value as MobileArticlePointers) }}\n                    data-test-id=\"tablePointerSelect\"\n                >\n                    <option value=\"pointer_in_class\">Within Type</option>\n                    <option value=\"pointer_overall\">Overall</option>\n                </select>\n                <span style={arrowStyle}>\n                    {'▼\\ufe0e'}\n                </span>\n            </>\n        ),\n        style: {\n            textAlign: 'center',\n            position: 'relative',\n        },\n    }\n}\n\nexport function StatisticRowCells(props: {\n    width: number\n    longname: string\n    statisticStyle?: CSSProperties\n    row: StatisticCellRenderingInfo\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    onNavigate?: (newArticle: string) => void\n    simpleOrdinals: boolean\n    extraSpaceRight?: number\n    columnWidthsInfo?: CommonLayoutInformation\n}): ReactNode {\n    const colors = useColors()\n    const [ordinalStyle, percentileStyle] = makeOrdinalStyle(colors, false, props.columnWidthsInfo)\n\n    const cells = [\n        {\n            widthPercentage: 15,\n            columnIdentifier: 'statval',\n            content: (\n                <span className=\"serif value testing-statistic-value\">\n                    <Statistic\n                        statname={props.row.statname}\n                        value={props.row.statval}\n                        isUnit={false}\n                        style={props.statisticStyle ?? {}}\n                        unit={props.row.unit}\n                    />\n                </span>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: 10,\n            columnIdentifier: 'statval_unit',\n            content: (\n                <div className=\"value_unit\">\n                    <span className=\"serif value\">\n                        <Statistic\n                            statname={props.row.statname}\n                            value={props.row.statval}\n                            isUnit={true}\n                            unit={props.row.unit}\n                        />\n                    </span>\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 7 : 17,\n            columnIdentifier: 'statistic_percentile',\n            content: (\n                <div className=\"serif\" style={percentileStyle}>\n                    <Percentile\n                        ordinal={props.row.ordinal}\n                        total={props.row.totalCountInClass}\n                        percentileByPopulation={props.row.percentileByPopulation}\n                        simpleOrdinals={props.simpleOrdinals}\n                    />\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        {\n            widthPercentage: props.simpleOrdinals ? 8 : 25,\n            columnIdentifier: 'statistic_ordinal',\n            content: (\n                <div className=\"serif\" style={ordinalStyle}>\n                    <Ordinal\n                        ordinal={props.row.ordinal}\n                        total={props.row.totalCountInClass}\n                        type={props.row.articleType}\n                        statpath={props.row.statpath}\n                        simpleOrdinals={props.simpleOrdinals}\n                        onNavigate={props.onNavigate}\n                    />\n                </div>\n            ),\n            style: { textAlign: 'right' },\n        },\n        ...PointerRowCells({ ordinalStyle, row: props.row, longname: props.longname }),\n    ] satisfies ColumnLayoutProps['cells']\n\n    return (\n        <>\n            <ColumnLayout\n                cells={cells}\n                totalWidth={props.width}\n                onlyColumns={props.onlyColumns}\n                blankColumns={props.blankColumns}\n            />\n            <div style={{ width: `${props.extraSpaceRight}%` }} />\n        </>\n    )\n}\n\nfunction PointerRowCells(props: { ordinalStyle: CSSProperties, row: StatisticCellRenderingInfo, longname: string }): ColumnLayoutProps['cells'] {\n    const screenshotMode = useScreenshotMode()\n\n    const singlePointerCell = useSinglePointerCell()\n    const [preferredPointerCell] = useSetting('mobile_article_pointers')\n\n    const statpath = props.row.statpath\n\n    if (statpath === undefined) {\n        return []\n    }\n\n    const pointerInClassCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_in_class',\n        content: (\n            <span key=\"pointer_in_class\" className=\"serif\" style={{ display: 'flex', ...props.ordinalStyle }}>\n                <PointerButtonsIndex\n                    ordinal={props.row.ordinal}\n                    statpath={statpath}\n                    type={props.row.articleType}\n                    total={props.row.totalCountInClass}\n                    longname={props.longname}\n                />\n            </span>\n        ),\n        style: { textAlign: 'right' },\n    }\n\n    const pointerOverallCell: ColumnLayoutProps['cells'][number] = {\n        widthPercentage: 8,\n        columnIdentifier: 'pointer_overall',\n        content: (\n            <span className=\"serif\" style={{ display: 'flex', ...props.ordinalStyle }}>\n                <PointerButtonsIndex\n                    statpath={statpath}\n                    type=\"overall\"\n                    total={props.row.totalCountOverall}\n                    longname={props.longname}\n                    overallFirstLast={props.row.overallFirstLast}\n                />\n            </span>\n        ),\n        style: { textAlign: 'right' },\n    }\n\n    if (screenshotMode) {\n        return []\n    }\n    else if (singlePointerCell) {\n        switch (preferredPointerCell) {\n            case 'pointer_in_class':\n                return [pointerInClassCell]\n            case 'pointer_overall':\n                return [pointerOverallCell]\n        }\n    }\n    else {\n        return [pointerInClassCell, pointerOverallCell]\n    }\n}\n\nfunction articleStatnameButtonStyle(colors: Colors): React.CSSProperties {\n    return {\n        cursor: 'pointer', border: `1px solid ${colors.textMain}`,\n        padding: 0, borderRadius: '3px', fontSize: '75%',\n        minWidth: '1.5em', minHeight: '1.5em', textAlign: 'center',\n        lineHeight: '1.2em',\n    }\n}\n\nconst manipulationButtonHeight = '24px'\nfunction ManipulationButton({ color: buttonColor, onClick, text, image }: { color: string, onClick: () => void, text: string, image: string }): ReactNode {\n    const isMobile = useMobileLayout()\n    const isTranspose = useTranspose()\n    const colors = useColors()\n\n    return (\n        <div\n            style={{\n                height: manipulationButtonHeight,\n                lineHeight: manipulationButtonHeight,\n                cursor: 'pointer',\n                paddingLeft: '0.5em', paddingRight: '0.5em',\n                borderRadius: '0.25em',\n                verticalAlign: 'middle',\n                backgroundColor: buttonColor,\n            }}\n            className={`serif manipulation-button-${text}`}\n            onClick={onClick}\n        >\n            {!(isMobile && isTranspose) ? text : <Icon src={image} size={manipulationButtonHeight} color={colors.textMain} />}\n        </div>\n    )\n}\n\nexport function HeadingDisplay({ longname, includeDelete, onDelete, onReplace, manipulationJustify, sharedTypeOfAllArticles }: {\n    longname: string\n    includeDelete: boolean\n    onDelete: () => void\n    onReplace: (q: string) => ReturnType<Navigator['link']>\n    manipulationJustify: CSSProperties['justifyContent']\n    sharedTypeOfAllArticles: string | null | undefined\n}): ReactNode {\n    const colors = useColors()\n    const [isEditing, setIsEditing] = React.useState(false)\n    const currentUniverse = useUniverse()\n    const comparisonHeadStyle = useComparisonHeadStyle()\n\n    const manipulationButtons = (\n        <div style={{ height: manipulationButtonHeight }}>\n            <div style={{ display: 'flex', justifyContent: manipulationJustify, height: '100%' }}>\n                <ManipulationButton color={colors.unselectedButton} onClick={() => { setIsEditing(!isEditing) }} text=\"replace\" image=\"/replace.png\" />\n                {!includeDelete\n                    ? null\n                    : (\n                            <>\n                                <div style={{ width: '5px' }} />\n                                <ManipulationButton color={colors.unselectedButton} onClick={onDelete} text=\"delete\" image=\"/close.png\" />\n                            </>\n                        )}\n                <div style={{ width: '5px' }} />\n            </div>\n        </div>\n    )\n\n    const screenshotMode = useScreenshotMode()\n\n    const navContext = useContext(Navigator.Context)\n\n    return (\n        <div>\n            {screenshotMode ? undefined : manipulationButtons}\n            <div style={{ height: '5px' }} />\n            <a\n                className=\"serif\"\n                {\n                    ...navContext.link({\n                        kind: 'article',\n                        longname,\n                        universe: currentUniverse,\n                    }, { scroll: { kind: 'position', top: 0 } })\n                }\n                style={{ textDecoration: 'none' }}\n            >\n                <div style={useComparisonHeadStyle()}>{longname}</div>\n            </a>\n            {isEditing\n                ? (\n                        <SearchBox\n                            autoFocus={true}\n                            style={{ ...comparisonHeadStyle, width: '100%' }}\n                            placeholder=\"Replacement\"\n                            onChange={() => {\n                                setIsEditing(false)\n                            }}\n                            link={onReplace}\n                            prioritizeArticleType={sharedTypeOfAllArticles ?? undefined}\n                        />\n                    )\n                : null}\n        </div>\n    )\n}\n\nexport function StatisticPanelLongnameCell(props: StatisticPanelLongnameCellProps & { width: number }): ReactNode {\n    const navContext = useContext(Navigator.Context)\n    const colors = useColors()\n\n    return (\n        <div style={{ width: `${props.width}%`, padding: '1px' }}>\n            <a\n                style={{ textDecoration: 'none', color: colors.textMain }}\n                {...navContext.link({\n                    kind: 'article',\n                    longname: props.longname,\n                    universe: props.currentUniverse,\n                }, { scroll: { kind: 'position', top: 0 } })}\n                className=\"serif value\"\n            >\n                {props.longname}\n            </a>\n        </div>\n    )\n}\n\nexport function ComparisonLongnameCell(props: ComparisonLongnameCellProps & { width: number }): ReactNode {\n    const currentUniverse = useUniverse()\n    const navContext = useContext(Navigator.Context)\n\n    const haveColorbar = props.transpose && props.highlightIndex !== undefined\n    const width = props.width - (haveColorbar ? 2 * 100 * leftBarMargin : 0)\n\n    const bar = (): ReactNode => props.transpose && props.highlightIndex !== undefined && (\n        <ComparisonColorBar highlightIndex={props.highlightIndex} />\n    )\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging,\n    } = useSortable({ id: props.articleId ?? 'dummy' })\n\n    let extraStyle: CSSProperties = {}\n    let extraProps: React.HTMLAttributes<HTMLDivElement> & { ref?: (node: HTMLElement | null) => void } = { }\n    if (props.draggable && props.articleId) {\n        extraStyle = {\n            transform: CSS.Transform.toString(transform),\n            transition: isDragging ? transition : 'none',\n            opacity: isDragging ? 0.5 : 1,\n            touchAction: 'none',\n        }\n        extraProps = { ref: setNodeRef, ...attributes, ...listeners }\n    }\n\n    return (\n        <>\n            {bar()}\n            <div\n                key={`heading_${props.articleIndex}`}\n                style={{ width: `${width}%`, ...extraStyle }}\n                {...extraProps}\n            >\n                <HeadingDisplay\n                    longname={props.articles[props.articleIndex].longname}\n                    includeDelete={props.articles.length > 1}\n                    onDelete={() => {\n                        void navContext.navigate({\n                            kind: 'comparison',\n                            universe: currentUniverse,\n                            longnames: props.names.filter((_, index) => index !== props.articleIndex),\n                        }, { history: 'push', scroll: { kind: 'none' } })\n                    }}\n                    onReplace={x =>\n                        navContext.link({\n                            kind: 'comparison',\n                            universe: currentUniverse,\n                            longnames: props.names.map((value, index) => index === props.articleIndex ? x : value),\n                        }, { scroll: { kind: 'none' } })}\n                    manipulationJustify={props.transpose ? 'center' : 'flex-end'}\n                    sharedTypeOfAllArticles={props.sharedTypeOfAllArticles}\n                />\n            </div>\n            {bar()}\n        </>\n    )\n}\n\nexport function StatisticNameCell(props: StatisticNameCellProps & { width: number }): ReactNode {\n    const haveColorbar = !props.transpose && props.highlightIndex !== undefined\n    const width = props.width - (haveColorbar ? 100 * leftBarMargin : 0)\n\n    return (\n        <>\n            {haveColorbar && (\n                <ComparisonColorBar highlightIndex={props.highlightIndex} />\n            )}\n            <div\n                key={`statName_${props.renderedStatname}`}\n                style={{ width: `${width}%`, padding: '1px', paddingLeft: props.isIndented ? '1em' : '1px', textAlign: props.center ? 'center' : undefined }}\n            >\n                <span className=\"serif value\" style={{ display: 'flex', alignItems: 'center', justifyContent: props.center ? 'center' : 'flex-start', gap: '0.25em' }}>\n                    <StatisticName\n                        row={props.row}\n                        longname={props.longname}\n                        currentUniverse={props.currentUniverse}\n                        center={props.center}\n                        displayName={props.displayName ?? props.renderedStatname}\n                    />\n                    {props.sortInfo && (\n                        <span\n                            style={{\n                                cursor: 'pointer',\n                                height: '16px',\n                                marginLeft: props.transpose ? '0' : 'auto',\n                            }}\n                            onClick={props.sortInfo.onSort}\n                        >\n                            <ArrowUpOrDown direction={props.sortInfo.sortDirection} shouldAppearInScreenshot={false} />\n                        </span>\n                    )}\n                </span>\n            </div>\n        </>\n    )\n}\n\nexport function ExpansionButton(props: { row: ArticleRow }): ReactNode {\n    const [expanded, setExpanded] = useSetting(rowExpandedKey(props.row.statpath))\n    const colors = useColors()\n    return (\n        <div\n            className=\"expand-toggle\"\n            onClick={() => { setExpanded(!expanded) }}\n            style={articleStatnameButtonStyle(colors)}\n        >\n            {expanded ? '-' : '+'}\n        </div>\n    )\n}\n\nexport function StatisticName(props: {\n    row?: ArticleRow\n    longname: string\n    currentUniverse: string\n    center?: boolean\n    displayName: string\n}): ReactNode {\n    const colors = useColors()\n    const navContext = useContext(Navigator.Context)\n\n    const link = (\n        <a\n            style={{ textDecoration: 'none', color: colors.textMain }}\n            {\n                ...(\n                    props.row === undefined\n                        ? {}\n                        : navContext.link(statisticDescriptor({\n                            universe: props.currentUniverse,\n                            statDesc: { type: 'simple-statistic', statname: props.row.statname },\n                            articleType: props.row.articleType,\n                            start: props.row.ordinal,\n                            amount: 20,\n                            order: 'descending',\n                            highlight: props.longname,\n                        }), { scroll: { kind: 'position', top: 0 } })\n                )\n            }\n            data-test-id=\"statistic-link\"\n        >\n            {props.displayName}\n        </a>\n    )\n    const screenshotMode = useScreenshotMode()\n    const elements = [link]\n    if (props.row?.extraStat !== undefined && !screenshotMode) {\n        elements.push(\n            <ExpansionButton key=\"expansion\" row={props.row} />,\n        )\n    }\n    if (props.row?.disclaimer !== undefined) {\n        elements.push(<StatisticNameDisclaimer disclaimer={props.row.disclaimer} />)\n    }\n    if (elements.length > 1) {\n        const paddedElements = [elements[0]]\n        for (let i = 1; i < elements.length; i++) {\n            paddedElements.push(<div key={i} style={{ marginLeft: '0.3em' }} />)\n            paddedElements.push(elements[i])\n        }\n        return (\n            <span style={{\n                display: 'flex',\n                alignItems: 'center',\n                flexDirection: 'row',\n                justifyContent: props.center ? 'center' : undefined,\n            }}\n            >\n                {...paddedElements}\n            </span>\n        )\n    }\n    return link\n}\n\nexport function ComparisonColorBar({ highlightIndex }: { highlightIndex: number | undefined }): ReactNode {\n    const colors = useColors()\n\n    return (\n        <div\n            key=\"color\"\n            style={{\n                width: `${100 * leftBarMargin}%`,\n                alignSelf: 'stretch',\n                position: 'relative',\n            }}\n        >\n            <div style={{\n                backgroundColor: highlightIndex === undefined ? colors.background : colorFromCycle(colors.hueColors, highlightIndex),\n                height: '100%',\n                width: '50%',\n                left: '25%',\n                position: 'absolute',\n            }}\n            />\n        </div>\n    )\n}\n\nfunction computeDisclaimerText(disclaimer: Disclaimer): string {\n    switch (disclaimer) {\n        case 'heterogenous-sources':\n            return 'This statistic is based on data from multiple sources, which may not be consistent with each other.'\n    }\n}\n\nfunction StatisticNameDisclaimer(props: { disclaimer: Disclaimer }): ReactNode {\n    // little disclaimer icon that pops up a tooltip when clicked\n    const [show, setShow] = useState(false)\n    const colors = useColors()\n    const tooltipStyle: React.CSSProperties = {\n        position: 'absolute',\n        backgroundColor: colors.slightlyDifferentBackgroundFocused,\n        color: colors.textMain,\n        padding: '0.5em',\n        borderRadius: '0.5em',\n        border: `1px solid ${colors.textMain}`,\n        zIndex: zIndex.statisticNameDisclaimer,\n        display: show ? 'block' : 'none',\n    }\n    return (\n        <span>\n            <span\n                className=\"disclaimer-toggle\"\n                style={{ ...articleStatnameButtonStyle(colors), display: 'inline-block' }}\n                onClick={() => { setShow(!show) }}\n            >\n                !\n            </span>\n            <div\n                style={tooltipStyle}\n                onClick={() => { setShow(false) }}\n            >\n                {computeDisclaimerText(props.disclaimer)}\n            </div>\n        </span>\n    )\n}\n\nexport function TableRowContainer({ children, index, minHeight, isHighlighted }: { children: React.ReactNode, index: number, minHeight?: string, isHighlighted: boolean }): React.ReactNode {\n    const colors = useColors()\n    const style: React.CSSProperties = {\n        ...tableRowStyle,\n        backgroundColor: isHighlighted ? colors.highlight : (index % 2 === 1 ? colors.slightlyDifferentBackground : undefined),\n        alignItems: 'last baseline',\n        minHeight,\n    }\n    return (\n        <div\n            className=\"for-testing-table-row\"\n            style={style}\n        >\n            {children}\n        </div>\n    )\n}\n\nlet measureCanvas: HTMLCanvasElement | null = null\n\nfunction getMeasureCanvas(): HTMLCanvasElement {\n    if (!measureCanvas) {\n        measureCanvas = document.createElement('canvas')\n    }\n    return measureCanvas\n}\n\n/**\n * Assumes 1em = 16px (default browser font size)\n */\nfunction measureTextWidthEm(text: string, fontSizeEm: number = 1): number {\n    const canvas = getMeasureCanvas()\n    const context = canvas.getContext('2d')\n    if (!context) {\n        // Fallback if canvas is not available\n        return text.length * 0.453\n    }\n\n    const fontSizePx = fontSizeEm * 16\n    context.font = `${fontSizePx}px 'Jost', 'Arial', sans-serif`\n\n    const metrics = context.measureText(text)\n    const widthPx = metrics.width\n    return widthPx / 16\n}\n\nfunction ordinalWidthInEm(ordinal: number, total: number, type: string, universe: string, simpleOrdinals: boolean): [number, number] {\n    if (ordinal > total) {\n        return [0, 0]\n    }\n    const ordinalText = ordinal.toString()\n    let ordinalWidth = measureTextWidthEm(ordinalText)\n    let padding = 0\n    if (ordinalWidth < 2) {\n        padding = 2 - ordinalWidth\n        ordinalWidth = 2\n    }\n    if (simpleOrdinals) {\n        return [ordinalWidth + padding, padding]\n    }\n    else {\n        const suffixText = ` of ${total} ${displayType(universe, type)}`\n        const suffixWidth = measureTextWidthEm(suffixText)\n        return [ordinalWidth + suffixWidth + padding, padding]\n    }\n}\n\nexport function computeSizesForRow(row: StatisticCellRenderingInfo, universe: string, simpleOrdinals: boolean): CommonLayoutInformation {\n    // Compute the size of the ordinal and percentile text\n    const [ordinalColumnWidthEm, ordinalColumnPadding] = ordinalWidthInEm(row.totalCountInClass, row.totalCountInClass, row.articleType, universe, simpleOrdinals)\n    const percentileTextSample = percentileText(row.percentileByPopulation, simpleOrdinals)\n    const percentileColumnWidthEm = measureTextWidthEm(percentileTextSample)\n    const smallPad = 0.22\n    return {\n        ordinalColumnWidthEm: ordinalColumnWidthEm + smallPad,\n        ordinalColumnPadding,\n        percentileColumnWidthEm: percentileColumnWidthEm + smallPad,\n    }\n}\n\nfunction Ordinal(props: {\n    ordinal: number\n    total: number\n    type: string\n    statpath?: string\n    simpleOrdinals: boolean\n    onNavigate?: (newArticle: string) => void\n}): ReactNode {\n    const currentUniverse = useUniverse()\n    const onNewNumber = async (number: number): Promise<void> => {\n        if (props.onNavigate === undefined) {\n            return\n        }\n        assert(props.statpath !== undefined, 'statpath must be defined if onNavigate is provided')\n        let num = number\n        if (num < 0) {\n            // -1 -> props.total, -2 -> props.total - 1, etc.\n            num = props.total + 1 + num\n        }\n        if (num > props.total) {\n            num = props.total\n        }\n        if (num <= 0) {\n            num = 1\n        }\n        const data = await loadOrdering(currentUniverse, props.statpath, props.type)\n        props.onNavigate(data.longnames[num - 1])\n    }\n    const ordinal = props.ordinal\n    const total = props.total\n    const type = props.type\n    if (ordinal > total) {\n        return <span></span>\n    }\n    const en = props.onNavigate\n        ? (\n                <EditableNumber\n                    number={ordinal}\n                    onNewNumber={onNewNumber}\n                />\n            )\n        : (\n                <span>{ordinal}</span>\n            )\n    return (\n        <div className=\"serif\" style={{ textAlign: 'right', marginRight: props.simpleOrdinals ? '5px' : 0 }}>\n            {en}\n            {props.simpleOrdinals\n                ? <></>\n                : (\n                        <>\n                            {' of '}\n                            {total}\n                            {' '}\n                            {displayType(currentUniverse, type)}\n                        </>\n                    )}\n\n        </div>\n    )\n}\n\n;\n\n// Lacks some customization since its column is not show in the comparison view\nfunction PointerButtonsIndex(props: { ordinal?: number, statpath: string, type: string, total: number, longname: string, overallFirstLast?: FirstLastStatus }): ReactNode {\n    const currentUniverse = useUniverse()\n    const getData = async (): Promise<ArticleOrderingListInternal> => await loadOrdering(currentUniverse, props.statpath, props.type)\n    return (\n        <span style={{ margin: 'auto', whiteSpace: 'nowrap' }}>\n            <PointerButtonIndex\n                getData={getData}\n                originalPos={props.ordinal}\n                direction={-1}\n                total={props.total}\n                longname={props.longname}\n                disable={props.overallFirstLast?.isFirst}\n            />\n            <PointerButtonIndex\n                getData={getData}\n                originalPos={props.ordinal}\n                direction={+1}\n                total={props.total}\n                longname={props.longname}\n                disable={props.overallFirstLast?.isLast}\n            />\n        </span>\n    )\n}\n\nfunction PointerButtonIndex(props: {\n    getData: () => Promise<ArticleOrderingListInternal>\n    originalPos?: number // 1-indexed\n    direction: -1 | 1\n    total: number\n    longname: string\n    disable?: boolean\n}): ReactNode {\n    const universe = useUniverse()\n    const colors = useColors()\n    const navigation = useContext(Navigator.Context)\n    const showSettings = useSettings(['show_historical_cds', 'show_person_circles'])\n    const onClick = async (): Promise<void> => {\n        /* eslint-disable no-console -- Debugging test failure */\n        console.log(`Click on pointer button! props=${JSON.stringify(props)}`)\n        const data = await props.getData()\n        let pos = data.longnames.indexOf(props.longname) + props.direction\n        console.log(`Starting position=${pos}`)\n        while (pos >= 0 && pos < props.total) {\n            const name = data.longnames[pos]\n            const type = data.typeIndices[pos]\n            console.log(`name=${name}`)\n            if (!isAllowedToBeShown(type, showSettings)) {\n                pos += props.direction\n                continue\n            }\n            console.log(`navigate to ${name}`)\n            void navigation.navigate({\n                kind: 'article',\n                longname: name,\n                universe,\n            }, { history: 'push', scroll: { kind: 'element', element: buttonRef.current! } })\n            return\n        }\n        /* eslint-enable no-console */\n    }\n\n    const buttonStyle: React.CSSProperties = {\n        fontFamily: 'Jost, Arial, sans-serif',\n        fontSize: '8pt',\n        fontWeight: 500,\n        textDecoration: 'none',\n        color: colors.textPointer,\n        padding: '2px 6px 2px 6px',\n        borderRadius: '5px',\n        borderTop: `1px solid ${colors.borderNonShadow}`,\n        borderRight: `1px solid ${colors.borderShadow}`,\n        borderBottom: `1px solid ${colors.borderShadow}`,\n        borderLeft: `1px solid ${colors.borderNonShadow}`,\n        backgroundColor: 'transparent',\n    }\n\n    let disabled: boolean = props.disable ?? false\n    if (props.originalPos !== undefined) {\n        disabled = props.originalPos + props.direction < 1 || props.originalPos + props.direction > props.total\n    }\n\n    const buttonRef = useRef<HTMLButtonElement>(null) // Need the ref otherwise the mouse enter and leave events can be sent to the wrong elem\n\n    return (\n        <button\n            disabled={disabled}\n            style={buttonStyle}\n            onClick={onClick}\n            data-test-id={props.direction}\n            ref={buttonRef}\n            onMouseEnter={() => {\n                buttonRef.current!.style.backgroundColor = colors.slightlyDifferentBackgroundFocused\n            }}\n            onMouseLeave={() => {\n                buttonRef.current!.style.backgroundColor = 'transparent'\n            }}\n        >\n            <PointerArrow direction={props.direction} disabled={disabled} />\n        </button>\n    )\n}\n\nexport function ArrowUpOrDown(props: { direction: 'up' | 'down' | 'both', shouldAppearInScreenshot: boolean }): ReactNode {\n    const isScreenshot = useScreenshotMode()\n\n    if (isScreenshot && !props.shouldAppearInScreenshot) {\n        return null\n    }\n\n    let image: string\n    switch (props.direction) {\n        case 'up':\n            image = '/sort-up.png'\n            break\n        case 'down':\n            image = '/sort-down.png'\n            break\n        case 'both':\n            image = '/sort-both.png'\n            break\n    }\n    return <img src={image} className=\"testing-order-swap\" alt={props.direction} style={{ width: '16px', height: '16px' }} />\n}\n","import React, { CSSProperties, Fragment, ReactNode } from 'react'\n\nimport { useUniverse } from '../universe'\nimport { Article } from '../utils/protos'\n\nimport { ArticleRow, StatisticCellRenderingInfo } from './load-article'\nimport { extraHeaderSpaceForVertical, PlotProps, RenderedPlot } from './plots'\nimport { ColumnIdentifier, MainHeaderRow, ComparisonLongnameCell, ComparisonTopLeftHeader, SuperHeaderHorizontal, StatisticNameCell, StatisticPanelLongnameCell, StatisticRowCells, TableHeaderContainer, TableRowContainer, TopLeftHeader, computeSizesForRow, CommonLayoutInformation } from './table'\n\nexport interface PlotSpec {\n    statDescription: string\n    plotProps: PlotProps[]\n}\n\nexport interface SuperHeaderSpec {\n    headerSpecs: CellSpec[]\n    showBottomBar: boolean\n    groupNames?: (string | undefined)[]\n}\n\nexport interface LeftHeaderSpec {\n    leftHeaderSpecs: CellSpec[]\n    groupNames?: (string | undefined)[]\n}\n\nexport interface TableContentsProps {\n    superHeaderSpec?: SuperHeaderSpec\n    leftHeaderSpec: LeftHeaderSpec\n    rowSpecs: CellSpec[][]\n    horizontalPlotSpecs: (PlotSpec | undefined)[]\n    verticalPlotSpecs: (PlotSpec | undefined)[]\n    topLeftSpec: CellSpec\n    widthLeftHeader: number\n    columnWidth: number\n    onlyColumns: ColumnIdentifier[]\n    simpleOrdinals: boolean\n    highlightRowIndex?: number\n}\n\nexport function TableContents(props: TableContentsProps): ReactNode {\n    const universe = useUniverse()\n    const headerHeight = props.verticalPlotSpecs.flatMap(p => p === undefined ? [] : p.plotProps).map(p => extraHeaderSpaceForVertical(p)).reduce((a, b) => Math.max(a, b), 0)\n    const contentHeight = '379.5px'\n\n    const shouldSetMinHeight = props.verticalPlotSpecs.some(p => p !== undefined)\n    const overallMinHeight = shouldSetMinHeight ? `calc(${headerHeight}px + ${contentHeight})` : undefined\n    const rowMinHeight = shouldSetMinHeight ? `calc(${contentHeight} / ${props.leftHeaderSpec.leftHeaderSpecs.length})` : undefined\n\n    // should be 1 column, unless there are header specs. only use header specs if we can't infer from the cells.\n    const ncols = props.rowSpecs.length !== 0 ? props.rowSpecs[0].length : props.superHeaderSpec?.headerSpecs.length ?? 1\n\n    const extraSpaceRight = Array.from({ length: ncols }).map((_, i) => (props.verticalPlotSpecs[i] === undefined ? 0 : props.columnWidth))\n    const columnFullWidths = extraSpaceRight.map(extra => props.columnWidth + extra)\n\n    const columnWidthsInfo = Array.from({ length: ncols }).map((_, colIndex) => {\n        const widthsEach = props.rowSpecs.map(row => row[colIndex].type === 'statistic-row' ? computeSizesForRow(row[colIndex].row, universe, props.simpleOrdinals) : undefined)\n        const maxima = widthsEach.reduce((acc, curr) => {\n            if (curr === undefined) {\n                return acc\n            }\n            else if (acc === undefined) {\n                return curr\n            }\n            return {\n                ordinalColumnWidthEm: Math.max(acc.ordinalColumnWidthEm, curr.ordinalColumnWidthEm),\n                percentileColumnWidthEm: Math.max(acc.percentileColumnWidthEm, curr.percentileColumnWidthEm),\n                ordinalColumnPadding: Math.max(acc.ordinalColumnPadding, curr.ordinalColumnPadding),\n            }\n        }, { ordinalColumnWidthEm: 0, percentileColumnWidthEm: 0, ordinalColumnPadding: 0 })\n        return maxima\n    })\n\n    return (\n        <>\n            {props.superHeaderSpec !== undefined && (\n                <SuperHeaderHorizontal\n                    {...props.superHeaderSpec}\n                    leftSpacerWidth={props.widthLeftHeader}\n                    widthsEach={columnFullWidths}\n                />\n            )}\n\n            <div style={{ position: 'relative', minHeight: overallMinHeight }}>\n                <TableHeaderContainer>\n                    <MainHeaderRow\n                        columnWidth={props.columnWidth}\n                        topLeftSpec={props.topLeftSpec}\n                        topLeftWidth={props.widthLeftHeader}\n                        onlyColumns={props.onlyColumns}\n                        extraSpaceRight={extraSpaceRight}\n                        simpleOrdinals={props.simpleOrdinals}\n                        columnWidthsInfo={columnWidthsInfo}\n                    />\n                </TableHeaderContainer>\n                {props.rowSpecs.map((rowSpecsForItem, rowIndex) => {\n                    const plotSpec = props.horizontalPlotSpecs[rowIndex]\n                    return (\n                        <SuperTableRow\n                            key={`TableRowContainer_${rowIndex}`}\n                            rowIndex={rowIndex}\n                            rowMinHeight={rowMinHeight}\n                            cellSpecs={rowSpecsForItem.map((cellSpec, colIndex) => {\n                                if (cellSpec.type === 'statistic-row') {\n                                    return {\n                                        ...cellSpec,\n                                        columnWidthsInfo: columnWidthsInfo[colIndex],\n                                    }\n                                }\n                                return cellSpec\n                            })}\n                            extraSpaceRight={extraSpaceRight}\n                            plotSpec={plotSpec}\n                            leftHeaderSpec={props.leftHeaderSpec.leftHeaderSpecs[rowIndex]}\n                            widthLeftHeader={props.widthLeftHeader}\n                            columnWidth={props.columnWidth}\n                            groupName={props.leftHeaderSpec.groupNames?.[rowIndex]}\n                            prevGroupName={rowIndex > 0 ? props.leftHeaderSpec.groupNames?.[rowIndex - 1] : undefined}\n                            isHighlighted={props.highlightRowIndex === rowIndex}\n                        />\n                    )\n                })}\n                {props.verticalPlotSpecs.map((plotSpec, statIndex) => plotSpec\n                    ? (\n                            <div key={`statPlot_${statIndex}`} style={{ position: 'absolute', top: 0, left: `${props.widthLeftHeader + Array.from({ length: statIndex }).reduce((acc: number, unused, i) => acc + columnFullWidths[i], props.columnWidth)}%`, bottom: 0, width: `${props.columnWidth}%` }}>\n                                <RenderedPlot statDescription={plotSpec.statDescription} plotProps={plotSpec.plotProps} />\n                            </div>\n                        )\n                    : null,\n                )}\n            </div>\n        </>\n    )\n}\n\nexport function SuperTableRow(props: {\n    rowIndex: number\n    leftHeaderSpec: CellSpec\n    cellSpecs: CellSpec[]\n    plotSpec?: PlotSpec\n    widthLeftHeader: number\n    columnWidth: number\n    rowMinHeight?: string\n    groupName?: string\n    prevGroupName?: string\n    extraSpaceRight: number[]\n    isHighlighted: boolean\n}): ReactNode {\n    return (\n        <div>\n            {props.groupName !== undefined && (props.groupName !== props.prevGroupName) && (\n                <TableRowContainer index={props.rowIndex} isHighlighted={props.isHighlighted}>\n                    <div style={{ width: '100%', padding: '1px' }}>\n                        <span className=\"serif value\">\n                            <span>{props.groupName}</span>\n                        </span>\n                    </div>\n                </TableRowContainer>\n            )}\n            <TableRowContainer index={props.rowIndex} minHeight={props.rowMinHeight} isHighlighted={props.isHighlighted}>\n                <Cell {...props.leftHeaderSpec} width={props.widthLeftHeader} />\n                {props.cellSpecs.map((spec, colIndex) => (\n                    <Fragment key={`cells_${colIndex}_${props.rowIndex}`}>\n                        <Cell {...spec} width={props.columnWidth} />\n                        <div style={{ width: `${props.extraSpaceRight[colIndex]}%` }}></div>\n                    </Fragment>\n                ))}\n            </TableRowContainer>\n            {props.plotSpec && (\n                <div style={{ width: '100%', position: 'relative' }}>\n                    <RenderedPlot statDescription={props.plotSpec.statDescription} plotProps={props.plotSpec.plotProps} />\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport type CellSpec = ({ type: 'comparison-longname' } & ComparisonLongnameCellProps) |\n    ({ type: 'statistic-name' } & StatisticNameCellProps) |\n    ({ type: 'statistic-row' } & StatisticRowCellProps) |\n    ({ type: 'statistic-panel-longname' } & StatisticPanelLongnameCellProps) |\n    ({ type: 'comparison-top-left-header' } & TopLeftHeaderProps) |\n    ({ type: 'top-left-header' } & TopLeftHeaderProps)\n\nexport function Cell(props: CellSpec & { width: number }): ReactNode {\n    switch (props.type) {\n        case 'comparison-longname':\n            return <ComparisonLongnameCell {...props} width={props.width} />\n        case 'statistic-name':\n            return <StatisticNameCell {...props} width={props.width} />\n        case 'statistic-row':\n            return <StatisticRowCells {...props} width={props.width} />\n        case 'statistic-panel-longname':\n            return <StatisticPanelLongnameCell {...props} width={props.width} />\n        case 'comparison-top-left-header':\n            return <ComparisonTopLeftHeader {...props} width={props.width} />\n        case 'top-left-header':\n            return <TopLeftHeader {...props} width={props.width} />\n    }\n}\n\nexport interface ComparisonLongnameCellProps {\n    articleIndex: number\n    articles: Article[]\n    names: string[]\n    transpose: boolean\n    sharedTypeOfAllArticles: string | null | undefined\n    highlightIndex?: number\n    draggable?: boolean\n    articleId?: string\n}\n\nexport interface StatisticPanelLongnameCellProps {\n    longname: string\n    currentUniverse: string\n}\n\nexport interface StatisticNameCellProps {\n    row?: ArticleRow\n    renderedStatname: string\n    longname: string\n    currentUniverse: string\n    center?: boolean\n    highlightIndex?: number\n    transpose?: boolean\n    isIndented?: boolean\n    displayName?: string\n    sortInfo?: {\n        sortDirection: 'up' | 'down' | 'both'\n        onSort: () => void\n    }\n}\n\nexport interface StatisticRowCellProps {\n    longname: string\n    statisticStyle?: CSSProperties\n    row: StatisticCellRenderingInfo\n    onlyColumns?: string[]\n    blankColumns?: string[]\n    onNavigate?: (newArticle: string) => void\n    simpleOrdinals: boolean\n    extraSpaceRight?: number\n    columnWidthsInfo?: CommonLayoutInformation\n}\n\nexport interface TopLeftHeaderProps {\n    statNameOverride?: string\n}\n","import { createContext, useContext } from 'react'\n\n// eslint-disable-next-line no-restricted-syntax -- Context declaration\nexport const TransposeContext = createContext(false)\n\nexport function useTranspose(): boolean {\n    return useContext(TransposeContext)\n}\n"],"names":["Icon","param","size","color","src","style","EditableString","props","contentEditable","useRef","html","propsRef","setCounter","_useState","useEffect","count","handleSubmit","content","ContentEditable","evt","e","setTimeout","range","document","selection","window","EditableNumber","number","parseInt","Number","PlotComponent","transpose","useTranspose","plotRef","plotSpec","plotConfig","useCallback","transposeConfig","_plotSpec","marks","xlabel","ylabel","ydomain","result","undefined","legend","plot","Plot","screenshotMode","useScreenshotMode","transposeTopMargin","zIndex","div","strokeDasharrays","Histogram","histogramType","_useSetting","histograms","subseriesNames","Set","h","useImperial","_useSetting1","relative","_useSetting2","binMin","binSize","_iteratorError","histogram","Error","systemColors","useColors","maxValue","log10TickGapTimes3","tickGapOom","tickGap","yKeypoints","axis","grid","colors","shortnames","themeColors","colorItems","dashPatterns","dashPatternItems","totalItems","title","renderY","y","renderNumberHighlyRounded","_histogramBounds","_Math","_Math1","xIdxEnd","zerosAtFront","arr","i","xIdxStart","xidxs","Array","_","_xAxis","xKeypoints","xidx","lastDigit","adjustment","Math","d","pow10Moral","x","x10","errorRound","xAxisMarks","renderX","_createHistogramMarks","series","isCumulative","sumEach","a","b","histogramIdx","counts","seriesSingle","dovetailSequences","s","width","off","_seriesSingle","v","tip","maxSequences","seriesMax","name","computeDashPatterns","_marks","_dashPatterns_get","strokeDasharray","maxValueRounded","tickGapMantissa","_marks1","computeColorItems","index","item","dashPatternsEnumerated","pattern","svgNS","group","translateY","allLabels","maxTextWidth","context","canvas","label","textWidth","paddingX","background","String","paddingY","rowHeight","rowIndex","row","square","centerY","text","squareSize","line","lineLength","makePlot","HistogramSettings","Map","subseriesNamesOrdered","assert","subId","universe","useUniverse","setHistogramType","navContext","useContext","Navigator","showSearchBox","setShowSearchBox","uniqueShortnames","deduplicate","createScreenshot","SearchBox","regionName","CheckboxSetting","places","TimeSeriesPlot","useMemo","stat","xval","RenderedPlot","_plotProps_","statDescription","plotProps","_plot_extraStat","_plot_extraStat1","_props_extraStat","Modal","children","onClose","isOpen","isMobileLayout","useMobileLayout","fontSize","useSidebarFontSize","tableRowStyle","TableHeaderContainer","ColumnLayout","cellPercentages","cellContents","_props_blankColumns","widthPercentage","columnIdentifier","sum","_iteratorError1","sty","SuperHeaderHorizontal","bars","backgroundColor","getBarColor","idx","spec","colorFromCycle","SuperHeaderGroupNames","cellSpec","Cell","groupName","sizes","names","ComparisonTopLeftHeader","ComparisonColorBar","TopLeftHeader","leftBarMargin","_props_statNameOverride","_props_statNameOverride1","isScreenshot","isTranspose","statsModalOpen","setStatsModalOpen","canHaveStatsModal","sidebarSectionContent","useSidebarSectionContentClassName","MaybeStagingControlsSidebarSection","SidebarForStatisticChoice","SettingsSidebarSection","MainHeaderRow","columnIndex","_props_extraSpaceRight_columnIndex","StatisticHeaderCells","makeOrdinalStyle","isHeader","columnWidthsInfo","common","paddingLeft","preferredPointerCell","setPreferredPointerCell","selectWidth","arrowWidth","arrowStyle","pointerInClassCell","pointerOverallCell","selectorCell","singlePointerCell","_props_extraSpaceRight","_makeOrdinalStyle","ordinalStyle","percentileStyle","cells","useSinglePointerCell","StatisticRowCells","_props_statisticStyle","Statistic","Percentile","Ordinal","PointerRowCells","statpath","PointerButtonsIndex","articleStatnameButtonStyle","manipulationButtonHeight","ManipulationButton","buttonColor","onClick","image","isMobile","HeadingDisplay","longname","includeDelete","onDelete","onReplace","manipulationJustify","sharedTypeOfAllArticles","_React_useState","isEditing","setIsEditing","currentUniverse","comparisonHeadStyle","useComparisonHeadStyle","manipulationButtons","StatisticPanelLongnameCell","ComparisonLongnameCell","_props_articleId","haveColorbar","bar","_useSortable","attributes","listeners","setNodeRef","transform","transition","isDragging","extraStyle","extraProps","CSS","value","StatisticNameCell","_props_displayName","StatisticName","ArrowUpOrDown","ExpansionButton","rowExpandedKey","expanded","setExpanded","_props_row","_props_row1","link","statisticDescriptor","elements","StatisticNameDisclaimer","paddedElements","highlightIndex","show","setShow","tooltipStyle","computeDisclaimerText","disclaimer","TableRowContainer","minHeight","isHighlighted","measureCanvas","measureTextWidthEm","fontSizeEm","widthPx","metrics","ordinal","total","type","en","num","data","loadOrdering","displayType","_props_overallFirstLast","_props_overallFirstLast1","getData","PointerButtonIndex","_props_disable","navigation","showSettings","useSettings","buttonStyle","disabled","buttonRef","pos","console","JSON","isAllowedToBeShown","PointerArrow","TableContents","_props_superHeaderSpec_headerSpecs_length","headerHeight","p","_spec_extraStat","contentHeight","shouldSetMinHeight","overallMinHeight","rowMinHeight","ncols","extraSpaceRight","columnFullWidths","extra","colIndex","widthsEach","simpleOrdinals","_ordinalWidthInEm","ordinalColumnWidthEm","ordinalWidth","padding","ordinalColumnPadding","percentileColumnWidthEm","percentileText","acc","curr","rowSpecsForItem","_props_leftHeaderSpec_groupNames","_props_leftHeaderSpec_groupNames1","SuperTableRow","statIndex","unused","Fragment","TransposeContext","createContext"],"mappings":"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"}