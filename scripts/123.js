"use strict";(self.webpackChunkassets=self.webpackChunkassets||[]).push([["123"],{93786:function(e,t,n){n.r(t),n.d(t,{ArrowUpOrDown:()=>M,StatisticPanel:()=>C});var r=n(72668),a=n(4050),l=n(6381),i=n(45437),o=n(69610),c=n(27281),s=n(72547);n(71540),n(50457);var u=n(22712),m=n(36195),d=n(59070),f=n(64455),g=n(70089),p=n(85588),y=n(65547);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],i=!0,o=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return l}}(e,t)||x(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}var P={display:"flex",flexDirection:"column",padding:"1px"},k=["Ordinal","Name","Value","","Percentile"],w=["15%","60%","20%","10%","20%"],A=[{textAlign:"right",paddingRight:"1em"},{textAlign:"left"},{textAlign:"right"},{textAlign:"left"},{textAlign:"right"}];function C(e){var t=(0,o.cI)(),n=(0,r.useRef)(null),c=(0,r.useRef)(null),u="ascending"===e.order,d=(0,r.useContext)(l.C.Context),p=(0,r.useMemo)(function(){var t=e.start-1,n=t+e.amount;n+e.amount>e.count&&(n=e.count);var r=e.count;return Array.from({length:n-t},function(e,n){return u?r-t-n-1:t+n})},[e.start,e.amount,e.count,u]),b=function(t){d.navigate((0,i._5)({universe:t,statname:e.statname,articleType:e.articleType,start:1,amount:e.amount,order:u?"descending":"ascending"}),{history:"push",scroll:{kind:"none"}})},C=function(n){return n>0&&e.articleNames[p[n-1]]===e.highlight?t.highlight:n%2==1?t.slightlyDifferentBackground:t.background},O=function(e,n){var r=h({},P);return 0===n&&(r.borderBottom="1px solid ".concat(t.textMain),r.fontWeight=500),r.backgroundColor=C(n),r.width=w[e],r=h({},r,A[e])},j=(0,m.Kn)(),M=a.Z.filter(function(t){return(0,g.Sr)(e.counts,t,e.statcol,e.articleType)>0}),_=function(){for(var t=[],n=0;n<e.articleNames.length;n++){var r=n+1,a=e.articleNames[n],l=e.data.value[n],i=e.data.populationPercentile[n],o=l.toLocaleString();t.push([r.toString(),a,o,i.toFixed(1)])}return[["Rank","Name","Value","Percentile"]].concat(function(e){if(Array.isArray(e))return v(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||x(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}(),B="".concat((0,i.Nw)(e.joinedString),".csv");return r.createElement(s.P,{screencap:function(r){return(0,y.Y2)({path:"".concat((0,i.Nw)(e.joinedString),".png"),overallWidth:2*c.current.offsetWidth,elementsToRender:[n.current,c.current]},r,t)},csvExportData:{csvData:_,csvFilename:B},hasUniverseSelector:!0,universes:M},r.createElement("div",null,r.createElement("div",{ref:n},r.createElement("div",{className:j},e.renderedStatname),r.createElement(N,{articleType:e.articleType,renderedOther:e.order})),r.createElement("div",{style:{marginBlockEnd:"16px"}}),r.createElement("div",{className:"serif",ref:c},r.createElement("div",{style:{display:"flex"}},k.map(function(e,t){return 0===t?r.createElement("div",{key:e,style:E(h({},O(t,0)),{display:"flex",justifyContent:"space-between",flexDirection:"row"})},r.createElement("div",null,e),r.createElement(D,{onClick:function(e){b(e)},isAscending:u})):r.createElement("div",{key:e,style:O(t,0)},e)})),p.map(function(t,n){return r.createElement("div",{key:t,style:{display:"flex",alignItems:"baseline",backgroundColor:C(n+1)}},r.createElement("div",{style:O(0,n+1)},t+1),r.createElement("div",{style:O(1,n+1)},r.createElement(I,{longname:e.articleNames[t]})),r.createElement("div",{style:O(2,n+1),className:"value"},r.createElement(f.$k,{statname:e.statname,value:e.data.value[t],isUnit:!1})),r.createElement("div",{style:O(3,n+1),className:"value_unit value"},r.createElement(f.$k,{statname:e.statname,value:e.data.value[t],isUnit:!0})),r.createElement("div",{style:O(4,n+1)},r.createElement(T,{ordinal:0,totalCountInClass:0,data:e.data,i:t})))})),r.createElement("div",{style:{marginBlockEnd:"1em"}}),r.createElement(S,e)))}function S(e){var t=(0,u.jg)(),n=(0,r.useContext)(l.C.Context),a=function(r){n.navigate((0,i._5)(E(h({universe:t},e),{start:r})),{history:"push",scroll:{kind:"none"}})},o=function(r){var a,l=e.start;"All"===r?(l=1,a=e.count):a="string"==typeof r?parseInt(r):r,l>e.count-a&&(l=e.count-a+1),n.navigate((0,i._5)({universe:t,statname:e.statname,articleType:e.articleType,start:l,amount:"All"===r?"All":a,order:e.order}),{history:"push",scroll:{kind:"none"}})},c=e.start,s=e.count,m=e.amount,d=Math.max(1,c-m),f=Math.max(Math.floor(s/m),1),g=Math.min((f-1)*m+1,c+m),p=Math.ceil(c/m);(0,r.useEffect)(function(){var r=function(r){n.navigate((0,i._5)({universe:t,statname:e.statname,articleType:e.articleType,amount:e.amount,order:e.order,start:(r-1)*m+1}),{history:"replace",scroll:{kind:"none"}})};p>f?r(f):p<1&&r(1)},[p,f,t,m,e.statname,e.articleType,e.amount,e.order,n]);var y=r.createElement(j,{changeStart:function(e){a(e)},currentPage:p,maxPages:f,prevPage:d,nextPage:g,perPage:m});return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",margin:"1em"}},r.createElement("div",{style:{width:"25%"}},r.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.createElement("a",n.link({kind:"dataCredit",hash:"#explanation_".concat((0,i.Nw)(e.explanationPage))},{scroll:{kind:"none"}}),"Data Explanation and Credit"))),r.createElement("div",{style:{width:"50%"}},r.createElement("div",{style:{margin:"auto",textAlign:"center"}},y)),r.createElement("div",{style:{width:"25%"}},r.createElement(O,{perPage:m,total:s,changeAmount:function(e){o(e)}})))}function O(e){var t=(0,o.cI)();return r.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.createElement("span",null,r.createElement("select",{style:{backgroundColor:t.background,color:t.textMain},defaultValue:e.perPage===e.total?"All":e.perPage,onChange:function(t){e.changeAmount(t.target.value)},className:"serif"},r.createElement("option",{value:"10"},"10"),r.createElement("option",{value:"20"},"20"),r.createElement("option",{value:"50"},"50"),r.createElement("option",{value:"100"},"100"),r.createElement("option",{value:"All"},"All"))," ","per page"))}function j(e){var t={margin:"0.5em"},n=b((0,r.useState)(e.currentPage.toString()),2),a=n[0],l=n[1],i=(0,r.useRef)(null);(0,r.useEffect)(function(){l(e.currentPage.toString()),document.activeElement===i.current&&i.current.select()},[e.currentPage]);var o=function(){var t=parseInt(a);t<1&&(t=1),t>e.maxPages&&(t=e.maxPages);var n=(t-1)*e.perPage+1;e.changeStart(n)},c={left:1===e.currentPage,right:e.currentPage===e.maxPages};return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement("button",{onClick:function(){e.changeStart(e.prevPage)},className:"serif",style:E(h({},t),{visibility:c.left?"hidden":"visible"}),disabled:c.left,"data-test-id":"-1"},r.createElement(p.vd,{direction:-1,disabled:c.left})),r.createElement("div",null,r.createElement("span",null,"Page: "),r.createElement("input",{ref:i,type:"text",pattern:"[0-9]*",style:{width:"3em",textAlign:"right",fontSize:"16px"},className:"serif",value:a,onKeyDown:function(e){"Enter"===e.key&&o()},onFocus:function(e){setTimeout(function(){e.target.select()},0)},onBlur:o,onChange:function(e){l(e.target.value)}}),r.createElement("span",null," of ",e.maxPages)),r.createElement("button",{onClick:function(){e.changeStart(e.nextPage)},className:"serif",style:E(h({},t),{visibility:c.right?"hidden":"visible"}),disabled:c.right,"data-test-id":"1"},r.createElement(p.vd,{direction:1,disabled:c.right})))}function I(e){var t=(0,u.jg)(),n=(0,o.cI)(),a=(0,r.useContext)(l.C.Context);return r.createElement("a",E(h({},a.link({kind:"article",longname:e.longname,universe:t},{scroll:{kind:"position",top:0}})),{style:{fontWeight:500,color:n.textMain,textDecoration:"none"}}),e.longname)}function N(e){var t=(0,u.jg)();return r.createElement("div",{className:(0,m.q0)()},(0,d.v)(t,e.articleType))}function T(e){var t=b((0,c.yu)("simple_ordinals"),1)[0];return r.createElement(f.gw,{ordinal:e.ordinal,total:e.totalCountInClass,percentileByPopulation:e.data.populationPercentile[e.i],simpleOrdinals:t})}function D(e){var t=e.onClick,n=e.isAscending,a=(0,u.jg)();return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("div",{style:{cursor:"pointer"},onClick:function(){t(a)},id:"statistic-panel-order-swap"},r.createElement(M,{direction:n?"up":"down",shouldAppearInScreenshot:!0})))}function M(e){var t;if((0,y.Lm)()&&!e.shouldAppearInScreenshot)return null;switch(e.direction){case"up":t="/sort-up.png";break;case"down":t="/sort-down.png";break;case"both":t="/sort-both.png"}return r.createElement("img",{src:t,alt:e.direction,style:{width:"16px",height:"16px"}})}}}]);
//# sourceMappingURL=123.js.map