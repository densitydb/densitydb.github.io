"use strict";(self.webpackChunkassets=self.webpackChunkassets||[]).push([["123"],{93786:function(e,t,n){n.r(t),n.d(t,{StatisticPanel:()=>k});var r=n(72668),a=n(46190),o=n(81011),i=n(28129),l=n(18848),c=n(4050),u=n(45375),s=n(6381),f=n(45437),d=n(41623),p=n(69610),m=n(72547);n(71540),n(50457);var v=n(22712),g=n(36195),y=n(59070),h=n(2414),b=n(70089),E=n(85588),S=n(65547),w=n(13499);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,a)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return o}}(e,t)||C(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}function k(e){var t,n=(0,r.useRef)(null),a=(0,r.useRef)(null),o=j((0,r.useState)(void 0),2),i=o[0],l=o[1],u=(0,r.useMemo)(function(){return(null==i?void 0:i.statcol)===void 0?c.Z:c.Z.filter(function(t){return(0,b.Sr)(e.counts,t,i.statcol,e.articleType)>0})},[null==i?void 0:i.statcol,e.counts,e.articleType]),s=(0,r.useMemo)(function(){if(void 0!==i){for(var e=[],t=0;t<i.articleNames.length;t++){var n=t+1,r=i.articleNames[t],a=i.data.value[t],o=i.data.populationPercentile[t],l=a.toLocaleString();e.push([n.toString(),r,l,o.toFixed(1)])}return{csvData:[["Rank","Name","Value","Percentile"]].concat(function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),csvFilename:"".concat((0,f.Nw)(i.renderedStatname),".csv")}}},[i]),d=(0,r.useMemo)(function(){if(void 0!==i)return function(){return{path:"".concat((0,f.Nw)(i.renderedStatname),".png"),overallWidth:2*a.current.offsetWidth,elementsToRender:[n.current,a.current]}}},[i]),p=(0,g.Kn)(),v=r.createElement(N,A(O({},e),{descriptor:e.descriptor,onDataLoaded:l,tableRef:a}));return r.createElement(m.P,{screencap:d?function(e,t){return(0,S.Y2)(d(),e,t)}:void 0,csvExportData:s,hasUniverseSelector:!0,universes:u},r.createElement("div",{ref:n},r.createElement("div",{className:p},null!=(t=null==i?void 0:i.renderedStatname)?t:"Table"),r.createElement(_,{articleType:e.articleType,renderedOther:e.order})),r.createElement("div",{style:{marginBlockEnd:"16px"}}),v)}function N(e){var t=e.onDataLoaded,n=e.tableRef,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["onDataLoaded","tableRef"]),s=(0,r.useMemo)(function(){var e,t,n,r,s;return e=c.universe,t=c.descriptor.statname,n=c.articleType,r=c.counts,(s=function(){var c,s,f,d,p,m;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){var u=[l,c];if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(v){switch(v.label){case 0:return c=i.Z.indexOf(t),[4,(0,u.uF)(e,l.Z[c],n)];case 1:return f=(s=j.apply(void 0,[v.sent(),2]))[0],d=s[1],p=(0,b.Sr)(r,e,o.Z[c],n),m=(0,b.Sr)(r,e,o.Z[c],"overall"),[2,{type:"success",data:f,articleNames:d,renderedStatname:t,statcol:o.Z[c],explanationPage:a.Z[c],totalCountInClass:p,totalCountOverall:m}]}})},function(){var e=this,t=arguments;return new Promise(function(n,r){var a=s.apply(e,t);function o(e){P(a,n,r,o,i,"next",e)}function i(e){P(a,n,r,o,i,"throw",e)}o(void 0)})})()},[c.universe,c.descriptor.statname,c.articleType,c.counts]),f=(0,h.a)(s);return((0,r.useEffect)(function(){var e;(null==(e=f.result)?void 0:e.type)==="success"&&t(f.result)},[f.result,t]),void 0===f.result)?r.createElement(d._h,{loading:!0}):"error"===f.result.type?r.createElement("div",null,"Error:",f.result.error):"success"===f.result.type?r.createElement(D,A(O({},c,f.result),{statDesc:c.descriptor,tableRef:n})):r.createElement(d._h,{loading:!0})}function D(e){var t=(0,p.cI)(),n=(0,r.useContext)(s.C.Context),a="ascending"===e.order,o=e.data.value.filter(function(e){return!isNaN(e)}).length,i="All"===e.amount?o:e.amount,l=(0,r.useMemo)(function(){if(0===o)return[];var t=e.start-1,n=t+i;return n+i>o&&(n=o),Array.from({length:n-t},function(e,n){return a?o-t-n-1:t+n})},[e.start,i,o,a]);return r.createElement("div",null,r.createElement("div",{className:"serif",ref:e.tableRef},r.createElement(T,{indexRange:l,props:e,isAscending:a,swapAscendingDescending:function(t){var r=a?"descending":"ascending";n.navigate((0,f._5)({universe:t,statDesc:e.statDesc,articleType:e.articleType,start:1,amount:i,order:r}),{history:"push",scroll:{kind:"none"}})},getRowBackgroundColor:function(n){return e.articleNames[l[n]]===e.highlight?t.highlight:n%2==0?t.slightlyDifferentBackground:t.background},widthLeftHeader:50,columnWidth:50,data:e.data,articleNames:e.articleNames})),r.createElement("div",{style:{marginBlockEnd:"1em"}}),r.createElement(I,A(O({},e),{count:o,amount:i})))}function T(e){var t,n=(0,v.jg)(),a=e.indexRange.map(function(t){return{statval:e.data.value[t],ordinal:t+1,percentileByPopulation:e.data.populationPercentile[t],statname:e.props.renderedStatname,articleType:e.props.articleType,totalCountInClass:e.props.totalCountInClass,totalCountOverall:e.props.totalCountOverall,overallFirstLast:{isFirst:!1,isLast:!1},unit:e.props.unit}}),o=e.articleNames.map(function(t,r){return{type:"statistic-panel-longname",longname:e.articleNames[e.indexRange[r]],currentUniverse:n}}),i=a.map(function(t,n){return[{type:"statistic-row",longname:e.articleNames[e.indexRange[n]],row:t,onlyColumns:["statval","statval_unit","statistic_ordinal","statistic_percentile"],simpleOrdinals:!0,onNavigate:void 0}]}),l=a.length>0?[{type:"statistic-name",renderedStatname:e.props.renderedStatname,longname:e.props.renderedStatname,currentUniverse:n,sortInfo:{onSort:function(){e.swapAscendingDescending(n)},sortDirection:e.isAscending?"up":"down"},center:!0,transpose:!0}]:[],c=e.indexRange.indexOf(e.articleNames.indexOf(null!=(t=e.props.highlight)?t:""));return r.createElement(w.C4,{leftHeaderSpec:{leftHeaderSpecs:o},rowSpecs:i,horizontalPlotSpecs:[],verticalPlotSpecs:[],topLeftSpec:{type:"top-left-header",statNameOverride:"Name"},superHeaderSpec:{headerSpecs:l,showBottomBar:!1},widthLeftHeader:e.widthLeftHeader,columnWidth:e.columnWidth,onlyColumns:["statval","statval_unit","statistic_ordinal","statistic_percentile"],simpleOrdinals:!0,highlightRowIndex:c})}function I(e){var t=(0,v.jg)(),n=(0,r.useContext)(s.C.Context),a=function(r){n.navigate((0,f._5)(A(O({universe:t},e),{start:r})),{history:"push",scroll:{kind:"none"}})},o=function(r){var a,o=e.start;"All"===r?(o=1,a=e.count):a="string"==typeof r?parseInt(r):r,o>e.count-a&&(o=e.count-a+1),n.navigate((0,f._5)({universe:t,statDesc:e.statDesc,articleType:e.articleType,start:o,amount:"All"===r?"All":a,order:e.order}),{history:"push",scroll:{kind:"none"}})},i=e.start,l=e.count,c=e.amount,u=Math.max(1,i-c),d=Math.max(Math.floor(l/c),1),p=Math.min((d-1)*c+1,i+c),m=Math.ceil(i/c);(0,r.useEffect)(function(){var r=function(r){n.navigate((0,f._5)({universe:t,statDesc:e.statDesc,articleType:e.articleType,amount:e.amount,order:e.order,start:(r-1)*c+1}),{history:"replace",scroll:{kind:"none"}})};m>d?r(d):m<1&&r(1)},[m,d,t,c,e.statDesc,e.articleType,e.amount,e.order,n]);var g=r.createElement(M,{changeStart:function(e){a(e)},currentPage:m,maxPages:d,prevPage:u,nextPage:p,perPage:c}),y=void 0!==e.explanationPage?r.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.createElement("a",n.link({kind:"dataCredit",hash:"#explanation_".concat((0,f.Nw)(e.explanationPage))},{scroll:{kind:"none"}}),"Data Explanation and Credit")):r.createElement("div",null);return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",margin:"1em"}},r.createElement("div",{style:{width:"25%"}},y),r.createElement("div",{style:{width:"50%"}},r.createElement("div",{style:{margin:"auto",textAlign:"center"}},g)),r.createElement("div",{style:{width:"25%"}},r.createElement(R,{perPage:c,total:l,changeAmount:function(e){o(e)}})))}function R(e){var t=(0,p.cI)();return r.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.createElement("span",null,r.createElement("select",{style:{backgroundColor:t.background,color:t.textMain},defaultValue:e.perPage===e.total?"All":e.perPage,onChange:function(t){e.changeAmount(t.target.value)},className:"serif"},r.createElement("option",{value:"10"},"10"),r.createElement("option",{value:"20"},"20"),r.createElement("option",{value:"50"},"50"),r.createElement("option",{value:"100"},"100"),r.createElement("option",{value:"All"},"All"))," ","per page"))}function M(e){var t={margin:"0.5em"},n=j((0,r.useState)(e.currentPage.toString()),2),a=n[0],o=n[1],i=(0,r.useRef)(null);(0,r.useEffect)(function(){o(e.currentPage.toString()),document.activeElement===i.current&&i.current.select()},[e.currentPage]);var l=function(){var t=parseInt(a);t<1&&(t=1),t>e.maxPages&&(t=e.maxPages);var n=(t-1)*e.perPage+1;e.changeStart(n)},c={left:1===e.currentPage,right:e.currentPage===e.maxPages};return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement("button",{onClick:function(){e.changeStart(e.prevPage)},className:"serif",style:A(O({},t),{visibility:c.left?"hidden":"visible"}),disabled:c.left,"data-test-id":"-1"},r.createElement(E.vd,{direction:-1,disabled:c.left})),r.createElement("div",null,r.createElement("span",null,"Page: "),r.createElement("input",{ref:i,type:"text",pattern:"[0-9]*",style:{width:"3em",textAlign:"right",fontSize:"16px"},className:"serif",value:a,onKeyDown:function(e){"Enter"===e.key&&l()},onFocus:function(e){setTimeout(function(){e.target.select()},0)},onBlur:l,onChange:function(e){o(e.target.value)}}),r.createElement("span",null," of ",e.maxPages)),r.createElement("button",{onClick:function(){e.changeStart(e.nextPage)},className:"serif",style:A(O({},t),{visibility:c.right?"hidden":"visible"}),disabled:c.right,"data-test-id":"1"},r.createElement(E.vd,{direction:1,disabled:c.right})))}function _(e){var t=(0,v.jg)(),n=(0,g.q0)();return r.createElement("div",{className:n},(0,y.v)(t,e.articleType))}},2414:function(e,t,n){n.d(t,{a:()=>i});var r=n(72668),a=n(51647);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t,n=(t=(0,r.useState)({promise:e,result:void 0,loading:!0}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],l=n[1];return(0,r.useEffect)(function(){l(function(t){return{promise:e,result:t.result,loading:!0}}),a.k.shared.startLoading(),e.then(function(t){l(function(n){return n.promise===e?{promise:e,result:t,loading:!1}:n})},function(){l(function(t){return t.promise===e?{promise:e,result:void 0,loading:!1}:t})}).finally(function(){a.k.shared.finishLoading()})},[e]),i}}}]);
//# sourceMappingURL=123.js.map