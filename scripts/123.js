"use strict";(self.webpackChunkassets=self.webpackChunkassets||[]).push([["123"],{64455:function(e,t,n){n.d(t,{JZ:()=>s,gw:()=>m,$k:()=>o});var r=n(72668),a=n(66547),l=n(27281),i=n(59070);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){var t,n,a=c((0,l.yu)("use_imperial"),1)[0],u=c((0,l.yu)("temperature_unit"),1)[0],o=(function(e){switch(e){case"percentage":return{renderValue:function(e){return{value:r.createElement("span",null,(100*e).toFixed(2)),unit:r.createElement("span",null,"%")}}};case"fatalities":return{renderValue:function(e){return{value:r.createElement("span",null,(0,i.HT)(e.toFixed(0))),unit:r.createElement("span",null,"\xa0")}}};case"fatalitiesPerCapita":return{renderValue:function(e){return{value:r.createElement("span",null,(1e5*e).toFixed(2)),unit:r.createElement("span",null,"/100k")}}};case"density":return{renderValue:function(e,t){var n="km",a=e;t&&(n="mi",a*=2.5899752356);var l=2;return a>10?l=0:a>1&&(l=1),{value:r.createElement("span",null,(0,i.HT)(a.toFixed(l))),unit:r.createElement("span",null,"/\xa0",n,r.createElement("sup",null,"2"))}}};case"population":return{renderValue:function(e){return e>1e9?{value:r.createElement("span",null,(e/1e9).toPrecision(3)),unit:r.createElement("span",null,"B")}:e>1e6?{value:r.createElement("span",null,(e/1e6).toPrecision(3)),unit:r.createElement("span",null,"m")}:e>1e4?{value:r.createElement("span",null,(e/1e3).toPrecision(3)),unit:r.createElement("span",null,"k")}:{value:r.createElement("span",null,(0,i.HT)(e.toFixed(0))),unit:r.createElement("span",null,"\xa0")}}};case"area":return{renderValue:function(e,t){var n,a=e;t?(a/=2.5899752356)<1?(n=r.createElement("span",null,"acres"),a*=640):n=r.createElement("span",null,"mi",r.createElement("sup",null,"2")):a<.01?(a*=1e6,n=r.createElement("span",null,"m",r.createElement("sup",null,"2"))):n=r.createElement("span",null,"km",r.createElement("sup",null,"2"));var l=3;a>100?l=0:a>10?l=1:a>1&&(l=2);var u=a.toFixed(l);return 0===l&&(u=(0,i.HT)(u)),{value:r.createElement("span",null,u),unit:n}}};case"distanceInKm":return{renderValue:function(e,t){var n=r.createElement("span",null,"km"),a=e;return t&&(n=r.createElement("span",null,"mi"),a/=1.60934),{value:r.createElement("span",null,a.toFixed(2)),unit:n}}};case"distanceInM":return{renderValue:function(e,t){var n="m",a=e;return t&&(n="ft",a*=3.28084),{value:r.createElement("span",null,(0,i.HT)(a.toFixed(0))),unit:r.createElement("span",null,n)}}};case"democraticMargin":return{renderValue:function(e){return{value:r.createElement(s,{value:e}),unit:r.createElement("span",null,"%")}}};case"temperature":return{renderValue:function(e,t,n){var a=r.createElement("span",null,"\xb0F"),l=e;return"celsius"===n&&(a=r.createElement("span",null,"\xb0C"),l=5/9*(e-32)),{value:r.createElement("span",null,l.toFixed(1)),unit:a}}};case"time":return{renderValue:function(e){var t=Math.floor(e),n=Math.floor((e-t)*60);return{value:r.createElement("span",null,t,":",n.toString().padStart(2,"0")),unit:r.createElement("span",null,"\xa0")}}};case"distancePerYear":return{renderValue:function(e,t){var n=100*e,a="cm";return t&&(a="in",n/=2.54),{value:r.createElement("span",null,n.toFixed(1)),unit:r.createElement("span",null,a,"/yr")}}};case"contaminantLevel":return{renderValue:function(e){return{value:r.createElement("span",null,e.toFixed(2)),unit:r.createElement("span",null,"Î¼g/m",r.createElement("sup",null,"3"))}}};case"number":return{renderValue:function(e){return{value:r.createElement("span",null,e.toFixed(3)),unit:r.createElement("span",null,"\xa0")}}};case"usd":return{renderValue:function(e){return e>1e9?{value:r.createElement("span",null,"$",(e/1e9).toPrecision(3)),unit:r.createElement("span",null,"B")}:e>1e6?{value:r.createElement("span",null,"$",(e/1e6).toPrecision(3)),unit:r.createElement("span",null,"m")}:e>1e3?{value:r.createElement("span",null,"$",(e/1e3).toPrecision(3)),unit:r.createElement("span",null,"k")}:{value:r.createElement("span",null,"$",(0,i.HT)(e.toFixed(0))),unit:r.createElement("span",null,"\xa0")}}};case"minutes":return{renderValue:function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return t>0?{value:r.createElement("span",null,t,":",n.toString().padStart(2,"0")),unit:r.createElement("span",null,"\xa0")}:{value:r.createElement("span",null,n),unit:r.createElement("span",null,"\xa0")}}}}})(null!=(n=e.unit)?n:(t=e.statname).includes("%")||t.includes("Change")||t.includes("(Grade)")?"percentage":t.includes("Total")&&t.includes("Fatalities")?"fatalities":t.includes("Fatalities Per Capita")?"fatalitiesPerCapita":t.includes("Density")?"density":t.includes("Elevation")?"distanceInM":t.startsWith("Population")?"population":"Area"===t?"area":t.includes("Mean distance")?"distanceInKm":t.includes("Election")||t.includes("Swing")?"democraticMargin":t.includes("high temp")||t.includes("low temp")||t.includes("high heat index")||t.includes("dewpt")?"temperature":"Mean sunny hours"===t?"time":"Rainfall"===t||"Snowfall [rain-equivalent]"===t?"distancePerYear":t.includes("Pollution")?"contaminantLevel":t.includes("(USD)")?"usd":t.includes("(min)")?"minutes":"number").renderValue(e.value,a,u),m=o.value,d=o.unit;return r.createElement("span",{style:e.style},e.isUnit?d:m)}function s(e){var t=(0,a.cI)();if(e.value!=e.value)return r.createElement("span",null,"N/A");var n=100*Math.abs(e.value),l=n>10?1:n>1?2:n>.1?3:4,i=n.toFixed(l),u=e.value>0?"D":"R",c=e.value>0?t.hueColors.blue:t.hueColors.red;return r.createElement("span",{style:{color:c,display:"flex",justifyContent:"flex-end"}},u,"+",i)}function m(e){if(e.ordinal>e.total)return r.createElement("span",null);var t=e.percentileByPopulation,n="".concat(t,"th percentile");return e.simpleOrdinals?n="".concat(t.toString(),"%"):t%10==1&&t%100!=11?n="".concat(t,"st percentile"):t%10==2&&t%100!=12?n="".concat(t,"nd percentile"):t%10==3&&t%100!=13&&(n="".concat(t,"rd percentile")),r.createElement("div",{className:"serif",style:{textAlign:"right",marginRight:e.simpleOrdinals?"5px":void 0}},n)}},93786:function(e,t,n){n.r(t),n.d(t,{ArrowUpOrDown:()=>N,StatisticPanel:()=>A});var r=n(72668),a=n(4050),l=n(6381),i=n(45437),u=n(66547),c=n(27281),o=n(79779);n(71540),n(50457);var s=n(22712),m=n(36195),d=n(59070),p=n(64455),f=n(70089),v=n(85588),g=n(65547);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(u)throw r}}return l}}(e,t)||x(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}var P={display:"flex",flexDirection:"column",padding:"1px"},k=["Ordinal","Name","Value","","Percentile"],w=["15%","60%","20%","10%","20%"],S=[{textAlign:"right",paddingRight:"1em"},{textAlign:"left"},{textAlign:"right"},{textAlign:"left"},{textAlign:"right"}];function A(e){var t=(0,u.cI)(),n=(0,r.useRef)(null),c=(0,r.useRef)(null),s="ascending"===e.order,d=(0,r.useContext)(l.C.Context),v=(0,r.useMemo)(function(){var t=e.start-1,n=t+e.amount;n+e.amount>e.count&&(n=e.count);var r=e.count;return Array.from({length:n-t},function(e,n){return s?r-t-n-1:t+n})},[e.start,e.amount,e.count,s]),g=function(t){d.navigate((0,i._5)({universe:t,statname:e.statname,articleType:e.articleType,start:1,amount:e.amount,order:s?"descending":"ascending"}),{history:"push",scroll:{kind:"none"}})},b=function(n){return n>0&&e.articleNames[v[n-1]]===e.highlight?t.highlight:n%2==1?t.slightlyDifferentBackground:t.background},A=function(e,n){var r=E({},P);return 0===n&&(r.borderBottom="1px solid ".concat(t.textMain),r.fontWeight=500),r.backgroundColor=b(n),r.width=w[e],r=E({},r,S[e])},O=(0,m.Kn)(),j=a.Z.filter(function(t){return(0,f.Sr)(e.counts,t,e.statcol,e.articleType)>0}),N=function(){for(var t=[],n=0;n<e.articleNames.length;n++){var r=n+1,a=e.articleNames[n],l=e.data.value[n],i=e.data.populationPercentile[n],u=l.toLocaleString();t.push([r.toString(),a,u,i.toFixed(1)])}return[["Rank","Name","Value","Percentile"]].concat(function(e){if(Array.isArray(e))return y(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||x(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}(),V="".concat((0,i.Nw)(e.joinedString),".csv");return r.createElement(o.P,{screencapElements:function(){return{path:"".concat((0,i.Nw)(e.joinedString),".png"),overallWidth:2*c.current.offsetWidth,elementsToRender:[n.current,c.current]}},csvExportData:{csvData:N,csvFilename:V},hasUniverseSelector:!0,universes:j},r.createElement("div",null,r.createElement("div",{ref:n},r.createElement("div",{className:O},e.renderedStatname),r.createElement(T,{articleType:e.articleType,renderedOther:e.order})),r.createElement("div",{style:{marginBlockEnd:"16px"}}),r.createElement("div",{className:"serif",ref:c},r.createElement("div",{style:{display:"flex"}},k.map(function(e,t){return 0===t?r.createElement("div",{key:e,style:h(E({},A(t,0)),{display:"flex",justifyContent:"space-between",flexDirection:"row"})},r.createElement("div",null,e),r.createElement(F,{onClick:function(e){g(e)},isAscending:s})):r.createElement("div",{key:e,style:A(t,0)},e)})),v.map(function(t,n){return r.createElement("div",{key:t,style:{display:"flex",alignItems:"baseline",backgroundColor:b(n+1)}},r.createElement("div",{style:A(0,n+1)},t+1),r.createElement("div",{style:A(1,n+1)},r.createElement(I,{longname:e.articleNames[t]})),r.createElement("div",{style:A(2,n+1),className:"value"},r.createElement(p.$k,{statname:e.statname,value:e.data.value[t],isUnit:!1})),r.createElement("div",{style:A(3,n+1),className:"value_unit value"},r.createElement(p.$k,{statname:e.statname,value:e.data.value[t],isUnit:!0})),r.createElement("div",{style:A(4,n+1)},r.createElement(M,{ordinal:0,totalCountInClass:0,data:e.data,i:t})))})),r.createElement("div",{style:{marginBlockEnd:"1em"}}),r.createElement(C,e)))}function C(e){var t=(0,s.jg)(),n=(0,r.useContext)(l.C.Context),a=function(r){n.navigate((0,i._5)(h(E({universe:t},e),{start:r})),{history:"push",scroll:{kind:"none"}})},u=function(r){var a,l=e.start;"All"===r?(l=1,a=e.count):a="string"==typeof r?parseInt(r):r,l>e.count-a&&(l=e.count-a+1),n.navigate((0,i._5)({universe:t,statname:e.statname,articleType:e.articleType,start:l,amount:"All"===r?"All":a,order:e.order}),{history:"push",scroll:{kind:"none"}})},c=e.start,o=e.count,m=e.amount,d=Math.max(1,c-m),p=Math.max(Math.floor(o/m),1),f=Math.min((p-1)*m+1,c+m),v=Math.ceil(c/m);(0,r.useEffect)(function(){var r=function(r){n.navigate((0,i._5)({universe:t,statname:e.statname,articleType:e.articleType,amount:e.amount,order:e.order,start:(r-1)*m+1}),{history:"replace",scroll:{kind:"none"}})};v>p?r(p):v<1&&r(1)},[v,p,t,m,e.statname,e.articleType,e.amount,e.order,n]);var g=r.createElement(j,{changeStart:function(e){a(e)},currentPage:v,maxPages:p,prevPage:d,nextPage:f,perPage:m});return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",margin:"1em"}},r.createElement("div",{style:{width:"25%"}},r.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.createElement("a",n.link({kind:"dataCredit",hash:"#explanation_".concat((0,i.Nw)(e.explanationPage))},{scroll:{kind:"none"}}),"Data Explanation and Credit"))),r.createElement("div",{style:{width:"50%"}},r.createElement("div",{style:{margin:"auto",textAlign:"center"}},g)),r.createElement("div",{style:{width:"25%"}},r.createElement(O,{perPage:m,total:o,changeAmount:function(e){u(e)}})))}function O(e){var t=(0,u.cI)();return r.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.createElement("span",null,r.createElement("select",{style:{backgroundColor:t.background,color:t.textMain},defaultValue:e.perPage===e.total?"All":e.perPage,onChange:function(t){e.changeAmount(t.target.value)},className:"serif"},r.createElement("option",{value:"10"},"10"),r.createElement("option",{value:"20"},"20"),r.createElement("option",{value:"50"},"50"),r.createElement("option",{value:"100"},"100"),r.createElement("option",{value:"All"},"All"))," ","per page"))}function j(e){var t={margin:"0.5em"},n=b((0,r.useState)(e.currentPage.toString()),2),a=n[0],l=n[1],i=(0,r.useRef)(null);(0,r.useEffect)(function(){l(e.currentPage.toString()),document.activeElement===i.current&&i.current.select()},[e.currentPage]);var u=function(){var t=parseInt(a);t<1&&(t=1),t>e.maxPages&&(t=e.maxPages);var n=(t-1)*e.perPage+1;e.changeStart(n)},c={left:1===e.currentPage,right:e.currentPage===e.maxPages};return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement("button",{onClick:function(){e.changeStart(e.prevPage)},className:"serif",style:h(E({},t),{visibility:c.left?"hidden":"visible"}),disabled:c.left,"data-test-id":"-1"},r.createElement(v.vd,{direction:-1,disabled:c.left})),r.createElement("div",null,r.createElement("span",null,"Page: "),r.createElement("input",{ref:i,type:"text",pattern:"[0-9]*",style:{width:"3em",textAlign:"right",fontSize:"16px"},className:"serif",value:a,onKeyDown:function(e){"Enter"===e.key&&u()},onFocus:function(e){setTimeout(function(){e.target.select()},0)},onBlur:u,onChange:function(e){l(e.target.value)}}),r.createElement("span",null," of ",e.maxPages)),r.createElement("button",{onClick:function(){e.changeStart(e.nextPage)},className:"serif",style:h(E({},t),{visibility:c.right?"hidden":"visible"}),disabled:c.right,"data-test-id":"1"},r.createElement(v.vd,{direction:1,disabled:c.right})))}function I(e){var t=(0,s.jg)(),n=(0,u.cI)(),a=(0,r.useContext)(l.C.Context);return r.createElement("a",h(E({},a.link({kind:"article",longname:e.longname,universe:t},{scroll:{kind:"position",top:0}})),{style:{fontWeight:500,color:n.textMain,textDecoration:"none"}}),e.longname)}function T(e){var t=(0,s.jg)();return r.createElement("div",{className:(0,m.q0)()},(0,d.v)(t,e.articleType)," ","(",e.renderedOther,")")}function M(e){var t=b((0,c.yu)("simple_ordinals"),1)[0];return r.createElement(p.gw,{ordinal:e.ordinal,total:e.totalCountInClass,percentileByPopulation:e.data.populationPercentile[e.i],simpleOrdinals:t})}function F(e){var t=e.onClick,n=e.isAscending,a=(0,s.jg)();return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("div",{style:{cursor:"pointer"},onClick:function(){t(a)},id:"statistic-panel-order-swap"},r.createElement(N,{direction:n?"up":"down",shouldAppearInScreenshot:!0})))}function N(e){var t;if((0,g.Lm)()&&!e.shouldAppearInScreenshot)return null;switch(e.direction){case"up":t="/sort-up.png";break;case"down":t="/sort-down.png";break;case"both":t="/sort-both.png"}return r.createElement("img",{src:t,alt:e.direction,style:{width:"16px",height:"16px"}})}}}]);
//# sourceMappingURL=123.js.map