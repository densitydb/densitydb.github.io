"use strict";(self.webpackChunkassets=self.webpackChunkassets||[]).push([["101"],{15638:function(t,r,n){n.r(r),n.d(r,{extendBoxes:()=>S,boundingBox:()=>w,geometry:()=>v,partitionLongnames:()=>A});var e=n(11289),o=n.n(e),a=n(50038),u=n.n(a),i=n(2194);function c(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return c(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,r)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,r){var n,e,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=i(0),u.throw=i(1),u.return=i(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(i){return function(c){var l=[i,c];if(n)throw TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(a=0)),a;)try{if(n=1,e&&(o=2&l[0]?e.return:l[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,l[1])).done)return o;switch(e=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,e=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=r.call(t,a)}catch(t){l=[6,t],e=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function s(t){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&t[r],e=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var p=n(86869),y=n(20110);function b(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function h(t,r,n,e,o,a,u){try{var i=t[a](u),c=i.value}catch(t){n(t);return}i.done?r(c):Promise.resolve(c).then(e,o)}function m(t){return function(){var r=this,n=arguments;return new Promise(function(e,o){var a=t.apply(r,n);function u(t){h(a,e,o,u,i,"next",t)}function i(t){h(a,e,o,u,i,"throw",t)}u(void 0)})}}function d(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var n,e,o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var a=[],u=!0,i=!1;try{for(o=o.call(t);!(u=(n=o.next()).done)&&(a.push(n.value),!r||a.length!==r);u=!0);}catch(t){i=!0,e=t}finally{try{u||null==o.return||o.return()}finally{if(i)throw e}}return a}}(t,r)||function(t,r){if(t){if("string"==typeof t)return b(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,r)}}(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,r){var n,e,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=i(0),u.throw=i(1),u.return=i(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(i){return function(c){var l=[i,c];if(n)throw TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(a=0)),a;)try{if(n=1,e&&(o=2&l[0]?e.return:l[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,l[1])).done)return o;switch(e=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,e=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=r.call(t,a)}catch(t){l=[6,t],e=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function v(t){return"multipolygon"===t.geometry?{type:"MultiPolygon",coordinates:t.multipolygon.polygons.map(function(t){return t.rings.map(function(t){return t.coords.map(function(t){return[t.lon,t.lat]})})})}:{type:"Polygon",coordinates:t.polygon.rings.map(function(t){return t.coords.map(function(t){return[t.lon,t.lat]})})}}function w(t){var r=o()(t);return new(u()).LngLatBounds(new(u()).LngLat(r[0],r[1]),new(u()).LngLat(r[2],r[3]))}function S(t){return t.reduce(function(t,r){return t.extend(r)},new(u()).LngLatBounds)}function x(t){var r=u().MercatorCoordinate.fromLngLat(t.getSouthWest()),n=u().MercatorCoordinate.fromLngLat(t.getNorthEast()),e=n.x-r.x;return e<0&&(e+=1),Math.abs(e*(n.y-r.y))}function A(t){return m(function(){var r,n,e,o,a,u,c,b;return g(this,function(h){switch(h.label){case 0:return r=.1,[4,Promise.all(t.map(function(t){return m(function(){return g(this,function(r){switch(r.label){case 0:return[4,(0,p.aW)(t)];case 1:return[2,w.apply(void 0,[v.apply(void 0,[r.sent()])])]}})})()}))];case 1:n=Array.from(h.sent().entries()).sort(function(t,r){var n=d(t,2)[1],e=d(r,2)[1];return n.getCenter().lat-e.getCenter().lat}).sort(function(t,r){var n=d(t,2)[1],e=d(r,2)[1];return n.getCenter().lng-e.getCenter().lng});try{e=!0,o=!1,a=void 0;try{var A,L,k;for(u=(A=n.length,L=function(t){var e;return(e=t.map(function(t){return n[t][1]})).reduce(function(t,r){return t+x(r)},0)/x(S(e))>r},k=Date.now()+500,function t(r,n){var e,o;return f(this,function(a){switch(a.label){case 0:if(e=function(e){var o;return f(this,function(a){switch(a.label){case 0:if(!L(l(n[e]).concat([r])))return[3,2];return o=n.map(function(t,n){return e===n?l(t).concat([r]):t}),[5,s(t(r+1,o))];case 1:a.sent(),a.label=2;case 2:return[2]}})},Date.now()>k)throw Error("out of time");if(r!==A)return[3,2];return[4,n];case 1:case 3:return a.sent(),[2];case 2:if(0!==n.length)return[3,4];return[5,s(t(r+1,[[r]]))];case 4:o=0,a.label=5;case 5:if(!(o<n.length))return[3,8];return[5,s(e(o))];case 6:a.sent(),a.label=7;case 7:return o++,[3,5];case 8:return[5,s(t(r+1,l(n).concat([[r]])))];case 9:return a.sent(),[2]}})}(0,[]))[Symbol.iterator]();!(e=(c=u.next()).done);e=!0)return b=c.value.map(function(t){return t.map(function(t){return n[t][0]}).sort(function(t,r){return t-r})}).sort(function(t,r){return(0,i.VV$)(t)-(0,i.VV$)(r)}),[2,b]}catch(t){o=!0,a=t}finally{try{e||null==u.return||u.return()}finally{if(o)throw a}}}catch(t){y.warn("Error partitioning maps",t)}return[2,[t.map(function(t,r){return r})]]}})})()}},18925:function(){}}]);
//# sourceMappingURL=101.js.map